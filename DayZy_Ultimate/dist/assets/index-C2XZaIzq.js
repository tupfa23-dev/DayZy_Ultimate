var c6=Object.defineProperty;var u6=(t,e,n)=>e in t?c6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var A0=(t,e,n)=>u6(t,typeof e!="symbol"?e+"":e,n);function d6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Da(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sM={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=Symbol.for("react.element"),f6=Symbol.for("react.portal"),h6=Symbol.for("react.fragment"),p6=Symbol.for("react.strict_mode"),m6=Symbol.for("react.profiler"),g6=Symbol.for("react.provider"),v6=Symbol.for("react.context"),y6=Symbol.for("react.forward_ref"),E6=Symbol.for("react.suspense"),b6=Symbol.for("react.memo"),w6=Symbol.for("react.lazy"),C1=Symbol.iterator;function _6(t){return t===null||typeof t!="object"?null:(t=C1&&t[C1]||t["@@iterator"],typeof t=="function"?t:null)}var lM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cM=Object.assign,uM={};function Bc(t,e,n){this.props=t,this.context=e,this.refs=uM,this.updater=n||lM}Bc.prototype.isReactComponent={};Bc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dM(){}dM.prototype=Bc.prototype;function B_(t,e,n){this.props=t,this.context=e,this.refs=uM,this.updater=n||lM}var $_=B_.prototype=new dM;$_.constructor=B_;cM($_,Bc.prototype);$_.isPureReactComponent=!0;var k1=Array.isArray,fM=Object.prototype.hasOwnProperty,W_={current:null},hM={key:!0,ref:!0,__self:!0,__source:!0};function pM(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)fM.call(e,r)&&!hM.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:gf,type:t,key:a,ref:o,props:i,_owner:W_.current}}function S6(t,e){return{$$typeof:gf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function H_(t){return typeof t=="object"&&t!==null&&t.$$typeof===gf}function A6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var I1=/\/+/g;function x0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?A6(""+t.key):e.toString(36)}function Np(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gf:case f6:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+x0(o,0):r,k1(i)?(n="",t!=null&&(n=t.replace(I1,"$&/")+"/"),Np(i,e,n,"",function(c){return c})):i!=null&&(H_(i)&&(i=S6(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(I1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",k1(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+x0(a,s);o+=Np(a,e,n,l,i)}else if(l=_6(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+x0(a,s++),o+=Np(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jh(t,e,n){if(t==null)return t;var r=[],i=0;return Np(t,r,"","",function(a){return e.call(n,a,i++)}),r}function x6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rr={current:null},Mp={transition:null},T6={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:Mp,ReactCurrentOwner:W_};function mM(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:jh,forEach:function(t,e,n){jh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jh(t,function(){e++}),e},toArray:function(t){return jh(t,function(e){return e})||[]},only:function(t){if(!H_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=Bc;Ne.Fragment=h6;Ne.Profiler=m6;Ne.PureComponent=B_;Ne.StrictMode=p6;Ne.Suspense=E6;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T6;Ne.act=mM;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cM({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=W_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)fM.call(e,l)&&!hM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:gf,type:t.type,key:i,ref:a,props:r,_owner:o}};Ne.createContext=function(t){return t={$$typeof:v6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:g6,_context:t},t.Consumer=t};Ne.createElement=pM;Ne.createFactory=function(t){var e=pM.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:y6,render:t}};Ne.isValidElement=H_;Ne.lazy=function(t){return{$$typeof:w6,_payload:{_status:-1,_result:t},_init:x6}};Ne.memo=function(t,e){return{$$typeof:b6,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=Mp.transition;Mp.transition={};try{t()}finally{Mp.transition=e}};Ne.unstable_act=mM;Ne.useCallback=function(t,e){return rr.current.useCallback(t,e)};Ne.useContext=function(t){return rr.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return rr.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return rr.current.useEffect(t,e)};Ne.useId=function(){return rr.current.useId()};Ne.useImperativeHandle=function(t,e,n){return rr.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return rr.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return rr.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return rr.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return rr.current.useReducer(t,e,n)};Ne.useRef=function(t){return rr.current.useRef(t)};Ne.useState=function(t){return rr.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return rr.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return rr.current.useTransition()};Ne.version="18.3.1";sM.exports=Ne;var v=sM.exports;const f=Da(v),gM=d6({__proto__:null,default:f},[v]);var vM={exports:{}},Or={},yM={exports:{}},EM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,q){var ne=W.length;W.push(q);e:for(;0<ne;){var we=ne-1>>>1,z=W[we];if(0<i(z,q))W[we]=q,W[ne]=z,ne=we;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var q=W[0],ne=W.pop();if(ne!==q){W[0]=ne;e:for(var we=0,z=W.length,re=z>>>1;we<re;){var pe=2*(we+1)-1,Me=W[pe],te=pe+1,Oe=W[te];if(0>i(Me,ne))te<z&&0>i(Oe,Me)?(W[we]=Oe,W[te]=ne,we=te):(W[we]=Me,W[pe]=ne,we=pe);else if(te<z&&0>i(Oe,ne))W[we]=Oe,W[te]=ne,we=te;else break e}}return q}function i(W,q){var ne=W.sortIndex-q.sortIndex;return ne!==0?ne:W.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,h=3,m=!1,g=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(W){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=W)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function A(W){if(y=!1,T(W),!g)if(n(l)!==null)g=!0,he(P);else{var q=n(c);q!==null&&Z(A,q.startTime-W)}}function P(W,q){g=!1,y&&(y=!1,b(x),x=-1),m=!0;var ne=h;try{for(T(q),d=n(l);d!==null&&(!(d.expirationTime>q)||W&&!R());){var we=d.callback;if(typeof we=="function"){d.callback=null,h=d.priorityLevel;var z=we(d.expirationTime<=q);q=t.unstable_now(),typeof z=="function"?d.callback=z:d===n(l)&&r(l),T(q)}else r(l);d=n(l)}if(d!==null)var re=!0;else{var pe=n(c);pe!==null&&Z(A,pe.startTime-q),re=!1}return re}finally{d=null,h=ne,m=!1}}var k=!1,S=null,x=-1,I=5,D=-1;function R(){return!(t.unstable_now()-D<I)}function O(){if(S!==null){var W=t.unstable_now();D=W;var q=!0;try{q=S(!0,W)}finally{q?N():(k=!1,S=null)}}else k=!1}var N;if(typeof w=="function")N=function(){w(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,oe=Q.port2;Q.port1.onmessage=O,N=function(){oe.postMessage(null)}}else N=function(){E(O,0)};function he(W){S=W,k||(k=!0,N())}function Z(W,q){x=E(function(){W(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,he(P))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var ne=h;h=q;try{return W()}finally{h=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ne=h;h=W;try{return q()}finally{h=ne}},t.unstable_scheduleCallback=function(W,q,ne){var we=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?we+ne:we):ne=we,W){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ne+z,W={id:u++,callback:q,priorityLevel:W,startTime:ne,expirationTime:z,sortIndex:-1},ne>we?(W.sortIndex=ne,e(c,W),n(l)===null&&W===n(c)&&(y?(b(x),x=-1):y=!0,Z(A,ne-we))):(W.sortIndex=z,e(l,W),g||m||(g=!0,he(P))),W},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(W){var q=h;return function(){var ne=h;h=q;try{return W.apply(this,arguments)}finally{h=ne}}}})(EM);yM.exports=EM;var C6=yM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k6=v,Pr=C6;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bM=new Set,Sd={};function al(t,e){fc(t,e),fc(t+"Capture",e)}function fc(t,e){for(Sd[t]=e,t=0;t<e.length;t++)bM.add(e[t])}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tb=Object.prototype.hasOwnProperty,I6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P1={},R1={};function P6(t){return tb.call(R1,t)?!0:tb.call(P1,t)?!1:I6.test(t)?R1[t]=!0:(P1[t]=!0,!1)}function R6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function D6(t,e,n,r){if(e===null||typeof e>"u"||R6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ir(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cn[t]=new ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cn[e]=new ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cn[t]=new ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cn[t]=new ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cn[t]=new ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cn[t]=new ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cn[t]=new ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cn[t]=new ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cn[t]=new ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var q_=/[\-:]([a-z])/g;function G_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(q_,G_);Cn[e]=new ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(q_,G_);Cn[e]=new ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(q_,G_);Cn[e]=new ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cn[t]=new ir(t,1,!1,t.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cn[t]=new ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function K_(t,e,n,r){var i=Cn.hasOwnProperty(e)?Cn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(D6(e,n,i,r)&&(n=null),r||i===null?P6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oa=k6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fh=Symbol.for("react.element"),Nl=Symbol.for("react.portal"),Ml=Symbol.for("react.fragment"),Y_=Symbol.for("react.strict_mode"),nb=Symbol.for("react.profiler"),wM=Symbol.for("react.provider"),_M=Symbol.for("react.context"),Q_=Symbol.for("react.forward_ref"),rb=Symbol.for("react.suspense"),ib=Symbol.for("react.suspense_list"),X_=Symbol.for("react.memo"),Ya=Symbol.for("react.lazy"),SM=Symbol.for("react.offscreen"),D1=Symbol.iterator;function xu(t){return t===null||typeof t!="object"?null:(t=D1&&t[D1]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,T0;function Wu(t){if(T0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);T0=e&&e[1]||""}return`
`+T0+t}var C0=!1;function k0(t,e){if(!t||C0)return"";C0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{C0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wu(t):""}function O6(t){switch(t.tag){case 5:return Wu(t.type);case 16:return Wu("Lazy");case 13:return Wu("Suspense");case 19:return Wu("SuspenseList");case 0:case 2:case 15:return t=k0(t.type,!1),t;case 11:return t=k0(t.type.render,!1),t;case 1:return t=k0(t.type,!0),t;default:return""}}function ab(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ml:return"Fragment";case Nl:return"Portal";case nb:return"Profiler";case Y_:return"StrictMode";case rb:return"Suspense";case ib:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _M:return(t.displayName||"Context")+".Consumer";case wM:return(t._context.displayName||"Context")+".Provider";case Q_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X_:return e=t.displayName||null,e!==null?e:ab(t.type)||"Memo";case Ya:e=t._payload,t=t._init;try{return ab(t(e))}catch{}}return null}function N6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ab(e);case 8:return e===Y_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function M6(t){var e=AM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vh(t){t._valueTracker||(t._valueTracker=M6(t))}function xM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=AM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ob(t,e){var n=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function O1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ro(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TM(t,e){e=e.checked,e!=null&&K_(t,"checked",e,!1)}function sb(t,e){TM(t,e);var n=Ro(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lb(t,e.type,n):e.hasOwnProperty("defaultValue")&&lb(t,e.type,Ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function N1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lb(t,e,n){(e!=="number"||gm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hu=Array.isArray;function Xl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ro(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Hu(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ro(n)}}function CM(t,e){var n=Ro(e.value),r=Ro(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function L1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ub(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uh,IM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uh=Uh||document.createElement("div"),Uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ad(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L6=["Webkit","ms","Moz","O"];Object.keys(nd).forEach(function(t){L6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nd[e]=nd[t]})});function PM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nd.hasOwnProperty(t)&&nd[t]?(""+e).trim():e+"px"}function RM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=PM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var j6=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function db(t,e){if(e){if(j6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function fb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hb=null;function Z_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pb=null,Zl=null,Jl=null;function j1(t){if(t=Ef(t)){if(typeof pb!="function")throw Error(X(280));var e=t.stateNode;e&&(e=gv(e),pb(t.stateNode,t.type,e))}}function DM(t){Zl?Jl?Jl.push(t):Jl=[t]:Zl=t}function OM(){if(Zl){var t=Zl,e=Jl;if(Jl=Zl=null,j1(t),e)for(t=0;t<e.length;t++)j1(e[t])}}function NM(t,e){return t(e)}function MM(){}var I0=!1;function LM(t,e,n){if(I0)return t(e,n);I0=!0;try{return NM(t,e,n)}finally{I0=!1,(Zl!==null||Jl!==null)&&(MM(),OM())}}function xd(t,e){var n=t.stateNode;if(n===null)return null;var r=gv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var mb=!1;if(ma)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){mb=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{mb=!1}function F6(t,e,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var rd=!1,vm=null,ym=!1,gb=null,V6={onError:function(t){rd=!0,vm=t}};function U6(t,e,n,r,i,a,o,s,l){rd=!1,vm=null,F6.apply(V6,arguments)}function z6(t,e,n,r,i,a,o,s,l){if(U6.apply(this,arguments),rd){if(rd){var c=vm;rd=!1,vm=null}else throw Error(X(198));ym||(ym=!0,gb=c)}}function ol(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F1(t){if(ol(t)!==t)throw Error(X(188))}function B6(t){var e=t.alternate;if(!e){if(e=ol(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return F1(i),t;if(a===r)return F1(i),e;a=a.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function FM(t){return t=B6(t),t!==null?VM(t):null}function VM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VM(t);if(e!==null)return e;t=t.sibling}return null}var UM=Pr.unstable_scheduleCallback,V1=Pr.unstable_cancelCallback,$6=Pr.unstable_shouldYield,W6=Pr.unstable_requestPaint,Ft=Pr.unstable_now,H6=Pr.unstable_getCurrentPriorityLevel,J_=Pr.unstable_ImmediatePriority,zM=Pr.unstable_UserBlockingPriority,Em=Pr.unstable_NormalPriority,q6=Pr.unstable_LowPriority,BM=Pr.unstable_IdlePriority,fv=null,ki=null;function G6(t){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(fv,t,void 0,(t.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:Q6,K6=Math.log,Y6=Math.LN2;function Q6(t){return t>>>=0,t===0?32:31-(K6(t)/Y6|0)|0}var zh=64,Bh=4194304;function qu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=qu(s):(a&=o,a!==0&&(r=qu(a)))}else o=n&~i,o!==0?r=qu(o):a!==0&&(r=qu(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-si(e),i=1<<n,r|=t[n],e&=~i;return r}function X6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-si(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=X6(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function vb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $M(){var t=zh;return zh<<=1,!(zh&4194240)&&(zh=64),t}function P0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-si(e),t[e]=n}function J6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-si(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function eS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-si(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ye=0;function WM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HM,tS,qM,GM,KM,yb=!1,$h=[],go=null,vo=null,yo=null,Td=new Map,Cd=new Map,Ja=[],eW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U1(t,e){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Td.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cd.delete(e.pointerId)}}function Cu(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ef(e),e!==null&&tS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tW(t,e,n,r,i){switch(e){case"focusin":return go=Cu(go,t,e,n,r,i),!0;case"dragenter":return vo=Cu(vo,t,e,n,r,i),!0;case"mouseover":return yo=Cu(yo,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Td.set(a,Cu(Td.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Cd.set(a,Cu(Cd.get(a)||null,t,e,n,r,i)),!0}return!1}function YM(t){var e=gs(t.target);if(e!==null){var n=ol(e);if(n!==null){if(e=n.tag,e===13){if(e=jM(n),e!==null){t.blockedOn=e,KM(t.priority,function(){qM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Eb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hb=r,n.target.dispatchEvent(r),hb=null}else return e=Ef(n),e!==null&&tS(e),t.blockedOn=n,!1;e.shift()}return!0}function z1(t,e,n){Lp(t)&&n.delete(e)}function nW(){yb=!1,go!==null&&Lp(go)&&(go=null),vo!==null&&Lp(vo)&&(vo=null),yo!==null&&Lp(yo)&&(yo=null),Td.forEach(z1),Cd.forEach(z1)}function ku(t,e){t.blockedOn===e&&(t.blockedOn=null,yb||(yb=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,nW)))}function kd(t){function e(i){return ku(i,t)}if(0<$h.length){ku($h[0],t);for(var n=1;n<$h.length;n++){var r=$h[n];r.blockedOn===t&&(r.blockedOn=null)}}for(go!==null&&ku(go,t),vo!==null&&ku(vo,t),yo!==null&&ku(yo,t),Td.forEach(e),Cd.forEach(e),n=0;n<Ja.length;n++)r=Ja[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ja.length&&(n=Ja[0],n.blockedOn===null);)YM(n),n.blockedOn===null&&Ja.shift()}var ec=Oa.ReactCurrentBatchConfig,wm=!0;function rW(t,e,n,r){var i=Ye,a=ec.transition;ec.transition=null;try{Ye=1,nS(t,e,n,r)}finally{Ye=i,ec.transition=a}}function iW(t,e,n,r){var i=Ye,a=ec.transition;ec.transition=null;try{Ye=4,nS(t,e,n,r)}finally{Ye=i,ec.transition=a}}function nS(t,e,n,r){if(wm){var i=Eb(t,e,n,r);if(i===null)U0(t,e,r,_m,n),U1(t,r);else if(tW(i,t,e,n,r))r.stopPropagation();else if(U1(t,r),e&4&&-1<eW.indexOf(t)){for(;i!==null;){var a=Ef(i);if(a!==null&&HM(a),a=Eb(t,e,n,r),a===null&&U0(t,e,r,_m,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else U0(t,e,r,null,n)}}var _m=null;function Eb(t,e,n,r){if(_m=null,t=Z_(r),t=gs(t),t!==null)if(e=ol(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _m=t,null}function QM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H6()){case J_:return 1;case zM:return 4;case Em:case q6:return 16;case BM:return 536870912;default:return 16}default:return 16}}var so=null,rS=null,jp=null;function XM(){if(jp)return jp;var t,e=rS,n=e.length,r,i="value"in so?so.value:so.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return jp=i.slice(t,1<r?1-r:void 0)}function Fp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wh(){return!0}function B1(){return!1}function Nr(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wh:B1,this.isPropagationStopped=B1,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wh)},persist:function(){},isPersistent:Wh}),e}var $c={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iS=Nr($c),yf=Tt({},$c,{view:0,detail:0}),aW=Nr(yf),R0,D0,Iu,hv=Tt({},yf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Iu&&(Iu&&t.type==="mousemove"?(R0=t.screenX-Iu.screenX,D0=t.screenY-Iu.screenY):D0=R0=0,Iu=t),R0)},movementY:function(t){return"movementY"in t?t.movementY:D0}}),$1=Nr(hv),oW=Tt({},hv,{dataTransfer:0}),sW=Nr(oW),lW=Tt({},yf,{relatedTarget:0}),O0=Nr(lW),cW=Tt({},$c,{animationName:0,elapsedTime:0,pseudoElement:0}),uW=Nr(cW),dW=Tt({},$c,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fW=Nr(dW),hW=Tt({},$c,{data:0}),W1=Nr(hW),pW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gW[t])?!!e[t]:!1}function aS(){return vW}var yW=Tt({},yf,{key:function(t){if(t.key){var e=pW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aS,charCode:function(t){return t.type==="keypress"?Fp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EW=Nr(yW),bW=Tt({},hv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H1=Nr(bW),wW=Tt({},yf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aS}),_W=Nr(wW),SW=Tt({},$c,{propertyName:0,elapsedTime:0,pseudoElement:0}),AW=Nr(SW),xW=Tt({},hv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TW=Nr(xW),CW=[9,13,27,32],oS=ma&&"CompositionEvent"in window,id=null;ma&&"documentMode"in document&&(id=document.documentMode);var kW=ma&&"TextEvent"in window&&!id,ZM=ma&&(!oS||id&&8<id&&11>=id),q1=" ",G1=!1;function JM(t,e){switch(t){case"keyup":return CW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ll=!1;function IW(t,e){switch(t){case"compositionend":return e2(e);case"keypress":return e.which!==32?null:(G1=!0,q1);case"textInput":return t=e.data,t===q1&&G1?null:t;default:return null}}function PW(t,e){if(Ll)return t==="compositionend"||!oS&&JM(t,e)?(t=XM(),jp=rS=so=null,Ll=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZM&&e.locale!=="ko"?null:e.data;default:return null}}var RW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RW[t.type]:e==="textarea"}function t2(t,e,n,r){DM(r),e=Sm(e,"onChange"),0<e.length&&(n=new iS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ad=null,Id=null;function DW(t){f2(t,0)}function pv(t){var e=Vl(t);if(xM(e))return t}function OW(t,e){if(t==="change")return e}var n2=!1;if(ma){var N0;if(ma){var M0="oninput"in document;if(!M0){var Y1=document.createElement("div");Y1.setAttribute("oninput","return;"),M0=typeof Y1.oninput=="function"}N0=M0}else N0=!1;n2=N0&&(!document.documentMode||9<document.documentMode)}function Q1(){ad&&(ad.detachEvent("onpropertychange",r2),Id=ad=null)}function r2(t){if(t.propertyName==="value"&&pv(Id)){var e=[];t2(e,Id,t,Z_(t)),LM(DW,e)}}function NW(t,e,n){t==="focusin"?(Q1(),ad=e,Id=n,ad.attachEvent("onpropertychange",r2)):t==="focusout"&&Q1()}function MW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pv(Id)}function LW(t,e){if(t==="click")return pv(e)}function jW(t,e){if(t==="input"||t==="change")return pv(e)}function FW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ui=typeof Object.is=="function"?Object.is:FW;function Pd(t,e){if(ui(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tb.call(e,i)||!ui(t[i],e[i]))return!1}return!0}function X1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z1(t,e){var n=X1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=X1(n)}}function i2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?i2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function a2(){for(var t=window,e=gm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gm(t.document)}return e}function sS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VW(t){var e=a2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&i2(n.ownerDocument.documentElement,n)){if(r!==null&&sS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=Z1(n,a);var o=Z1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UW=ma&&"documentMode"in document&&11>=document.documentMode,jl=null,bb=null,od=null,wb=!1;function J1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wb||jl==null||jl!==gm(r)||(r=jl,"selectionStart"in r&&sS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),od&&Pd(od,r)||(od=r,r=Sm(bb,"onSelect"),0<r.length&&(e=new iS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jl)))}function Hh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fl={animationend:Hh("Animation","AnimationEnd"),animationiteration:Hh("Animation","AnimationIteration"),animationstart:Hh("Animation","AnimationStart"),transitionend:Hh("Transition","TransitionEnd")},L0={},o2={};ma&&(o2=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function mv(t){if(L0[t])return L0[t];if(!Fl[t])return t;var e=Fl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in o2)return L0[t]=e[n];return t}var s2=mv("animationend"),l2=mv("animationiteration"),c2=mv("animationstart"),u2=mv("transitionend"),d2=new Map,ek="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(t,e){d2.set(t,e),al(e,[t])}for(var j0=0;j0<ek.length;j0++){var F0=ek[j0],zW=F0.toLowerCase(),BW=F0[0].toUpperCase()+F0.slice(1);qo(zW,"on"+BW)}qo(s2,"onAnimationEnd");qo(l2,"onAnimationIteration");qo(c2,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(u2,"onTransitionEnd");fc("onMouseEnter",["mouseout","mouseover"]);fc("onMouseLeave",["mouseout","mouseover"]);fc("onPointerEnter",["pointerout","pointerover"]);fc("onPointerLeave",["pointerout","pointerover"]);al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));al("onBeforeInput",["compositionend","keypress","textInput","paste"]);al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$W=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gu));function tk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,z6(r,e,void 0,t),t.currentTarget=null}function f2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;tk(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;tk(i,s,c),a=l}}}if(ym)throw t=gb,ym=!1,gb=null,t}function ut(t,e){var n=e[Tb];n===void 0&&(n=e[Tb]=new Set);var r=t+"__bubble";n.has(r)||(h2(e,t,2,!1),n.add(r))}function V0(t,e,n){var r=0;e&&(r|=4),h2(n,t,r,e)}var qh="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[qh]){t[qh]=!0,bM.forEach(function(n){n!=="selectionchange"&&($W.has(n)||V0(n,!1,t),V0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qh]||(e[qh]=!0,V0("selectionchange",!1,e))}}function h2(t,e,n,r){switch(QM(e)){case 1:var i=rW;break;case 4:i=iW;break;default:i=nS}n=i.bind(null,e,n,t),i=void 0,!mb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function U0(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=gs(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}LM(function(){var c=a,u=Z_(n),d=[];e:{var h=d2.get(t);if(h!==void 0){var m=iS,g=t;switch(t){case"keypress":if(Fp(n)===0)break e;case"keydown":case"keyup":m=EW;break;case"focusin":g="focus",m=O0;break;case"focusout":g="blur",m=O0;break;case"beforeblur":case"afterblur":m=O0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=sW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_W;break;case s2:case l2:case c2:m=uW;break;case u2:m=AW;break;case"scroll":m=aW;break;case"wheel":m=TW;break;case"copy":case"cut":case"paste":m=fW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=H1}var y=(e&4)!==0,E=!y&&t==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var w=c,T;w!==null;){T=w;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,b!==null&&(A=xd(w,b),A!=null&&y.push(Dd(w,A,T)))),E)break;w=w.return}0<y.length&&(h=new m(h,g,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==hb&&(g=n.relatedTarget||n.fromElement)&&(gs(g)||g[ga]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?gs(g):null,g!==null&&(E=ol(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=$1,A="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=H1,A="onPointerLeave",b="onPointerEnter",w="pointer"),E=m==null?h:Vl(m),T=g==null?h:Vl(g),h=new y(A,w+"leave",m,n,u),h.target=E,h.relatedTarget=T,A=null,gs(u)===c&&(y=new y(b,w+"enter",g,n,u),y.target=T,y.relatedTarget=E,A=y),E=A,m&&g)t:{for(y=m,b=g,w=0,T=y;T;T=xl(T))w++;for(T=0,A=b;A;A=xl(A))T++;for(;0<w-T;)y=xl(y),w--;for(;0<T-w;)b=xl(b),T--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=xl(y),b=xl(b)}y=null}else y=null;m!==null&&nk(d,h,m,y,!1),g!==null&&E!==null&&nk(d,E,g,y,!0)}}e:{if(h=c?Vl(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var P=OW;else if(K1(h))if(n2)P=jW;else{P=MW;var k=NW}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=LW);if(P&&(P=P(t,c))){t2(d,P,n,u);break e}k&&k(t,h,c),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&lb(h,"number",h.value)}switch(k=c?Vl(c):window,t){case"focusin":(K1(k)||k.contentEditable==="true")&&(jl=k,bb=c,od=null);break;case"focusout":od=bb=jl=null;break;case"mousedown":wb=!0;break;case"contextmenu":case"mouseup":case"dragend":wb=!1,J1(d,n,u);break;case"selectionchange":if(UW)break;case"keydown":case"keyup":J1(d,n,u)}var S;if(oS)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ll?JM(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(ZM&&n.locale!=="ko"&&(Ll||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ll&&(S=XM()):(so=u,rS="value"in so?so.value:so.textContent,Ll=!0)),k=Sm(c,x),0<k.length&&(x=new W1(x,t,null,n,u),d.push({event:x,listeners:k}),S?x.data=S:(S=e2(n),S!==null&&(x.data=S)))),(S=kW?IW(t,n):PW(t,n))&&(c=Sm(c,"onBeforeInput"),0<c.length&&(u=new W1("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}f2(d,e)})}function Dd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=xd(t,n),a!=null&&r.unshift(Dd(t,a,i)),a=xd(t,e),a!=null&&r.push(Dd(t,a,i))),t=t.return}return r}function xl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nk(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=xd(n,a),l!=null&&o.unshift(Dd(n,l,s))):i||(l=xd(n,a),l!=null&&o.push(Dd(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var WW=/\r\n?/g,HW=/\u0000|\uFFFD/g;function rk(t){return(typeof t=="string"?t:""+t).replace(WW,`
`).replace(HW,"")}function Gh(t,e,n){if(e=rk(e),rk(t)!==e&&n)throw Error(X(425))}function Am(){}var _b=null,Sb=null;function Ab(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xb=typeof setTimeout=="function"?setTimeout:void 0,qW=typeof clearTimeout=="function"?clearTimeout:void 0,ik=typeof Promise=="function"?Promise:void 0,GW=typeof queueMicrotask=="function"?queueMicrotask:typeof ik<"u"?function(t){return ik.resolve(null).then(t).catch(KW)}:xb;function KW(t){setTimeout(function(){throw t})}function z0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),kd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kd(e)}function Eo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ak(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wc=Math.random().toString(36).slice(2),Ai="__reactFiber$"+Wc,Od="__reactProps$"+Wc,ga="__reactContainer$"+Wc,Tb="__reactEvents$"+Wc,YW="__reactListeners$"+Wc,QW="__reactHandles$"+Wc;function gs(t){var e=t[Ai];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ga]||n[Ai]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ak(t);t!==null;){if(n=t[Ai])return n;t=ak(t)}return e}t=n,n=t.parentNode}return null}function Ef(t){return t=t[Ai]||t[ga],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function gv(t){return t[Od]||null}var Cb=[],Ul=-1;function Go(t){return{current:t}}function mt(t){0>Ul||(t.current=Cb[Ul],Cb[Ul]=null,Ul--)}function ot(t,e){Ul++,Cb[Ul]=t.current,t.current=e}var Do={},Bn=Go(Do),dr=Go(!1),Ns=Do;function hc(t,e){var n=t.type.contextTypes;if(!n)return Do;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function fr(t){return t=t.childContextTypes,t!=null}function xm(){mt(dr),mt(Bn)}function ok(t,e,n){if(Bn.current!==Do)throw Error(X(168));ot(Bn,e),ot(dr,n)}function p2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,N6(t)||"Unknown",i));return Tt({},n,r)}function Tm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Do,Ns=Bn.current,ot(Bn,t),ot(dr,dr.current),!0}function sk(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=p2(t,e,Ns),r.__reactInternalMemoizedMergedChildContext=t,mt(dr),mt(Bn),ot(Bn,t)):mt(dr),ot(dr,n)}var Qi=null,vv=!1,B0=!1;function m2(t){Qi===null?Qi=[t]:Qi.push(t)}function XW(t){vv=!0,m2(t)}function Ko(){if(!B0&&Qi!==null){B0=!0;var t=0,e=Ye;try{var n=Qi;for(Ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qi=null,vv=!1}catch(i){throw Qi!==null&&(Qi=Qi.slice(t+1)),UM(J_,Ko),i}finally{Ye=e,B0=!1}}return null}var zl=[],Bl=0,Cm=null,km=0,Vr=[],Ur=0,Ms=null,ea=1,ta="";function ss(t,e){zl[Bl++]=km,zl[Bl++]=Cm,Cm=t,km=e}function g2(t,e,n){Vr[Ur++]=ea,Vr[Ur++]=ta,Vr[Ur++]=Ms,Ms=t;var r=ea;t=ta;var i=32-si(r)-1;r&=~(1<<i),n+=1;var a=32-si(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ea=1<<32-si(e)+i|n<<i|r,ta=a+t}else ea=1<<a|n<<i|r,ta=t}function lS(t){t.return!==null&&(ss(t,1),g2(t,1,0))}function cS(t){for(;t===Cm;)Cm=zl[--Bl],zl[Bl]=null,km=zl[--Bl],zl[Bl]=null;for(;t===Ms;)Ms=Vr[--Ur],Vr[Ur]=null,ta=Vr[--Ur],Vr[Ur]=null,ea=Vr[--Ur],Vr[Ur]=null}var Tr=null,_r=null,Et=!1,ni=null;function v2(t,e){var n=zr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tr=t,_r=Eo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tr=t,_r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ms!==null?{id:ea,overflow:ta}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tr=t,_r=null,!0):!1;default:return!1}}function kb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ib(t){if(Et){var e=_r;if(e){var n=e;if(!lk(t,e)){if(kb(t))throw Error(X(418));e=Eo(n.nextSibling);var r=Tr;e&&lk(t,e)?v2(r,n):(t.flags=t.flags&-4097|2,Et=!1,Tr=t)}}else{if(kb(t))throw Error(X(418));t.flags=t.flags&-4097|2,Et=!1,Tr=t}}}function ck(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tr=t}function Kh(t){if(t!==Tr)return!1;if(!Et)return ck(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ab(t.type,t.memoizedProps)),e&&(e=_r)){if(kb(t))throw y2(),Error(X(418));for(;e;)v2(t,e),e=Eo(e.nextSibling)}if(ck(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_r=Eo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_r=null}}else _r=Tr?Eo(t.stateNode.nextSibling):null;return!0}function y2(){for(var t=_r;t;)t=Eo(t.nextSibling)}function pc(){_r=Tr=null,Et=!1}function uS(t){ni===null?ni=[t]:ni.push(t)}var ZW=Oa.ReactCurrentBatchConfig;function Pu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Yh(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uk(t){var e=t._init;return e(t._payload)}function E2(t){function e(b,w){if(t){var T=b.deletions;T===null?(b.deletions=[w],b.flags|=16):T.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=So(b,w),b.index=0,b.sibling=null,b}function a(b,w,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<w?(b.flags|=2,w):T):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,w,T,A){return w===null||w.tag!==6?(w=Y0(T,b.mode,A),w.return=b,w):(w=i(w,T),w.return=b,w)}function l(b,w,T,A){var P=T.type;return P===Ml?u(b,w,T.props.children,A,T.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ya&&uk(P)===w.type)?(A=i(w,T.props),A.ref=Pu(b,w,T),A.return=b,A):(A=Hp(T.type,T.key,T.props,null,b.mode,A),A.ref=Pu(b,w,T),A.return=b,A)}function c(b,w,T,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Q0(T,b.mode,A),w.return=b,w):(w=i(w,T.children||[]),w.return=b,w)}function u(b,w,T,A,P){return w===null||w.tag!==7?(w=xs(T,b.mode,A,P),w.return=b,w):(w=i(w,T),w.return=b,w)}function d(b,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Y0(""+w,b.mode,T),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fh:return T=Hp(w.type,w.key,w.props,null,b.mode,T),T.ref=Pu(b,null,w),T.return=b,T;case Nl:return w=Q0(w,b.mode,T),w.return=b,w;case Ya:var A=w._init;return d(b,A(w._payload),T)}if(Hu(w)||xu(w))return w=xs(w,b.mode,T,null),w.return=b,w;Yh(b,w)}return null}function h(b,w,T,A){var P=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return P!==null?null:s(b,w,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Fh:return T.key===P?l(b,w,T,A):null;case Nl:return T.key===P?c(b,w,T,A):null;case Ya:return P=T._init,h(b,w,P(T._payload),A)}if(Hu(T)||xu(T))return P!==null?null:u(b,w,T,A,null);Yh(b,T)}return null}function m(b,w,T,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(T)||null,s(w,b,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Fh:return b=b.get(A.key===null?T:A.key)||null,l(w,b,A,P);case Nl:return b=b.get(A.key===null?T:A.key)||null,c(w,b,A,P);case Ya:var k=A._init;return m(b,w,T,k(A._payload),P)}if(Hu(A)||xu(A))return b=b.get(T)||null,u(w,b,A,P,null);Yh(w,A)}return null}function g(b,w,T,A){for(var P=null,k=null,S=w,x=w=0,I=null;S!==null&&x<T.length;x++){S.index>x?(I=S,S=null):I=S.sibling;var D=h(b,S,T[x],A);if(D===null){S===null&&(S=I);break}t&&S&&D.alternate===null&&e(b,S),w=a(D,w,x),k===null?P=D:k.sibling=D,k=D,S=I}if(x===T.length)return n(b,S),Et&&ss(b,x),P;if(S===null){for(;x<T.length;x++)S=d(b,T[x],A),S!==null&&(w=a(S,w,x),k===null?P=S:k.sibling=S,k=S);return Et&&ss(b,x),P}for(S=r(b,S);x<T.length;x++)I=m(S,b,x,T[x],A),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?x:I.key),w=a(I,w,x),k===null?P=I:k.sibling=I,k=I);return t&&S.forEach(function(R){return e(b,R)}),Et&&ss(b,x),P}function y(b,w,T,A){var P=xu(T);if(typeof P!="function")throw Error(X(150));if(T=P.call(T),T==null)throw Error(X(151));for(var k=P=null,S=w,x=w=0,I=null,D=T.next();S!==null&&!D.done;x++,D=T.next()){S.index>x?(I=S,S=null):I=S.sibling;var R=h(b,S,D.value,A);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(b,S),w=a(R,w,x),k===null?P=R:k.sibling=R,k=R,S=I}if(D.done)return n(b,S),Et&&ss(b,x),P;if(S===null){for(;!D.done;x++,D=T.next())D=d(b,D.value,A),D!==null&&(w=a(D,w,x),k===null?P=D:k.sibling=D,k=D);return Et&&ss(b,x),P}for(S=r(b,S);!D.done;x++,D=T.next())D=m(S,b,x,D.value,A),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?x:D.key),w=a(D,w,x),k===null?P=D:k.sibling=D,k=D);return t&&S.forEach(function(O){return e(b,O)}),Et&&ss(b,x),P}function E(b,w,T,A){if(typeof T=="object"&&T!==null&&T.type===Ml&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Fh:e:{for(var P=T.key,k=w;k!==null;){if(k.key===P){if(P=T.type,P===Ml){if(k.tag===7){n(b,k.sibling),w=i(k,T.props.children),w.return=b,b=w;break e}}else if(k.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ya&&uk(P)===k.type){n(b,k.sibling),w=i(k,T.props),w.ref=Pu(b,k,T),w.return=b,b=w;break e}n(b,k);break}else e(b,k);k=k.sibling}T.type===Ml?(w=xs(T.props.children,b.mode,A,T.key),w.return=b,b=w):(A=Hp(T.type,T.key,T.props,null,b.mode,A),A.ref=Pu(b,w,T),A.return=b,b=A)}return o(b);case Nl:e:{for(k=T.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(b,w.sibling),w=i(w,T.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Q0(T,b.mode,A),w.return=b,b=w}return o(b);case Ya:return k=T._init,E(b,w,k(T._payload),A)}if(Hu(T))return g(b,w,T,A);if(xu(T))return y(b,w,T,A);Yh(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,T),w.return=b,b=w):(n(b,w),w=Y0(T,b.mode,A),w.return=b,b=w),o(b)):n(b,w)}return E}var mc=E2(!0),b2=E2(!1),Im=Go(null),Pm=null,$l=null,dS=null;function fS(){dS=$l=Pm=null}function hS(t){var e=Im.current;mt(Im),t._currentValue=e}function Pb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function tc(t,e){Pm=t,dS=$l=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lr=!0),t.firstContext=null)}function Hr(t){var e=t._currentValue;if(dS!==t)if(t={context:t,memoizedValue:e,next:null},$l===null){if(Pm===null)throw Error(X(308));$l=t,Pm.dependencies={lanes:0,firstContext:t}}else $l=$l.next=t;return e}var vs=null;function pS(t){vs===null?vs=[t]:vs.push(t)}function w2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pS(e)):(n.next=i.next,i.next=n),e.interleaved=n,va(t,r)}function va(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qa=!1;function mS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function la(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,va(t,n)}return i=r.interleaved,i===null?(e.next=e,pS(r)):(e.next=i.next,i.next=e),r.interleaved=e,va(t,n)}function Vp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eS(t,n)}}function dk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rm(t,e,n,r){var i=t.updateQueue;Qa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,m=s.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(m,d,h):g,h==null)break e;d=Tt({},d,h);break e;case 2:Qa=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);js|=o,t.lanes=o,t.memoizedState=d}}function fk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var bf={},Ii=Go(bf),Nd=Go(bf),Md=Go(bf);function ys(t){if(t===bf)throw Error(X(174));return t}function gS(t,e){switch(ot(Md,e),ot(Nd,t),ot(Ii,bf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ub(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ub(e,t)}mt(Ii),ot(Ii,e)}function gc(){mt(Ii),mt(Nd),mt(Md)}function S2(t){ys(Md.current);var e=ys(Ii.current),n=ub(e,t.type);e!==n&&(ot(Nd,t),ot(Ii,n))}function vS(t){Nd.current===t&&(mt(Ii),mt(Nd))}var At=Go(0);function Dm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $0=[];function yS(){for(var t=0;t<$0.length;t++)$0[t]._workInProgressVersionPrimary=null;$0.length=0}var Up=Oa.ReactCurrentDispatcher,W0=Oa.ReactCurrentBatchConfig,Ls=0,xt=null,Qt=null,un=null,Om=!1,sd=!1,Ld=0,JW=0;function Rn(){throw Error(X(321))}function ES(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ui(t[n],e[n]))return!1;return!0}function bS(t,e,n,r,i,a){if(Ls=a,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Up.current=t===null||t.memoizedState===null?rH:iH,t=n(r,i),sd){a=0;do{if(sd=!1,Ld=0,25<=a)throw Error(X(301));a+=1,un=Qt=null,e.updateQueue=null,Up.current=aH,t=n(r,i)}while(sd)}if(Up.current=Nm,e=Qt!==null&&Qt.next!==null,Ls=0,un=Qt=xt=null,Om=!1,e)throw Error(X(300));return t}function wS(){var t=Ld!==0;return Ld=0,t}function wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?xt.memoizedState=un=t:un=un.next=t,un}function qr(){if(Qt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=un===null?xt.memoizedState:un.next;if(e!==null)un=e,Qt=t;else{if(t===null)throw Error(X(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},un===null?xt.memoizedState=un=t:un=un.next=t}return un}function jd(t,e){return typeof e=="function"?e(t):e}function H0(t){var e=qr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Qt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Ls&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,o=r):l=l.next=d,xt.lanes|=u,js|=u}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,ui(r,e.memoizedState)||(lr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,xt.lanes|=a,js|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function q0(t){var e=qr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);ui(a,e.memoizedState)||(lr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function A2(){}function x2(t,e){var n=xt,r=qr(),i=e(),a=!ui(r.memoizedState,i);if(a&&(r.memoizedState=i,lr=!0),r=r.queue,_S(k2.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||un!==null&&un.memoizedState.tag&1){if(n.flags|=2048,Fd(9,C2.bind(null,n,r,i,e),void 0,null),fn===null)throw Error(X(349));Ls&30||T2(n,e,i)}return i}function T2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function C2(t,e,n,r){e.value=n,e.getSnapshot=r,I2(e)&&P2(t)}function k2(t,e,n){return n(function(){I2(e)&&P2(t)})}function I2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ui(t,n)}catch{return!0}}function P2(t){var e=va(t,1);e!==null&&li(e,t,1,-1)}function hk(t){var e=wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jd,lastRenderedState:t},e.queue=t,t=t.dispatch=nH.bind(null,xt,t),[e.memoizedState,t]}function Fd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function R2(){return qr().memoizedState}function zp(t,e,n,r){var i=wi();xt.flags|=t,i.memoizedState=Fd(1|e,n,void 0,r===void 0?null:r)}function yv(t,e,n,r){var i=qr();r=r===void 0?null:r;var a=void 0;if(Qt!==null){var o=Qt.memoizedState;if(a=o.destroy,r!==null&&ES(r,o.deps)){i.memoizedState=Fd(e,n,a,r);return}}xt.flags|=t,i.memoizedState=Fd(1|e,n,a,r)}function pk(t,e){return zp(8390656,8,t,e)}function _S(t,e){return yv(2048,8,t,e)}function D2(t,e){return yv(4,2,t,e)}function O2(t,e){return yv(4,4,t,e)}function N2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function M2(t,e,n){return n=n!=null?n.concat([t]):null,yv(4,4,N2.bind(null,e,t),n)}function SS(){}function L2(t,e){var n=qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ES(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function j2(t,e){var n=qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ES(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function F2(t,e,n){return Ls&21?(ui(n,e)||(n=$M(),xt.lanes|=n,js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=n)}function eH(t,e){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var r=W0.transition;W0.transition={};try{t(!1),e()}finally{Ye=n,W0.transition=r}}function V2(){return qr().memoizedState}function tH(t,e,n){var r=_o(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U2(t))z2(e,n);else if(n=w2(t,e,n,r),n!==null){var i=Jn();li(n,t,r,i),B2(n,e,r)}}function nH(t,e,n){var r=_o(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U2(t))z2(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ui(s,o)){var l=e.interleaved;l===null?(i.next=i,pS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=w2(t,e,i,r),n!==null&&(i=Jn(),li(n,t,r,i),B2(n,e,r))}}function U2(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function z2(t,e){sd=Om=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function B2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eS(t,n)}}var Nm={readContext:Hr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},rH={readContext:Hr,useCallback:function(t,e){return wi().memoizedState=[t,e===void 0?null:e],t},useContext:Hr,useEffect:pk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zp(4194308,4,N2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zp(4194308,4,t,e)},useInsertionEffect:function(t,e){return zp(4,2,t,e)},useMemo:function(t,e){var n=wi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=tH.bind(null,xt,t),[r.memoizedState,t]},useRef:function(t){var e=wi();return t={current:t},e.memoizedState=t},useState:hk,useDebugValue:SS,useDeferredValue:function(t){return wi().memoizedState=t},useTransition:function(){var t=hk(!1),e=t[0];return t=eH.bind(null,t[1]),wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xt,i=wi();if(Et){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),fn===null)throw Error(X(349));Ls&30||T2(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,pk(k2.bind(null,r,a,t),[t]),r.flags|=2048,Fd(9,C2.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=wi(),e=fn.identifierPrefix;if(Et){var n=ta,r=ea;n=(r&~(1<<32-si(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ld++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iH={readContext:Hr,useCallback:L2,useContext:Hr,useEffect:_S,useImperativeHandle:M2,useInsertionEffect:D2,useLayoutEffect:O2,useMemo:j2,useReducer:H0,useRef:R2,useState:function(){return H0(jd)},useDebugValue:SS,useDeferredValue:function(t){var e=qr();return F2(e,Qt.memoizedState,t)},useTransition:function(){var t=H0(jd)[0],e=qr().memoizedState;return[t,e]},useMutableSource:A2,useSyncExternalStore:x2,useId:V2,unstable_isNewReconciler:!1},aH={readContext:Hr,useCallback:L2,useContext:Hr,useEffect:_S,useImperativeHandle:M2,useInsertionEffect:D2,useLayoutEffect:O2,useMemo:j2,useReducer:q0,useRef:R2,useState:function(){return q0(jd)},useDebugValue:SS,useDeferredValue:function(t){var e=qr();return Qt===null?e.memoizedState=t:F2(e,Qt.memoizedState,t)},useTransition:function(){var t=q0(jd)[0],e=qr().memoizedState;return[t,e]},useMutableSource:A2,useSyncExternalStore:x2,useId:V2,unstable_isNewReconciler:!1};function ei(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Rb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ev={isMounted:function(t){return(t=t._reactInternals)?ol(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jn(),i=_o(t),a=la(r,i);a.payload=e,n!=null&&(a.callback=n),e=bo(t,a,i),e!==null&&(li(e,t,i,r),Vp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jn(),i=_o(t),a=la(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=bo(t,a,i),e!==null&&(li(e,t,i,r),Vp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jn(),r=_o(t),i=la(n,r);i.tag=2,e!=null&&(i.callback=e),e=bo(t,i,r),e!==null&&(li(e,t,r,n),Vp(e,t,r))}};function mk(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Pd(n,r)||!Pd(i,a):!0}function $2(t,e,n){var r=!1,i=Do,a=e.contextType;return typeof a=="object"&&a!==null?a=Hr(a):(i=fr(e)?Ns:Bn.current,r=e.contextTypes,a=(r=r!=null)?hc(t,i):Do),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ev,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function gk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ev.enqueueReplaceState(e,e.state,null)}function Db(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mS(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Hr(a):(a=fr(e)?Ns:Bn.current,i.context=hc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Rb(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ev.enqueueReplaceState(i,i.state,null),Rm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vc(t,e){try{var n="",r=e;do n+=O6(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function G0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ob(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oH=typeof WeakMap=="function"?WeakMap:Map;function W2(t,e,n){n=la(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lm||(Lm=!0,$b=r),Ob(t,e)},n}function H2(t,e,n){n=la(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ob(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ob(t,e),typeof r!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new oH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bH.bind(null,t,e,n),e.then(t,t))}function yk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ek(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=la(-1,1),e.tag=2,bo(n,e,1))),n.lanes|=1),t)}var sH=Oa.ReactCurrentOwner,lr=!1;function Yn(t,e,n,r){e.child=t===null?b2(e,null,n,r):mc(e,t.child,n,r)}function bk(t,e,n,r,i){n=n.render;var a=e.ref;return tc(e,i),r=bS(t,e,n,r,a,i),n=wS(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ya(t,e,i)):(Et&&n&&lS(e),e.flags|=1,Yn(t,e,r,i),e.child)}function wk(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!RS(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,q2(t,e,a,r,i)):(t=Hp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Pd,n(o,r)&&t.ref===e.ref)return ya(t,e,i)}return e.flags|=1,t=So(a,r),t.ref=e.ref,t.return=e,e.child=t}function q2(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Pd(a,r)&&t.ref===e.ref)if(lr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(lr=!0);else return e.lanes=t.lanes,ya(t,e,i)}return Nb(t,e,n,r,i)}function G2(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Hl,Er),Er|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(Hl,Er),Er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ot(Hl,Er),Er|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,ot(Hl,Er),Er|=r;return Yn(t,e,i,n),e.child}function K2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Nb(t,e,n,r,i){var a=fr(n)?Ns:Bn.current;return a=hc(e,a),tc(e,i),n=bS(t,e,n,r,a,i),r=wS(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ya(t,e,i)):(Et&&r&&lS(e),e.flags|=1,Yn(t,e,n,i),e.child)}function _k(t,e,n,r,i){if(fr(n)){var a=!0;Tm(e)}else a=!1;if(tc(e,i),e.stateNode===null)Bp(t,e),$2(e,n,r),Db(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Hr(c):(c=fr(n)?Ns:Bn.current,c=hc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&gk(e,o,r,c),Qa=!1;var h=e.memoizedState;o.state=h,Rm(e,r,o,i),l=e.memoizedState,s!==r||h!==l||dr.current||Qa?(typeof u=="function"&&(Rb(e,n,u,r),l=e.memoizedState),(s=Qa||mk(e,n,s,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_2(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ei(e.type,s),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hr(l):(l=fr(n)?Ns:Bn.current,l=hc(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&gk(e,o,r,l),Qa=!1,h=e.memoizedState,o.state=h,Rm(e,r,o,i);var g=e.memoizedState;s!==d||h!==g||dr.current||Qa?(typeof m=="function"&&(Rb(e,n,m,r),g=e.memoizedState),(c=Qa||mk(e,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Mb(t,e,n,r,a,i)}function Mb(t,e,n,r,i,a){K2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&sk(e,n,!1),ya(t,e,a);r=e.stateNode,sH.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mc(e,t.child,null,a),e.child=mc(e,null,s,a)):Yn(t,e,s,a),e.memoizedState=r.state,i&&sk(e,n,!0),e.child}function Y2(t){var e=t.stateNode;e.pendingContext?ok(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ok(t,e.context,!1),gS(t,e.containerInfo)}function Sk(t,e,n,r,i){return pc(),uS(i),e.flags|=256,Yn(t,e,n,r),e.child}var Lb={dehydrated:null,treeContext:null,retryLane:0};function jb(t){return{baseLanes:t,cachePool:null,transitions:null}}function Q2(t,e,n){var r=e.pendingProps,i=At.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ot(At,i&1),t===null)return Ib(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=_v(o,r,0,null),t=xs(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=jb(n),e.memoizedState=Lb,t):AS(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return lH(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=So(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=So(s,a):(a=xs(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?jb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Lb,r}return a=t.child,t=a.sibling,r=So(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function AS(t,e){return e=_v({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qh(t,e,n,r){return r!==null&&uS(r),mc(e,t.child,null,n),t=AS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lH(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=G0(Error(X(422))),Qh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=_v({mode:"visible",children:r.children},i,0,null),a=xs(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&mc(e,t.child,null,o),e.child.memoizedState=jb(o),e.memoizedState=Lb,a);if(!(e.mode&1))return Qh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(X(419)),r=G0(a,r,void 0),Qh(t,e,o,r)}if(s=(o&t.childLanes)!==0,lr||s){if(r=fn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,va(t,i),li(r,t,i,-1))}return PS(),r=G0(Error(X(421))),Qh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wH.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,_r=Eo(i.nextSibling),Tr=e,Et=!0,ni=null,t!==null&&(Vr[Ur++]=ea,Vr[Ur++]=ta,Vr[Ur++]=Ms,ea=t.id,ta=t.overflow,Ms=e),e=AS(e,r.children),e.flags|=4096,e)}function Ak(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pb(t.return,e,n)}function K0(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function X2(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Yn(t,e,r.children,n),r=At.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ak(t,n,e);else if(t.tag===19)Ak(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ot(At,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),K0(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}K0(e,!0,n,null,a);break;case"together":K0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ya(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=So(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=So(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cH(t,e,n){switch(e.tag){case 3:Y2(e),pc();break;case 5:S2(e);break;case 1:fr(e.type)&&Tm(e);break;case 4:gS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ot(Im,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ot(At,At.current&1),e.flags|=128,null):n&e.child.childLanes?Q2(t,e,n):(ot(At,At.current&1),t=ya(t,e,n),t!==null?t.sibling:null);ot(At,At.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return X2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(At,At.current),r)break;return null;case 22:case 23:return e.lanes=0,G2(t,e,n)}return ya(t,e,n)}var Z2,Fb,J2,eL;Z2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fb=function(){};J2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ys(Ii.current);var a=null;switch(n){case"input":i=ob(t,i),r=ob(t,r),a=[];break;case"select":i=Tt({},i,{value:void 0}),r=Tt({},r,{value:void 0}),a=[];break;case"textarea":i=cb(t,i),r=cb(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Am)}db(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sd.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ut("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};eL=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ru(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uH(t,e,n){var r=e.pendingProps;switch(cS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(e),null;case 1:return fr(e.type)&&xm(),Dn(e),null;case 3:return r=e.stateNode,gc(),mt(dr),mt(Bn),yS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ni!==null&&(qb(ni),ni=null))),Fb(t,e),Dn(e),null;case 5:vS(e);var i=ys(Md.current);if(n=e.type,t!==null&&e.stateNode!=null)J2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Dn(e),null}if(t=ys(Ii.current),Kh(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ai]=e,r[Od]=a,t=(e.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(i=0;i<Gu.length;i++)ut(Gu[i],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":O1(r,a),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ut("invalid",r);break;case"textarea":M1(r,a),ut("invalid",r)}db(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Gh(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Gh(r.textContent,s,t),i=["children",""+s]):Sd.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ut("scroll",r)}switch(n){case"input":Vh(r),N1(r,a,!0);break;case"textarea":Vh(r),L1(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Am)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ai]=e,t[Od]=r,Z2(t,e,!1,!1),e.stateNode=t;e:{switch(o=fb(n,r),n){case"dialog":ut("cancel",t),ut("close",t),i=r;break;case"iframe":case"object":case"embed":ut("load",t),i=r;break;case"video":case"audio":for(i=0;i<Gu.length;i++)ut(Gu[i],t);i=r;break;case"source":ut("error",t),i=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=r;break;case"details":ut("toggle",t),i=r;break;case"input":O1(t,r),i=ob(t,r),ut("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Tt({},r,{value:void 0}),ut("invalid",t);break;case"textarea":M1(t,r),i=cb(t,r),ut("invalid",t);break;default:i=r}db(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?RM(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&IM(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ad(t,l):typeof l=="number"&&Ad(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Sd.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ut("scroll",t):l!=null&&K_(t,a,l,o))}switch(n){case"input":Vh(t),N1(t,r,!1);break;case"textarea":Vh(t),L1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ro(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Xl(t,!!r.multiple,a,!1):r.defaultValue!=null&&Xl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Am)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dn(e),null;case 6:if(t&&e.stateNode!=null)eL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=ys(Md.current),ys(Ii.current),Kh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ai]=e,(a=r.nodeValue!==n)&&(t=Tr,t!==null))switch(t.tag){case 3:Gh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gh(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ai]=e,e.stateNode=r}return Dn(e),null;case 13:if(mt(At),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&_r!==null&&e.mode&1&&!(e.flags&128))y2(),pc(),e.flags|=98560,a=!1;else if(a=Kh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(X(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[Ai]=e}else pc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dn(e),a=!1}else ni!==null&&(qb(ni),ni=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||At.current&1?Zt===0&&(Zt=3):PS())),e.updateQueue!==null&&(e.flags|=4),Dn(e),null);case 4:return gc(),Fb(t,e),t===null&&Rd(e.stateNode.containerInfo),Dn(e),null;case 10:return hS(e.type._context),Dn(e),null;case 17:return fr(e.type)&&xm(),Dn(e),null;case 19:if(mt(At),a=e.memoizedState,a===null)return Dn(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Ru(a,!1);else{if(Zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dm(t),o!==null){for(e.flags|=128,Ru(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(At,At.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ft()>yc&&(e.flags|=128,r=!0,Ru(a,!1),e.lanes=4194304)}else{if(!r)if(t=Dm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ru(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Et)return Dn(e),null}else 2*Ft()-a.renderingStartTime>yc&&n!==1073741824&&(e.flags|=128,r=!0,Ru(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ft(),e.sibling=null,n=At.current,ot(At,r?n&1|2:n&1),e):(Dn(e),null);case 22:case 23:return IS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Er&1073741824&&(Dn(e),e.subtreeFlags&6&&(e.flags|=8192)):Dn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function dH(t,e){switch(cS(e),e.tag){case 1:return fr(e.type)&&xm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gc(),mt(dr),mt(Bn),yS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vS(e),null;case 13:if(mt(At),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));pc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(At),null;case 4:return gc(),null;case 10:return hS(e.type._context),null;case 22:case 23:return IS(),null;case 24:return null;default:return null}}var Xh=!1,Ln=!1,fH=typeof WeakSet=="function"?WeakSet:Set,se=null;function Wl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dt(t,e,r)}else n.current=null}function Vb(t,e,n){try{n()}catch(r){Dt(t,e,r)}}var xk=!1;function hH(t,e){if(_b=wm,t=a2(),sS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++c===i&&(s=o),h===a&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sb={focusedElem:t,selectionRange:n},wm=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,E=g.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:ei(e.type,y),E);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(A){Dt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return g=xk,xk=!1,g}function ld(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Vb(e,n,a)}i=i.next}while(i!==r)}}function bv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ub(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tL(t){var e=t.alternate;e!==null&&(t.alternate=null,tL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ai],delete e[Od],delete e[Tb],delete e[YW],delete e[QW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nL(t){return t.tag===5||t.tag===3||t.tag===4}function Tk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Am));else if(r!==4&&(t=t.child,t!==null))for(zb(t,e,n),t=t.sibling;t!==null;)zb(t,e,n),t=t.sibling}function Bb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bb(t,e,n),t=t.sibling;t!==null;)Bb(t,e,n),t=t.sibling}var En=null,ti=!1;function Ga(t,e,n){for(n=n.child;n!==null;)rL(t,e,n),n=n.sibling}function rL(t,e,n){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(fv,n)}catch{}switch(n.tag){case 5:Ln||Wl(n,e);case 6:var r=En,i=ti;En=null,Ga(t,e,n),En=r,ti=i,En!==null&&(ti?(t=En,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):En.removeChild(n.stateNode));break;case 18:En!==null&&(ti?(t=En,n=n.stateNode,t.nodeType===8?z0(t.parentNode,n):t.nodeType===1&&z0(t,n),kd(t)):z0(En,n.stateNode));break;case 4:r=En,i=ti,En=n.stateNode.containerInfo,ti=!0,Ga(t,e,n),En=r,ti=i;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Vb(n,e,o),i=i.next}while(i!==r)}Ga(t,e,n);break;case 1:if(!Ln&&(Wl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Dt(n,e,s)}Ga(t,e,n);break;case 21:Ga(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,Ga(t,e,n),Ln=r):Ga(t,e,n);break;default:Ga(t,e,n)}}function Ck(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fH),e.forEach(function(r){var i=_H.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:En=s.stateNode,ti=!1;break e;case 3:En=s.stateNode.containerInfo,ti=!0;break e;case 4:En=s.stateNode.containerInfo,ti=!0;break e}s=s.return}if(En===null)throw Error(X(160));rL(a,o,i),En=null,ti=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Dt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iL(e,t),e=e.sibling}function iL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jr(e,t),Ei(t),r&4){try{ld(3,t,t.return),bv(3,t)}catch(y){Dt(t,t.return,y)}try{ld(5,t,t.return)}catch(y){Dt(t,t.return,y)}}break;case 1:Jr(e,t),Ei(t),r&512&&n!==null&&Wl(n,n.return);break;case 5:if(Jr(e,t),Ei(t),r&512&&n!==null&&Wl(n,n.return),t.flags&32){var i=t.stateNode;try{Ad(i,"")}catch(y){Dt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&TM(i,a),fb(s,o);var c=fb(s,a);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?RM(i,d):u==="dangerouslySetInnerHTML"?IM(i,d):u==="children"?Ad(i,d):K_(i,u,d,c)}switch(s){case"input":sb(i,a);break;case"textarea":CM(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Xl(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Xl(i,!!a.multiple,a.defaultValue,!0):Xl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Od]=a}catch(y){Dt(t,t.return,y)}}break;case 6:if(Jr(e,t),Ei(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){Dt(t,t.return,y)}}break;case 3:if(Jr(e,t),Ei(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kd(e.containerInfo)}catch(y){Dt(t,t.return,y)}break;case 4:Jr(e,t),Ei(t);break;case 13:Jr(e,t),Ei(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(CS=Ft())),r&4&&Ck(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(c=Ln)||u,Jr(e,t),Ln=c):Jr(e,t),Ei(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(se=t,u=t.child;u!==null;){for(d=se=u;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:ld(4,h,h.return);break;case 1:Wl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Dt(r,n,y)}}break;case 5:Wl(h,h.return);break;case 22:if(h.memoizedState!==null){Ik(d);continue}}m!==null?(m.return=h,se=m):Ik(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=PM("display",o))}catch(y){Dt(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Dt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jr(e,t),Ei(t),r&4&&Ck(t);break;case 21:break;default:Jr(e,t),Ei(t)}}function Ei(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nL(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ad(i,""),r.flags&=-33);var a=Tk(t);Bb(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Tk(t);zb(t,s,o);break;default:throw Error(X(161))}}catch(l){Dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pH(t,e,n){se=t,aL(t)}function aL(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xh;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ln;s=Xh;var c=Ln;if(Xh=o,(Ln=l)&&!c)for(se=i;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?Pk(i):l!==null?(l.return=o,se=l):Pk(i);for(;a!==null;)se=a,aL(a),a=a.sibling;se=i,Xh=s,Ln=c}kk(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,se=a):kk(t)}}function kk(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||bv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ei(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&fk(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fk(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&kd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Ln||e.flags&512&&Ub(e)}catch(h){Dt(e,e.return,h)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function Ik(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function Pk(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bv(4,e)}catch(l){Dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Dt(e,i,l)}}var a=e.return;try{Ub(e)}catch(l){Dt(e,a,l)}break;case 5:var o=e.return;try{Ub(e)}catch(l){Dt(e,o,l)}}}catch(l){Dt(e,e.return,l)}if(e===t){se=null;break}var s=e.sibling;if(s!==null){s.return=e.return,se=s;break}se=e.return}}var mH=Math.ceil,Mm=Oa.ReactCurrentDispatcher,xS=Oa.ReactCurrentOwner,$r=Oa.ReactCurrentBatchConfig,Be=0,fn=null,Bt=null,xn=0,Er=0,Hl=Go(0),Zt=0,Vd=null,js=0,wv=0,TS=0,cd=null,or=null,CS=0,yc=1/0,Yi=null,Lm=!1,$b=null,wo=null,Zh=!1,lo=null,jm=0,ud=0,Wb=null,$p=-1,Wp=0;function Jn(){return Be&6?Ft():$p!==-1?$p:$p=Ft()}function _o(t){return t.mode&1?Be&2&&xn!==0?xn&-xn:ZW.transition!==null?(Wp===0&&(Wp=$M()),Wp):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:QM(t.type)),t):1}function li(t,e,n,r){if(50<ud)throw ud=0,Wb=null,Error(X(185));vf(t,n,r),(!(Be&2)||t!==fn)&&(t===fn&&(!(Be&2)&&(wv|=n),Zt===4&&eo(t,xn)),hr(t,r),n===1&&Be===0&&!(e.mode&1)&&(yc=Ft()+500,vv&&Ko()))}function hr(t,e){var n=t.callbackNode;Z6(t,e);var r=bm(t,t===fn?xn:0);if(r===0)n!==null&&V1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&V1(n),e===1)t.tag===0?XW(Rk.bind(null,t)):m2(Rk.bind(null,t)),GW(function(){!(Be&6)&&Ko()}),n=null;else{switch(WM(r)){case 1:n=J_;break;case 4:n=zM;break;case 16:n=Em;break;case 536870912:n=BM;break;default:n=Em}n=hL(n,oL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oL(t,e){if($p=-1,Wp=0,Be&6)throw Error(X(327));var n=t.callbackNode;if(nc()&&t.callbackNode!==n)return null;var r=bm(t,t===fn?xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fm(t,r);else{e=r;var i=Be;Be|=2;var a=lL();(fn!==t||xn!==e)&&(Yi=null,yc=Ft()+500,As(t,e));do try{yH();break}catch(s){sL(t,s)}while(!0);fS(),Mm.current=a,Be=i,Bt!==null?e=0:(fn=null,xn=0,e=Zt)}if(e!==0){if(e===2&&(i=vb(t),i!==0&&(r=i,e=Hb(t,i))),e===1)throw n=Vd,As(t,0),eo(t,r),hr(t,Ft()),n;if(e===6)eo(t,r);else{if(i=t.current.alternate,!(r&30)&&!gH(i)&&(e=Fm(t,r),e===2&&(a=vb(t),a!==0&&(r=a,e=Hb(t,a))),e===1))throw n=Vd,As(t,0),eo(t,r),hr(t,Ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:ls(t,or,Yi);break;case 3:if(eo(t,r),(r&130023424)===r&&(e=CS+500-Ft(),10<e)){if(bm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xb(ls.bind(null,t,or,Yi),e);break}ls(t,or,Yi);break;case 4:if(eo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-si(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mH(r/1960))-r,10<r){t.timeoutHandle=xb(ls.bind(null,t,or,Yi),r);break}ls(t,or,Yi);break;case 5:ls(t,or,Yi);break;default:throw Error(X(329))}}}return hr(t,Ft()),t.callbackNode===n?oL.bind(null,t):null}function Hb(t,e){var n=cd;return t.current.memoizedState.isDehydrated&&(As(t,e).flags|=256),t=Fm(t,e),t!==2&&(e=or,or=n,e!==null&&qb(e)),t}function qb(t){or===null?or=t:or.push.apply(or,t)}function gH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ui(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function eo(t,e){for(e&=~TS,e&=~wv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-si(e),r=1<<n;t[n]=-1,e&=~r}}function Rk(t){if(Be&6)throw Error(X(327));nc();var e=bm(t,0);if(!(e&1))return hr(t,Ft()),null;var n=Fm(t,e);if(t.tag!==0&&n===2){var r=vb(t);r!==0&&(e=r,n=Hb(t,r))}if(n===1)throw n=Vd,As(t,0),eo(t,e),hr(t,Ft()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ls(t,or,Yi),hr(t,Ft()),null}function kS(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(yc=Ft()+500,vv&&Ko())}}function Fs(t){lo!==null&&lo.tag===0&&!(Be&6)&&nc();var e=Be;Be|=1;var n=$r.transition,r=Ye;try{if($r.transition=null,Ye=1,t)return t()}finally{Ye=r,$r.transition=n,Be=e,!(Be&6)&&Ko()}}function IS(){Er=Hl.current,mt(Hl)}function As(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qW(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(cS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xm();break;case 3:gc(),mt(dr),mt(Bn),yS();break;case 5:vS(r);break;case 4:gc();break;case 13:mt(At);break;case 19:mt(At);break;case 10:hS(r.type._context);break;case 22:case 23:IS()}n=n.return}if(fn=t,Bt=t=So(t.current,null),xn=Er=e,Zt=0,Vd=null,TS=wv=js=0,or=cd=null,vs!==null){for(e=0;e<vs.length;e++)if(n=vs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}vs=null}return t}function sL(t,e){do{var n=Bt;try{if(fS(),Up.current=Nm,Om){for(var r=xt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Om=!1}if(Ls=0,un=Qt=xt=null,sd=!1,Ld=0,xS.current=null,n===null||n.return===null){Zt=1,Vd=e,Bt=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=xn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=yk(o);if(m!==null){m.flags&=-257,Ek(m,o,s,a,e),m.mode&1&&vk(a,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){vk(a,c,e),PS();break e}l=Error(X(426))}}else if(Et&&s.mode&1){var E=yk(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Ek(E,o,s,a,e),uS(vc(l,s));break e}}a=l=vc(l,s),Zt!==4&&(Zt=2),cd===null?cd=[a]:cd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=W2(a,l,e);dk(a,b);break e;case 1:s=l;var w=a.type,T=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(wo===null||!wo.has(T)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=H2(a,s,e);dk(a,A);break e}}a=a.return}while(a!==null)}uL(n)}catch(P){e=P,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function lL(){var t=Mm.current;return Mm.current=Nm,t===null?Nm:t}function PS(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),fn===null||!(js&268435455)&&!(wv&268435455)||eo(fn,xn)}function Fm(t,e){var n=Be;Be|=2;var r=lL();(fn!==t||xn!==e)&&(Yi=null,As(t,e));do try{vH();break}catch(i){sL(t,i)}while(!0);if(fS(),Be=n,Mm.current=r,Bt!==null)throw Error(X(261));return fn=null,xn=0,Zt}function vH(){for(;Bt!==null;)cL(Bt)}function yH(){for(;Bt!==null&&!$6();)cL(Bt)}function cL(t){var e=fL(t.alternate,t,Er);t.memoizedProps=t.pendingProps,e===null?uL(t):Bt=e,xS.current=null}function uL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dH(n,e),n!==null){n.flags&=32767,Bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zt=6,Bt=null;return}}else if(n=uH(n,e,Er),n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Zt===0&&(Zt=5)}function ls(t,e,n){var r=Ye,i=$r.transition;try{$r.transition=null,Ye=1,EH(t,e,n,r)}finally{$r.transition=i,Ye=r}return null}function EH(t,e,n,r){do nc();while(lo!==null);if(Be&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(J6(t,a),t===fn&&(Bt=fn=null,xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zh||(Zh=!0,hL(Em,function(){return nc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=$r.transition,$r.transition=null;var o=Ye;Ye=1;var s=Be;Be|=4,xS.current=null,hH(t,n),iL(n,t),VW(Sb),wm=!!_b,Sb=_b=null,t.current=n,pH(n),W6(),Be=s,Ye=o,$r.transition=a}else t.current=n;if(Zh&&(Zh=!1,lo=t,jm=i),a=t.pendingLanes,a===0&&(wo=null),G6(n.stateNode),hr(t,Ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lm)throw Lm=!1,t=$b,$b=null,t;return jm&1&&t.tag!==0&&nc(),a=t.pendingLanes,a&1?t===Wb?ud++:(ud=0,Wb=t):ud=0,Ko(),null}function nc(){if(lo!==null){var t=WM(jm),e=$r.transition,n=Ye;try{if($r.transition=null,Ye=16>t?16:t,lo===null)var r=!1;else{if(t=lo,lo=null,jm=0,Be&6)throw Error(X(331));var i=Be;for(Be|=4,se=t.current;se!==null;){var a=se,o=a.child;if(se.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(se=c;se!==null;){var u=se;switch(u.tag){case 0:case 11:case 15:ld(8,u,a)}var d=u.child;if(d!==null)d.return=u,se=d;else for(;se!==null;){u=se;var h=u.sibling,m=u.return;if(tL(u),u===c){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}se=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,se=o;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ld(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,se=b;break e}se=a.return}}var w=t.current;for(se=w;se!==null;){o=se;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,se=T;else e:for(o=w;se!==null;){if(s=se,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:bv(9,s)}}catch(P){Dt(s,s.return,P)}if(s===o){se=null;break e}var A=s.sibling;if(A!==null){A.return=s.return,se=A;break e}se=s.return}}if(Be=i,Ko(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(fv,t)}catch{}r=!0}return r}finally{Ye=n,$r.transition=e}}return!1}function Dk(t,e,n){e=vc(n,e),e=W2(t,e,1),t=bo(t,e,1),e=Jn(),t!==null&&(vf(t,1,e),hr(t,e))}function Dt(t,e,n){if(t.tag===3)Dk(t,t,n);else for(;e!==null;){if(e.tag===3){Dk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wo===null||!wo.has(r))){t=vc(n,t),t=H2(e,t,1),e=bo(e,t,1),t=Jn(),e!==null&&(vf(e,1,t),hr(e,t));break}}e=e.return}}function bH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jn(),t.pingedLanes|=t.suspendedLanes&n,fn===t&&(xn&n)===n&&(Zt===4||Zt===3&&(xn&130023424)===xn&&500>Ft()-CS?As(t,0):TS|=n),hr(t,e)}function dL(t,e){e===0&&(t.mode&1?(e=Bh,Bh<<=1,!(Bh&130023424)&&(Bh=4194304)):e=1);var n=Jn();t=va(t,e),t!==null&&(vf(t,e,n),hr(t,n))}function wH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dL(t,n)}function _H(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),dL(t,n)}var fL;fL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dr.current)lr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lr=!1,cH(t,e,n);lr=!!(t.flags&131072)}else lr=!1,Et&&e.flags&1048576&&g2(e,km,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bp(t,e),t=e.pendingProps;var i=hc(e,Bn.current);tc(e,n),i=bS(null,e,r,t,i,n);var a=wS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fr(r)?(a=!0,Tm(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mS(e),i.updater=Ev,e.stateNode=i,i._reactInternals=e,Db(e,r,t,n),e=Mb(null,e,r,!0,a,n)):(e.tag=0,Et&&a&&lS(e),Yn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AH(r),t=ei(r,t),i){case 0:e=Nb(null,e,r,t,n);break e;case 1:e=_k(null,e,r,t,n);break e;case 11:e=bk(null,e,r,t,n);break e;case 14:e=wk(null,e,r,ei(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ei(r,i),Nb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ei(r,i),_k(t,e,r,i,n);case 3:e:{if(Y2(e),t===null)throw Error(X(387));r=e.pendingProps,a=e.memoizedState,i=a.element,_2(t,e),Rm(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=vc(Error(X(423)),e),e=Sk(t,e,r,n,i);break e}else if(r!==i){i=vc(Error(X(424)),e),e=Sk(t,e,r,n,i);break e}else for(_r=Eo(e.stateNode.containerInfo.firstChild),Tr=e,Et=!0,ni=null,n=b2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pc(),r===i){e=ya(t,e,n);break e}Yn(t,e,r,n)}e=e.child}return e;case 5:return S2(e),t===null&&Ib(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Ab(r,i)?o=null:a!==null&&Ab(r,a)&&(e.flags|=32),K2(t,e),Yn(t,e,o,n),e.child;case 6:return t===null&&Ib(e),null;case 13:return Q2(t,e,n);case 4:return gS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mc(e,null,r,n):Yn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ei(r,i),bk(t,e,r,i,n);case 7:return Yn(t,e,e.pendingProps,n),e.child;case 8:return Yn(t,e,e.pendingProps.children,n),e.child;case 12:return Yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,ot(Im,r._currentValue),r._currentValue=o,a!==null)if(ui(a.value,o)){if(a.children===i.children&&!dr.current){e=ya(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=la(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Pb(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(X(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Pb(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Yn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,tc(e,n),i=Hr(i),r=r(i),e.flags|=1,Yn(t,e,r,n),e.child;case 14:return r=e.type,i=ei(r,e.pendingProps),i=ei(r.type,i),wk(t,e,r,i,n);case 15:return q2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ei(r,i),Bp(t,e),e.tag=1,fr(r)?(t=!0,Tm(e)):t=!1,tc(e,n),$2(e,r,i),Db(e,r,i,n),Mb(null,e,r,!0,t,n);case 19:return X2(t,e,n);case 22:return G2(t,e,n)}throw Error(X(156,e.tag))};function hL(t,e){return UM(t,e)}function SH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(t,e,n,r){return new SH(t,e,n,r)}function RS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AH(t){if(typeof t=="function")return RS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Q_)return 11;if(t===X_)return 14}return 2}function So(t,e){var n=t.alternate;return n===null?(n=zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hp(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")RS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ml:return xs(n.children,i,a,e);case Y_:o=8,i|=8;break;case nb:return t=zr(12,n,e,i|2),t.elementType=nb,t.lanes=a,t;case rb:return t=zr(13,n,e,i),t.elementType=rb,t.lanes=a,t;case ib:return t=zr(19,n,e,i),t.elementType=ib,t.lanes=a,t;case SM:return _v(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wM:o=10;break e;case _M:o=9;break e;case Q_:o=11;break e;case X_:o=14;break e;case Ya:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=zr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function xs(t,e,n,r){return t=zr(7,t,r,e),t.lanes=n,t}function _v(t,e,n,r){return t=zr(22,t,r,e),t.elementType=SM,t.lanes=n,t.stateNode={isHidden:!1},t}function Y0(t,e,n){return t=zr(6,t,null,e),t.lanes=n,t}function Q0(t,e,n){return e=zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=P0(0),this.expirationTimes=P0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function DS(t,e,n,r,i,a,o,s,l){return t=new xH(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=zr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mS(a),t}function TH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pL(t){if(!t)return Do;t=t._reactInternals;e:{if(ol(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(fr(n))return p2(t,n,e)}return e}function mL(t,e,n,r,i,a,o,s,l){return t=DS(n,r,!0,t,i,a,o,s,l),t.context=pL(null),n=t.current,r=Jn(),i=_o(n),a=la(r,i),a.callback=e??null,bo(n,a,i),t.current.lanes=i,vf(t,i,r),hr(t,r),t}function Sv(t,e,n,r){var i=e.current,a=Jn(),o=_o(i);return n=pL(n),e.context===null?e.context=n:e.pendingContext=n,e=la(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bo(i,e,o),t!==null&&(li(t,i,o,a),Vp(t,i,o)),o}function Vm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ok(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function OS(t,e){Ok(t,e),(t=t.alternate)&&Ok(t,e)}function CH(){return null}var gL=typeof reportError=="function"?reportError:function(t){console.error(t)};function NS(t){this._internalRoot=t}Av.prototype.render=NS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Sv(t,e,null,null)};Av.prototype.unmount=NS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fs(function(){Sv(null,t,null,null)}),e[ga]=null}};function Av(t){this._internalRoot=t}Av.prototype.unstable_scheduleHydration=function(t){if(t){var e=GM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ja.length&&e!==0&&e<Ja[n].priority;n++);Ja.splice(n,0,t),n===0&&YM(t)}};function MS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nk(){}function kH(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Vm(o);a.call(c)}}var o=mL(e,r,t,0,null,!1,!1,"",Nk);return t._reactRootContainer=o,t[ga]=o.current,Rd(t.nodeType===8?t.parentNode:t),Fs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=Vm(l);s.call(c)}}var l=DS(t,0,!1,null,null,!1,!1,"",Nk);return t._reactRootContainer=l,t[ga]=l.current,Rd(t.nodeType===8?t.parentNode:t),Fs(function(){Sv(e,l,n,r)}),l}function Tv(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Vm(o);s.call(l)}}Sv(e,o,t,i)}else o=kH(n,e,t,i,r);return Vm(o)}HM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qu(e.pendingLanes);n!==0&&(eS(e,n|1),hr(e,Ft()),!(Be&6)&&(yc=Ft()+500,Ko()))}break;case 13:Fs(function(){var r=va(t,1);if(r!==null){var i=Jn();li(r,t,1,i)}}),OS(t,1)}};tS=function(t){if(t.tag===13){var e=va(t,134217728);if(e!==null){var n=Jn();li(e,t,134217728,n)}OS(t,134217728)}};qM=function(t){if(t.tag===13){var e=_o(t),n=va(t,e);if(n!==null){var r=Jn();li(n,t,e,r)}OS(t,e)}};GM=function(){return Ye};KM=function(t,e){var n=Ye;try{return Ye=t,e()}finally{Ye=n}};pb=function(t,e,n){switch(e){case"input":if(sb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gv(r);if(!i)throw Error(X(90));xM(r),sb(r,i)}}}break;case"textarea":CM(t,n);break;case"select":e=n.value,e!=null&&Xl(t,!!n.multiple,e,!1)}};NM=kS;MM=Fs;var IH={usingClientEntryPoint:!1,Events:[Ef,Vl,gv,DM,OM,kS]},Du={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PH={bundleType:Du.bundleType,version:Du.version,rendererPackageName:Du.rendererPackageName,rendererConfig:Du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FM(t),t===null?null:t.stateNode},findFiberByHostInstance:Du.findFiberByHostInstance||CH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{fv=Jh.inject(PH),ki=Jh}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IH;Or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!MS(e))throw Error(X(200));return TH(t,e,null,n)};Or.createRoot=function(t,e){if(!MS(t))throw Error(X(299));var n=!1,r="",i=gL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=DS(t,1,!1,null,null,n,!1,r,i),t[ga]=e.current,Rd(t.nodeType===8?t.parentNode:t),new NS(e)};Or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=FM(e),t=t===null?null:t.stateNode,t};Or.flushSync=function(t){return Fs(t)};Or.hydrate=function(t,e,n){if(!xv(e))throw Error(X(200));return Tv(null,t,e,!0,n)};Or.hydrateRoot=function(t,e,n){if(!MS(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=gL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mL(e,null,t,1,n??null,i,!1,a,o),t[ga]=e.current,Rd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Av(e)};Or.render=function(t,e,n){if(!xv(e))throw Error(X(200));return Tv(null,t,e,!1,n)};Or.unmountComponentAtNode=function(t){if(!xv(t))throw Error(X(40));return t._reactRootContainer?(Fs(function(){Tv(null,null,t,!1,function(){t._reactRootContainer=null,t[ga]=null})}),!0):!1};Or.unstable_batchedUpdates=kS;Or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xv(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Tv(t,e,n,!1,r)};Or.version="18.3.1-next-f1338f8080-20240426";function vL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vL)}catch(t){console.error(t)}}vL(),vM.exports=Or;var Vs=vM.exports,yL,Mk=Vs;yL=Mk.createRoot,Mk.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}var co;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(co||(co={}));const Lk="popstate";function RH(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return Gb("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:EL(i)}return OH(e,n,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DH(){return Math.random().toString(36).substr(2,8)}function jk(t,e){return{usr:t.state,key:t.key,idx:e}}function Gb(t,e,n,r){return n===void 0&&(n=null),Ud({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hc(e):e,{state:n,key:e&&e.key||r||DH()})}function EL(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function OH(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=co.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ud({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){s=co.Pop;let E=u(),b=E==null?null:E-c;c=E,l&&l({action:s,location:y.location,delta:b})}function h(E,b){s=co.Push;let w=Gb(y.location,E,b);c=u()+1;let T=jk(w,c),A=y.createHref(w);try{o.pushState(T,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(A)}a&&l&&l({action:s,location:y.location,delta:1})}function m(E,b){s=co.Replace;let w=Gb(y.location,E,b);c=u();let T=jk(w,c),A=y.createHref(w);o.replaceState(T,"",A),a&&l&&l({action:s,location:y.location,delta:0})}function g(E){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof E=="string"?E:EL(E);return w=w.replace(/ $/,"%20"),qt(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let y={get action(){return s},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Lk,d),l=E,()=>{i.removeEventListener(Lk,d),l=null}},createHref(E){return e(i,E)},createURL:g,encodeLocation(E){let b=g(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(E){return o.go(E)}};return y}var Fk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fk||(Fk={}));function NH(t,e,n){return n===void 0&&(n="/"),MH(t,e,n)}function MH(t,e,n,r){let i=typeof e=="string"?Hc(e):e,a=_L(i.pathname||"/",n);if(a==null)return null;let o=bL(t);LH(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=KH(a);s=HH(o[l],c)}return s}function bL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(qt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ts([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(qt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bL(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:$H(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of wL(a.path))i(a,o,l)}),e}function wL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=wL(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function LH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jH=/^:[\w-]+$/,FH=3,VH=2,UH=1,zH=10,BH=-2,Vk=t=>t==="*";function $H(t,e){let n=t.split("/"),r=n.length;return n.some(Vk)&&(r+=BH),e&&(r+=VH),n.filter(i=>!Vk(i)).reduce((i,a)=>i+(jH.test(a)?FH:a===""?UH:zH),r)}function WH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function HH(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",d=qH({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ts([a,d.pathname]),pathnameBase:JH(Ts([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Ts([a,d.pathnameBase]))}return o}function qH(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let y=s[d]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[d];return m&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function GH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),LS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return LS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _L(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const YH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QH=t=>YH.test(t);function XH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Hc(t):t,a;if(n)if(QH(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),LS(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=Uk(n.substring(1),"/"):a=Uk(n,e)}else a=e;return{pathname:a,search:e9(r),hash:t9(i)}}function Uk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function X0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SL(t,e){let n=ZH(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function AL(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Hc(t):(i=Ud({},t),qt(!i.pathname||!i.pathname.includes("?"),X0("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),X0("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),X0("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?e[d]:"/"}let l=XH(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ts=t=>t.join("/").replace(/\/\/+/g,"/"),JH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xL=["post","put","patch","delete"];new Set(xL);const r9=["get",...xL];new Set(r9);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}const jS=v.createContext(null),i9=v.createContext(null),wf=v.createContext(null),Cv=v.createContext(null),sl=v.createContext({outlet:null,matches:[],isDataRoute:!1}),TL=v.createContext(null);function _f(){return v.useContext(Cv)!=null}function kv(){return _f()||qt(!1),v.useContext(Cv).location}function CL(t){v.useContext(wf).static||v.useLayoutEffect(t)}function pn(){let{isDataRoute:t}=v.useContext(sl);return t?v9():a9()}function a9(){_f()||qt(!1);let t=v.useContext(jS),{basename:e,future:n,navigator:r}=v.useContext(wf),{matches:i}=v.useContext(sl),{pathname:a}=kv(),o=JSON.stringify(SL(i,n.v7_relativeSplatPath)),s=v.useRef(!1);return CL(()=>{s.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=AL(c,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ts([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,a,t])}function o9(t,e){return s9(t,e)}function s9(t,e,n,r){_f()||qt(!1);let{navigator:i}=v.useContext(wf),{matches:a}=v.useContext(sl),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=kv(),u;if(e){var d;let E=typeof e=="string"?Hc(e):e;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||qt(!1),u=E}else u=c;let h=u.pathname||"/",m=h;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let g=NH(t,{pathname:m}),y=f9(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},s,E.params),pathname:Ts([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Ts([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,n,r);return e&&y?v.createElement(Cv.Provider,{value:{location:zd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:co.Pop}},y):y}function l9(){let t=g9(),e=n9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,null)}const c9=v.createElement(l9,null);class u9 extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(sl.Provider,{value:this.props.routeContext},v.createElement(TL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d9(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(jS);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(sl.Provider,{value:e},r)}function f9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);u>=0||qt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:m}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let m,g=!1,y=null,E=null;n&&(m=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||c9,l&&(c<0&&h===0?(y9("route-fallback"),g=!0,E=null):c===h&&(g=!0,E=d.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,h+1)),w=()=>{let T;return m?T=y:g?T=E:d.route.Component?T=v.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=u,v.createElement(d9,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(u9,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var kL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kL||{}),IL=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(IL||{});function h9(t){let e=v.useContext(jS);return e||qt(!1),e}function p9(t){let e=v.useContext(i9);return e||qt(!1),e}function m9(t){let e=v.useContext(sl);return e||qt(!1),e}function PL(t){let e=m9(),n=e.matches[e.matches.length-1];return n.route.id||qt(!1),n.route.id}function g9(){var t;let e=v.useContext(TL),n=p9(),r=PL();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function v9(){let{router:t}=h9(kL.UseNavigateStable),e=PL(IL.UseNavigateStable),n=v.useRef(!1);return CL(()=>{n.current=!0}),v.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zd({fromRouteId:e},a)))},[t,e])}const zk={};function y9(t,e,n){zk[t]||(zk[t]=!0)}function E9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Bk(t){let{to:e,replace:n,state:r,relative:i}=t;_f()||qt(!1);let{future:a,static:o}=v.useContext(wf),{matches:s}=v.useContext(sl),{pathname:l}=kv(),c=pn(),u=AL(e,SL(s,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return v.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function dt(t){qt(!1)}function b9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=co.Pop,navigator:a,static:o=!1,future:s}=t;_f()&&qt(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:a,static:o,future:zd({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Hc(r));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:g="default"}=r,y=v.useMemo(()=>{let E=_L(u,l);return E==null?null:{location:{pathname:E,search:d,hash:h,state:m,key:g},navigationType:i}},[l,u,d,h,m,g,i]);return y==null?null:v.createElement(wf.Provider,{value:c},v.createElement(Cv.Provider,{children:n,value:y}))}function $k(t){let{children:e,location:n}=t;return o9(Kb(e),n)}new Promise(()=>{});function Kb(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let a=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Kb(r.props.children,a));return}r.type!==dt&&qt(!1),!r.props.index||!r.props.children||qt(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Kb(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yb(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function w9(t,e){let n=Yb(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const _9="6";try{window.__reactRouterVersion=_9}catch{}const S9="startTransition",Wk=gM[S9];function A9(t){let{basename:e,children:n,future:r,window:i}=t,a=v.useRef();a.current==null&&(a.current=RH({window:i,v5Compat:!0}));let o=a.current,[s,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=v.useCallback(d=>{c&&Wk?Wk(()=>l(d)):l(d)},[l,c]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.useEffect(()=>E9(r),[r]),v.createElement(b9,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}var Hk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hk||(Hk={}));var qk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qk||(qk={}));function x9(t){let e=v.useRef(Yb(t)),n=v.useRef(!1),r=kv(),i=v.useMemo(()=>w9(r.search,n.current?null:e.current),[r.search]),a=pn(),o=v.useCallback((s,l)=>{const c=Yb(typeof s=="function"?s(i):s);n.current=!0,a("?"+c,l)},[a,i]);return[i,o]}var Gk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},T9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},DL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,m=c&63;l||(m=64,o||(h=64)),r.push(n[u],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||d==null)throw new C9;const h=a<<2|s>>4;if(r.push(h),c!==64){const m=s<<4&240|c>>2;if(r.push(m),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k9=function(t){const e=RL(t);return DL.encodeByteArray(e,!0)},Um=function(t){return k9(t).replace(/\./g,"")},OL=function(t){try{return DL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=()=>I9().__FIREBASE_DEFAULTS__,R9=()=>{if(typeof process>"u"||typeof Gk>"u")return;const t=Gk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OL(t[1]);return e&&JSON.parse(e)},Iv=()=>{try{return P9()||R9()||D9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NL=t=>{var e,n;return(n=(e=Iv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ML=t=>{const e=NL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LL=()=>{var t;return(t=Iv())===null||t===void 0?void 0:t.config},jL=t=>{var e;return(e=Iv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Um(JSON.stringify(n)),Um(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function M9(){var t;const e=(t=Iv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function F9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V9(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function U9(){return!M9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z9(){try{return typeof indexedDB=="object"}catch{return!1}}function B9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9="FirebaseError";class $i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$9,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sf.prototype.create)}}class Sf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?W9(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new $i(i,s,r)}}function W9(t,e){return t.replace(H9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const H9=/\{\$([^}]+)}/g;function q9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ec(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(Kk(a)&&Kk(o)){if(!Ec(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ku(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function G9(t,e){const n=new K9(t,e);return n.subscribe.bind(n)}class K9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Z0),i.error===void 0&&(i.error=Z0),i.complete===void 0&&(i.complete=Z0);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Z0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class Oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new O9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z9(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function X9(t){return t===cs?void 0:t}function Z9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Q9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const e8={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},t8=je.INFO,n8={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},r8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=n8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class FS{constructor(e){this.name=e,this._logLevel=t8,this._logHandler=r8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const i8=(t,e)=>e.some(n=>t instanceof n);let Yk,Qk;function a8(){return Yk||(Yk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o8(){return Qk||(Qk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VL=new WeakMap,Qb=new WeakMap,UL=new WeakMap,J0=new WeakMap,VS=new WeakMap;function s8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Ao(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VL.set(n,t)}).catch(()=>{}),VS.set(e,t),e}function l8(t){if(Qb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Qb.set(t,e)}let Xb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ao(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function c8(t){Xb=t(Xb)}function u8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(eE(this),e,...n);return UL.set(r,e.sort?e.sort():[e]),Ao(r)}:o8().includes(t)?function(...e){return t.apply(eE(this),e),Ao(VL.get(this))}:function(...e){return Ao(t.apply(eE(this),e))}}function d8(t){return typeof t=="function"?u8(t):(t instanceof IDBTransaction&&l8(t),i8(t,a8())?new Proxy(t,Xb):t)}function Ao(t){if(t instanceof IDBRequest)return s8(t);if(J0.has(t))return J0.get(t);const e=d8(t);return e!==t&&(J0.set(t,e),VS.set(e,t)),e}const eE=t=>VS.get(t);function f8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Ao(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ao(o.result),l.oldVersion,l.newVersion,Ao(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const h8=["get","getKey","getAll","getAllKeys","count"],p8=["put","add","delete","clear"],tE=new Map;function Xk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tE.get(e))return tE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=p8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||h8.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(s.shift())),(await Promise.all([c[n](...s),i&&l.done]))[0]};return tE.set(e,a),a}c8(t=>({...t,get:(e,n,r)=>Xk(e,n)||t.get(e,n,r),has:(e,n)=>!!Xk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function g8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zb="@firebase/app",Zk="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new FS("@firebase/app"),v8="@firebase/app-compat",y8="@firebase/analytics-compat",E8="@firebase/analytics",b8="@firebase/app-check-compat",w8="@firebase/app-check",_8="@firebase/auth",S8="@firebase/auth-compat",A8="@firebase/database",x8="@firebase/data-connect",T8="@firebase/database-compat",C8="@firebase/functions",k8="@firebase/functions-compat",I8="@firebase/installations",P8="@firebase/installations-compat",R8="@firebase/messaging",D8="@firebase/messaging-compat",O8="@firebase/performance",N8="@firebase/performance-compat",M8="@firebase/remote-config",L8="@firebase/remote-config-compat",j8="@firebase/storage",F8="@firebase/storage-compat",V8="@firebase/firestore",U8="@firebase/vertexai-preview",z8="@firebase/firestore-compat",B8="firebase",$8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="[DEFAULT]",W8={[Zb]:"fire-core",[v8]:"fire-core-compat",[E8]:"fire-analytics",[y8]:"fire-analytics-compat",[w8]:"fire-app-check",[b8]:"fire-app-check-compat",[_8]:"fire-auth",[S8]:"fire-auth-compat",[A8]:"fire-rtdb",[x8]:"fire-data-connect",[T8]:"fire-rtdb-compat",[C8]:"fire-fn",[k8]:"fire-fn-compat",[I8]:"fire-iid",[P8]:"fire-iid-compat",[R8]:"fire-fcm",[D8]:"fire-fcm-compat",[O8]:"fire-perf",[N8]:"fire-perf-compat",[M8]:"fire-rc",[L8]:"fire-rc-compat",[j8]:"fire-gcs",[F8]:"fire-gcs-compat",[V8]:"fire-fst",[z8]:"fire-fst-compat",[U8]:"fire-vertex","fire-js":"fire-js",[B8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=new Map,H8=new Map,ew=new Map;function Jk(t,e){try{t.container.addComponent(e)}catch(n){Ea.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Us(t){const e=t.name;if(ew.has(e))return Ea.debug(`There were multiple attempts to register component ${e}.`),!1;ew.set(e,t);for(const n of zm.values())Jk(n,t);for(const n of H8.values())Jk(n,t);return!0}function Pv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xo=new Sf("app","Firebase",q8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=$8;function zL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xo.create("bad-app-name",{appName:String(i)});if(n||(n=LL()),!n)throw xo.create("no-options");const a=zm.get(i);if(a){if(Ec(n,a.options)&&Ec(r,a.config))return a;throw xo.create("duplicate-app",{appName:i})}const o=new J9(i);for(const l of ew.values())o.addComponent(l);const s=new G8(n,r,o);return zm.set(i,s),s}function US(t=Jb){const e=zm.get(t);if(!e&&t===Jb&&LL())return zL();if(!e)throw xo.create("no-app",{appName:t});return e}function Pi(t,e,n){var r;let i=(r=W8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ea.warn(s.join(" "));return}Us(new Oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8="firebase-heartbeat-database",Y8=1,Bd="firebase-heartbeat-store";let nE=null;function BL(){return nE||(nE=f8(K8,Y8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw xo.create("idb-open",{originalErrorMessage:t.message})})),nE}async function Q8(t){try{const n=(await BL()).transaction(Bd),r=await n.objectStore(Bd).get($L(t));return await n.done,r}catch(e){if(e instanceof $i)Ea.warn(e.message);else{const n=xo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ea.warn(n.message)}}}async function eI(t,e){try{const r=(await BL()).transaction(Bd,"readwrite");await r.objectStore(Bd).put(e,$L(t)),await r.done}catch(n){if(n instanceof $i)Ea.warn(n.message);else{const r=xo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ea.warn(r.message)}}}function $L(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=1024,Z8=30*24*60*60*1e3;class J8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=tI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=Z8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ea.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tI(),{heartbeatsToSend:r,unsentEntries:i}=eq(this._heartbeatsCache.heartbeats),a=Um(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ea.warn(n),""}}}function tI(){return new Date().toISOString().substring(0,10)}function eq(t,e=X8){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),nI(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z9()?B9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Q8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nI(t){return Um(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(t){Us(new Oo("platform-logger",e=>new m8(e),"PRIVATE")),Us(new Oo("heartbeat",e=>new J8(e),"PRIVATE")),Pi(Zb,Zk,t),Pi(Zb,Zk,"esm2017"),Pi("fire-js","")}nq("");var rq="firebase",iq="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(rq,iq,"app");function zS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function WL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aq=WL,HL=new Sf("auth","Firebase",WL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=new FS("@firebase/auth");function oq(t,...e){Bm.logLevel<=je.WARN&&Bm.warn(`Auth (${ll}): ${t}`,...e)}function qp(t,...e){Bm.logLevel<=je.ERROR&&Bm.error(`Auth (${ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,...e){throw BS(t,...e)}function Ri(t,...e){return BS(t,...e)}function qL(t,e,n){const r=Object.assign(Object.assign({},aq()),{[e]:n});return new Sf("auth","Firebase",r).create(e,{appName:t.name})}function ca(t){return qL(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HL.create(t,...e)}function me(t,e,...n){if(!t)throw BS(e,...n)}function na(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qp(e),new Error(e)}function ba(t,e){t||na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sq(){return rI()==="http:"||rI()==="https:"}function rI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sq()||j9()||"connection"in navigator)?navigator.onLine:!0}function cq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ba(n>e,"Short delay should be less than long delay!"),this.isMobile=N9()||F9()}get(){return lq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e){ba(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=new xf(3e4,6e4);function Wi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function mi(t,e,n,r,i={}){return KL(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=Af(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return L9()||(c.referrerPolicy="no-referrer"),GL.fetch()(YL(t,t.config.apiHost,n,s),c)})}async function KL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uq),e);try{const i=new hq(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw ep(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ep(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ep(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ep(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw qL(t,u,c);Gr(t,u)}}catch(i){if(i instanceof $i)throw i;Gr(t,"network-request-failed",{message:String(i)})}}async function Tf(t,e,n,r,i={}){const a=await mi(t,e,n,r,i);return"mfaPendingCredential"in a&&Gr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function YL(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?$S(t.config,i):`${t.config.apiScheme}://${i}`}function fq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),dq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ep(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ri(t,e,r);return i.customData._tokenResponse=n,i}function iI(t){return t!==void 0&&t.enterprise!==void 0}class pq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function mq(t,e){return mi(t,"GET","/v2/recaptchaConfig",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gq(t,e){return mi(t,"POST","/v1/accounts:delete",e)}async function QL(t,e){return mi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vq(t,e=!1){const n=Xe(t),r=await n.getIdToken(e),i=WS(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:dd(rE(i.auth_time)),issuedAtTime:dd(rE(i.iat)),expirationTime:dd(rE(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function rE(t){return Number(t)*1e3}function WS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qp("JWT malformed, contained fewer than 3 sections"),null;try{const i=OL(n);return i?JSON.parse(i):(qp("Failed to decode base64 JWT payload"),null)}catch(i){return qp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aI(t){const e=WS(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $i&&yq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dd(this.lastLoginAt),this.creationTime=dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(t){var e;const n=t.auth,r=await t.getIdToken(),i=await bc(t,QL(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?XL(a.providerUserInfo):[],s=wq(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),u=l?c:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new nw(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function bq(t){const e=Xe(t);await $m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XL(t){return t.map(e=>{var{providerId:n}=e,r=zS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _q(t,e){const n=await KL(t,{},async()=>{const r=Af({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=YL(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",GL.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Sq(t,e){return mi(t,"POST","/v2/accounts:revokeToken",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=aI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await _q(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new rc;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(me(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rc,this.toJSON())}_performRefresh(){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ra{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=zS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Eq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new nw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await bc(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vq(this,e)}reload(){return bq(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $m(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(ca(this.auth));const e=await this.getIdToken();return await bc(this,gq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(s=n.tenantId)!==null&&s!==void 0?s:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:T,emailVerified:A,isAnonymous:P,providerData:k,stsTokenManager:S}=n;me(T&&S,e,"internal-error");const x=rc.fromJSON(this.name,S);me(typeof T=="string",e,"internal-error"),Ka(d,e.name),Ka(h,e.name),me(typeof A=="boolean",e,"internal-error"),me(typeof P=="boolean",e,"internal-error"),Ka(m,e.name),Ka(g,e.name),Ka(y,e.name),Ka(E,e.name),Ka(b,e.name),Ka(w,e.name);const I=new ra({uid:T,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:P,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:x,createdAt:b,lastLoginAt:w});return k&&Array.isArray(k)&&(I.providerData=k.map(D=>Object.assign({},D))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new rc;i.updateFromServerResponse(n);const a=new ra({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $m(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?XL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new rc;s.updateFromIdToken(r);const l=new ra({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new nw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new Map;function ia(t){ba(t instanceof Function,"Expected a class definition");let e=oI.get(t);return e?(ba(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZL.type="NONE";const sI=ZL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t,e,n){return`firebase:${t}:${e}:${n}`}class ic{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Gp(this.userKey,i.apiKey,a),this.fullPersistenceKey=Gp("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ra._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ic(ia(sI),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||ia(sI);const o=Gp(r,e.config.apiKey,e.name);let s=null;for(const c of n)try{const u=await c._get(o);if(u){const d=ra._fromJSON(e,u);c!==a&&(s=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new ic(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new ic(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ij(e))return"Blackberry";if(aj(e))return"Webos";if(ej(e))return"Safari";if((e.includes("chrome/")||tj(e))&&!e.includes("edge/"))return"Chrome";if(rj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JL(t=$n()){return/firefox\//i.test(t)}function ej(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tj(t=$n()){return/crios\//i.test(t)}function nj(t=$n()){return/iemobile/i.test(t)}function rj(t=$n()){return/android/i.test(t)}function ij(t=$n()){return/blackberry/i.test(t)}function aj(t=$n()){return/webos/i.test(t)}function HS(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Aq(t=$n()){var e;return HS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xq(){return V9()&&document.documentMode===10}function oj(t=$n()){return HS(t)||rj(t)||aj(t)||ij(t)||/windows phone/i.test(t)||nj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t,e=[]){let n;switch(t){case"Browser":n=lI($n());break;case"Worker":n=`${lI($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cq(t,e={}){return mi(t,"GET","/v2/passwordPolicy",Wi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq=6;class Iq{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cI(this),this.idTokenSubscription=new cI(this),this.beforeStateQueue=new Tq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ia(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ic.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await QL(this,{idToken:e}),r=await ra._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $m(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xi(this.app))return Promise.reject(ca(this));const n=e?Xe(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xi(this.app)?Promise.reject(ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ia(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Cq(this),n=new Iq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Sq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ia(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await ic.create(this,[ia(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Na(t){return Xe(t)}class cI{constructor(e){this.auth=e,this.observer=null,this.addObserver=G9(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rq(t){Rv=t}function lj(t){return Rv.loadJS(t)}function Dq(){return Rv.recaptchaEnterpriseScript}function Oq(){return Rv.gapiScript}function Nq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Mq="recaptcha-enterprise",Lq="NO_RECAPTCHA";class jq{constructor(e){this.type=Mq,this.auth=Na(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{mq(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new pq(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;iI(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(Lq)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&iI(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Dq();l.length!==0&&(l+=s),lj(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function uI(t,e,n,r=!1){const i=new jq(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Wm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await uI(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await uI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(t,e){const n=Pv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Ec(a,e??{}))return i;Gr(i,"already-initialized")}return n.initialize({options:e})}function Vq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ia);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Uq(t,e,n){const r=Na(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=cj(e),{host:o,port:s}=zq(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${a}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),Bq()}function cj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zq(t){const e=cj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:dI(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:dI(o)}}}function dI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Bq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return na("not implemented")}_getIdTokenResponse(e){return na("not implemented")}_linkToIdToken(e,n){return na("not implemented")}_getReauthenticationResolver(e){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,e){return mi(t,"POST","/v1/accounts:resetPassword",Wi(t,e))}async function $q(t,e){return mi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wq(t,e){return Tf(t,"POST","/v1/accounts:signInWithPassword",Wi(t,e))}async function Hq(t,e){return mi(t,"POST","/v1/accounts:sendOobCode",Wi(t,e))}async function qq(t,e){return Hq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(t,e){return Tf(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))}async function Kq(t,e){return Tf(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends qS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new $d(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $d(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,n,"signInWithPassword",Wq);case"emailLink":return Gq(e,{email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,r,"signUpPassword",$q);case"emailLink":return Kq(e,{idToken:n,email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t,e){return Tf(t,"POST","/v1/accounts:signInWithIdp",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="http://localhost";class zs extends qS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=zS(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new zs(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ac(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ac(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ac(e,n)}buildRequest(){const e={requestUri:Yq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Af(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Xq(t){const e=Ku(Yu(t)).link,n=e?Ku(Yu(e)).deep_link_id:null,r=Ku(Yu(t)).deep_link_id;return(r?Ku(Yu(r)).link:null)||r||n||e||t}class GS{constructor(e){var n,r,i,a,o,s;const l=Ku(Yu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Qq((i=l.mode)!==null&&i!==void 0?i:null);me(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=Xq(e);try{return new GS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.providerId=qc.PROVIDER_ID}static credential(e,n){return $d._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=GS.parseLink(n);return me(r,"argument-error"),$d._fromEmailAndCode(e,r.code,r.tenantId)}}qc.PROVIDER_ID="password";qc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends dj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Cf{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Cf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return no.credential(n,r)}catch{return null}}}no.GOOGLE_SIGN_IN_METHOD="google.com";no.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Cf{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Cf{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return io.credential(n,r)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zq(t,e){return Tf(t,"POST","/v1/accounts:signUp",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ra._fromIdTokenResponse(e,r,i),o=fI(r);return new Bs({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fI(r);return new Bs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends $i{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hm(e,n,r,i)}}function fj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Hm._fromErrorAndOperation(t,a,e,r):a})}async function Jq(t,e,n=!1){const r=await bc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(t,e,n=!1){const{auth:r}=t;if(xi(r.app))return Promise.reject(ca(r));const i="reauthenticate";try{const a=await bc(t,fj(r,i,e,t),n);me(a.idToken,r,"internal-error");const o=WS(a.idToken);me(o,r,"internal-error");const{sub:s}=o;return me(t.uid===s,r,"user-mismatch"),Bs._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Gr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(t,e,n=!1){if(xi(t.app))return Promise.reject(ca(t));const r="signIn",i=await fj(t,r,e),a=await Bs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function tG(t,e){return hj(Na(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?YS._fromServerResponse(e,n):"totpInfo"in n?QS._fromServerResponse(e,n):Gr(e,"internal-error")}}class YS extends KS{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new YS(n)}}class QS extends KS{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new QS(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t,e,n){var r;me(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),me(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(me(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(me(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(t){const e=Na(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pj(t,e,n){const r=Na(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&nG(r,i,n),await Wm(r,i,"getOobCode",qq)}async function rG(t,e,n){await uj(Xe(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XS(t),r})}async function iG(t,e){const n=Xe(t),r=await uj(n,{oobCode:e}),i=r.requestType;switch(me(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,n,"internal-error");default:me(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=KS._fromServerResponse(Na(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function aG(t,e){const{data:n}=await iG(Xe(t),e);return n.email}async function oG(t,e,n){if(xi(t.app))return Promise.reject(ca(t));const r=Na(t),o=await Wm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zq).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&XS(t),l}),s=await Bs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function mj(t,e,n){return xi(t.app)?Promise.reject(ca(t)):tG(Xe(t),qc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sG(t,e){return mi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lG(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Xe(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await bc(r,sG(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e){return Xe(t).setPersistence(e)}function cG(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function uG(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function gj(t,e,n,r){return Xe(t).onAuthStateChanged(e,n,r)}function ZS(t){return Xe(t).signOut()}const qm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qm,"1"),this.storage.removeItem(qm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=1e3,fG=10;class yj extends vj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);xq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yj.type="LOCAL";const rw=yj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej extends vj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ej.type="SESSION";const bj=Ej;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Dv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async c=>c(n.origin,a)),l=await hG(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=JS("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function mG(t){Di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function gG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yG(){return wj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="firebaseLocalStorageDb",EG=1,Gm="firebaseLocalStorage",Sj="fbase_key";class kf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ov(t,e){return t.transaction([Gm],e?"readwrite":"readonly").objectStore(Gm)}function bG(){const t=indexedDB.deleteDatabase(_j);return new kf(t).toPromise()}function iw(){const t=indexedDB.open(_j,EG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gm,{keyPath:Sj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gm)?e(r):(r.close(),await bG(),e(await iw()))})})}async function pI(t,e,n){const r=Ov(t,!0).put({[Sj]:e,value:n});return new kf(r).toPromise()}async function wG(t,e){const n=Ov(t,!1).get(e),r=await new kf(n).toPromise();return r===void 0?null:r.value}function mI(t,e){const n=Ov(t,!0).delete(e);return new kf(n).toPromise()}const _G=800,SG=3;class Aj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dv._getInstance(yG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gG(),!this.activeServiceWorker)return;this.sender=new pG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iw();return await pI(e,qm,"1"),await mI(e,qm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ov(i,!1).getAll();return new kf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_G)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Aj.type="LOCAL";const AG=Aj;new xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(t,e){return e?ia(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends qS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ac(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ac(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TG(t){return hj(t.auth,new eA(t),t.bypassAuthState)}function CG(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),eG(n,new eA(t),t.bypassAuthState)}async function kG(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),Jq(n,new eA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TG;case"linkViaPopup":case"linkViaRedirect":return kG;case"reauthViaPopup":case"reauthViaRedirect":return CG;default:Gr(this.auth,"internal-error")}}resolve(e){ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=new xf(2e3,1e4);class ql extends xj{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ql.currentPopupAction&&ql.currentPopupAction.cancel(),ql.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){ba(this.filter.length===1,"Popup operations only handle one event");const e=JS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ql.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IG.get())};e()}}ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG="pendingRedirect",Kp=new Map;class RG extends xj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kp.get(this.auth._key());if(!e){try{const r=await DG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kp.set(this.auth._key(),e)}return this.bypassAuthState||Kp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DG(t,e){const n=MG(e),r=NG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function OG(t,e){Kp.set(t._key(),e)}function NG(t){return ia(t._redirectPersistence)}function MG(t){return Gp(PG,t.config.apiKey,t.name)}async function LG(t,e,n=!1){if(xi(t.app))return Promise.reject(ca(t));const r=Na(t),i=xG(r,e),o=await new RG(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=10*60*1e3;class FG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Tj(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ri(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jG&&this.cachedEventUids.clear(),this.cachedEventUids.has(gI(e))}saveEventToCache(e){this.cachedEventUids.add(gI(e)),this.lastProcessedEventTime=Date.now()}}function gI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UG(t,e={}){return mi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BG=/^https?/;async function $G(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UG(t);for(const n of e)try{if(WG(n))return}catch{}Gr(t,"unauthorized-domain")}function WG(t){const e=tw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BG.test(n))return!1;if(zG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=new xf(3e4,6e4);function vI(){const t=Di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qG(t){return new Promise((e,n)=>{var r,i,a;function o(){vI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vI(),n(Ri(t,"network-request-failed"))},timeout:HG.get()})}if(!((i=(r=Di().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Di().gapi)===null||a===void 0)&&a.load)o();else{const s=Nq("iframefcb");return Di()[s]=()=>{gapi.load?o():n(Ri(t,"network-request-failed"))},lj(`${Oq()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Yp=null,e})}let Yp=null;function GG(t){return Yp=Yp||qG(t),Yp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG=new xf(5e3,15e3),YG="__/auth/iframe",QG="emulator/auth/iframe",XG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JG(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$S(e,QG):`https://${t.config.authDomain}/${YG}`,r={apiKey:e.apiKey,appName:t.name,v:ll},i=ZG.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Af(r).slice(1)}`}async function eK(t){const e=await GG(t),n=Di().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:JG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XG,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Ri(t,"network-request-failed"),s=Di().setTimeout(()=>{a(o)},KG.get());function l(){Di().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nK=500,rK=600,iK="_blank",aK="http://localhost";class yI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oK(t,e,n,r=nK,i=rK){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},tK),{width:r.toString(),height:i.toString(),top:a,left:o}),c=$n().toLowerCase();n&&(s=tj(c)?iK:n),JL(c)&&(e=e||aK,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,g])=>`${h}${m}=${g},`,"");if(Aq(c)&&s!=="_self")return sK(e||"",s),new yI(null);const d=window.open(e||"",s,u);me(d,t,"popup-blocked");try{d.focus()}catch{}return new yI(d)}function sK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK="__/auth/handler",cK="emulator/auth/handler",uK=encodeURIComponent("fac");async function EI(t,e,n,r,i,a){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ll,eventId:i};if(e instanceof dj){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",q9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Cf){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${uK}=${encodeURIComponent(l)}`:"";return`${dK(t)}?${Af(s).slice(1)}${c}`}function dK({config:t}){return t.emulator?$S(t,cK):`https://${t.authDomain}/${lK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="webStorageSupport";class fK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bj,this._completeRedirectFn=LG,this._overrideRedirectResult=OG}async _openPopup(e,n,r,i){var a;ba((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await EI(e,n,r,tw(),i);return oK(e,o,JS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await EI(e,n,r,tw(),i);return mG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ba(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eK(e),r=new FG(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(iE,{type:iE},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[iE];o!==void 0&&n(!!o),Gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$G(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oj()||ej()||HS()}}const hK=fK;var bI="@firebase/auth",wI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gK(t){Us(new Oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sj(t)},c=new Pq(r,i,a,l);return Vq(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Us(new Oo("auth-internal",e=>{const n=Na(e.getProvider("auth").getImmediate());return(r=>new pK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(bI,wI,mK(t)),Pi(bI,wI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK=5*60,yK=jL("authIdTokenMaxAge")||vK;let _I=null;const EK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yK)return;const i=n==null?void 0:n.token;_I!==i&&(_I=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Cj(t=US()){const e=Pv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Fq(t,{popupRedirectResolver:hK,persistence:[AG,rw,bj]}),r=jL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=EK(a.toString());uG(n,o,()=>o(n.currentUser)),cG(n,s=>o(s))}}const i=NL("auth");return i&&Uq(n,`http://${i}`),n}function bK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Rq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ri("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",bK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gK("Browser");var SI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,kj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,x){function I(){}I.prototype=x.prototype,S.D=x.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(D,R,O){for(var N=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)N[Q-2]=arguments[Q];return x.prototype[R].apply(D,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,x,I){I||(I=0);var D=Array(16);if(typeof x=="string")for(var R=0;16>R;++R)D[R]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(R=0;16>R;++R)D[R]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=S.g[0],I=S.g[1],R=S.g[2];var O=S.g[3],N=x+(O^I&(R^O))+D[0]+3614090360&4294967295;x=I+(N<<7&4294967295|N>>>25),N=O+(R^x&(I^R))+D[1]+3905402710&4294967295,O=x+(N<<12&4294967295|N>>>20),N=R+(I^O&(x^I))+D[2]+606105819&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(x^R&(O^x))+D[3]+3250441966&4294967295,I=R+(N<<22&4294967295|N>>>10),N=x+(O^I&(R^O))+D[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=O+(R^x&(I^R))+D[5]+1200080426&4294967295,O=x+(N<<12&4294967295|N>>>20),N=R+(I^O&(x^I))+D[6]+2821735955&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(x^R&(O^x))+D[7]+4249261313&4294967295,I=R+(N<<22&4294967295|N>>>10),N=x+(O^I&(R^O))+D[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=O+(R^x&(I^R))+D[9]+2336552879&4294967295,O=x+(N<<12&4294967295|N>>>20),N=R+(I^O&(x^I))+D[10]+4294925233&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(x^R&(O^x))+D[11]+2304563134&4294967295,I=R+(N<<22&4294967295|N>>>10),N=x+(O^I&(R^O))+D[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=O+(R^x&(I^R))+D[13]+4254626195&4294967295,O=x+(N<<12&4294967295|N>>>20),N=R+(I^O&(x^I))+D[14]+2792965006&4294967295,R=O+(N<<17&4294967295|N>>>15),N=I+(x^R&(O^x))+D[15]+1236535329&4294967295,I=R+(N<<22&4294967295|N>>>10),N=x+(R^O&(I^R))+D[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(x^I))+D[6]+3225465664&4294967295,O=x+(N<<9&4294967295|N>>>23),N=R+(x^I&(O^x))+D[11]+643717713&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^x&(R^O))+D[0]+3921069994&4294967295,I=R+(N<<20&4294967295|N>>>12),N=x+(R^O&(I^R))+D[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(x^I))+D[10]+38016083&4294967295,O=x+(N<<9&4294967295|N>>>23),N=R+(x^I&(O^x))+D[15]+3634488961&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^x&(R^O))+D[4]+3889429448&4294967295,I=R+(N<<20&4294967295|N>>>12),N=x+(R^O&(I^R))+D[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(x^I))+D[14]+3275163606&4294967295,O=x+(N<<9&4294967295|N>>>23),N=R+(x^I&(O^x))+D[3]+4107603335&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^x&(R^O))+D[8]+1163531501&4294967295,I=R+(N<<20&4294967295|N>>>12),N=x+(R^O&(I^R))+D[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=O+(I^R&(x^I))+D[2]+4243563512&4294967295,O=x+(N<<9&4294967295|N>>>23),N=R+(x^I&(O^x))+D[7]+1735328473&4294967295,R=O+(N<<14&4294967295|N>>>18),N=I+(O^x&(R^O))+D[12]+2368359562&4294967295,I=R+(N<<20&4294967295|N>>>12),N=x+(I^R^O)+D[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=O+(x^I^R)+D[8]+2272392833&4294967295,O=x+(N<<11&4294967295|N>>>21),N=R+(O^x^I)+D[11]+1839030562&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^x)+D[14]+4259657740&4294967295,I=R+(N<<23&4294967295|N>>>9),N=x+(I^R^O)+D[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=O+(x^I^R)+D[4]+1272893353&4294967295,O=x+(N<<11&4294967295|N>>>21),N=R+(O^x^I)+D[7]+4139469664&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^x)+D[10]+3200236656&4294967295,I=R+(N<<23&4294967295|N>>>9),N=x+(I^R^O)+D[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=O+(x^I^R)+D[0]+3936430074&4294967295,O=x+(N<<11&4294967295|N>>>21),N=R+(O^x^I)+D[3]+3572445317&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^x)+D[6]+76029189&4294967295,I=R+(N<<23&4294967295|N>>>9),N=x+(I^R^O)+D[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=O+(x^I^R)+D[12]+3873151461&4294967295,O=x+(N<<11&4294967295|N>>>21),N=R+(O^x^I)+D[15]+530742520&4294967295,R=O+(N<<16&4294967295|N>>>16),N=I+(R^O^x)+D[2]+3299628645&4294967295,I=R+(N<<23&4294967295|N>>>9),N=x+(R^(I|~O))+D[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=O+(I^(x|~R))+D[7]+1126891415&4294967295,O=x+(N<<10&4294967295|N>>>22),N=R+(x^(O|~I))+D[14]+2878612391&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~x))+D[5]+4237533241&4294967295,I=R+(N<<21&4294967295|N>>>11),N=x+(R^(I|~O))+D[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=O+(I^(x|~R))+D[3]+2399980690&4294967295,O=x+(N<<10&4294967295|N>>>22),N=R+(x^(O|~I))+D[10]+4293915773&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~x))+D[1]+2240044497&4294967295,I=R+(N<<21&4294967295|N>>>11),N=x+(R^(I|~O))+D[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=O+(I^(x|~R))+D[15]+4264355552&4294967295,O=x+(N<<10&4294967295|N>>>22),N=R+(x^(O|~I))+D[6]+2734768916&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~x))+D[13]+1309151649&4294967295,I=R+(N<<21&4294967295|N>>>11),N=x+(R^(I|~O))+D[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=O+(I^(x|~R))+D[11]+3174756917&4294967295,O=x+(N<<10&4294967295|N>>>22),N=R+(x^(O|~I))+D[2]+718787259&4294967295,R=O+(N<<15&4294967295|N>>>17),N=I+(O^(R|~x))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,x){x===void 0&&(x=S.length);for(var I=x-this.blockSize,D=this.B,R=this.h,O=0;O<x;){if(R==0)for(;O<=I;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<x;)if(D[R++]=S.charCodeAt(O++),R==this.blockSize){i(this,D),R=0;break}}else for(;O<x;)if(D[R++]=S[O++],R==this.blockSize){i(this,D),R=0;break}}this.h=R,this.o+=x},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;var I=8*this.o;for(x=S.length-8;x<S.length;++x)S[x]=I&255,I/=256;for(this.u(S),S=Array(16),x=I=0;4>x;++x)for(var D=0;32>D;D+=8)S[I++]=this.g[x]>>>D&255;return S};function a(S,x){var I=s;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=x(S)}function o(S,x){this.h=x;for(var I=[],D=!0,R=S.length-1;0<=R;R--){var O=S[R]|0;D&&O==x||(I[R]=O,D=!1)}this.g=I}var s={};function l(S){return-128<=S&&128>S?a(S,function(x){return new o([x|0],0>x?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return E(c(-S));for(var x=[],I=1,D=0;S>=I;D++)x[D]=S/I|0,I*=4294967296;return new o(x,0)}function u(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return E(u(S.substring(1),x));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(x,8)),D=d,R=0;R<S.length;R+=8){var O=Math.min(8,S.length-R),N=parseInt(S.substring(R,R+O),x);8>O?(O=c(Math.pow(x,O)),D=D.j(O).add(c(N))):(D=D.j(I),D=D.add(c(N)))}return D}var d=l(0),h=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-E(this).m();for(var S=0,x=1,I=0;I<this.g.length;I++){var D=this.i(I);S+=(0<=D?D:4294967296+D)*x,x*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(y(this))return"-"+E(this).toString(S);for(var x=c(Math.pow(S,6)),I=this,D="";;){var R=A(I,x).g;I=b(I,R.j(x));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=R,g(I))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=b(this,S),y(S)?-1:g(S)?0:1};function E(S){for(var x=S.g.length,I=[],D=0;D<x;D++)I[D]=~S.g[D];return new o(I,~S.h).add(h)}t.abs=function(){return y(this)?E(this):this},t.add=function(S){for(var x=Math.max(this.g.length,S.g.length),I=[],D=0,R=0;R<=x;R++){var O=D+(this.i(R)&65535)+(S.i(R)&65535),N=(O>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);D=N>>>16,O&=65535,N&=65535,I[R]=N<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(S,x){return S.add(E(x))}t.j=function(S){if(g(this)||g(S))return d;if(y(this))return y(S)?E(this).j(E(S)):E(E(this).j(S));if(y(S))return E(this.j(E(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var x=this.g.length+S.g.length,I=[],D=0;D<2*x;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var R=0;R<S.g.length;R++){var O=this.i(D)>>>16,N=this.i(D)&65535,Q=S.i(R)>>>16,oe=S.i(R)&65535;I[2*D+2*R]+=N*oe,w(I,2*D+2*R),I[2*D+2*R+1]+=O*oe,w(I,2*D+2*R+1),I[2*D+2*R+1]+=N*Q,w(I,2*D+2*R+1),I[2*D+2*R+2]+=O*Q,w(I,2*D+2*R+2)}for(D=0;D<x;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=x;D<2*x;D++)I[D]=0;return new o(I,0)};function w(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function T(S,x){this.g=S,this.h=x}function A(S,x){if(g(x))throw Error("division by zero");if(g(S))return new T(d,d);if(y(S))return x=A(E(S),x),new T(E(x.g),E(x.h));if(y(x))return x=A(S,E(x)),new T(E(x.g),x.h);if(30<S.g.length){if(y(S)||y(x))throw Error("slowDivide_ only works with positive integers.");for(var I=h,D=x;0>=D.l(S);)I=P(I),D=P(D);var R=k(I,1),O=k(D,1);for(D=k(D,2),I=k(I,2);!g(D);){var N=O.add(D);0>=N.l(S)&&(R=R.add(I),O=N),D=k(D,1),I=k(I,1)}return x=b(S,R.j(x)),new T(R,x)}for(R=d;0<=S.l(x);){for(I=Math.max(1,Math.floor(S.m()/x.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=c(I),N=O.j(x);y(N)||0<N.l(S);)I-=D,O=c(I),N=O.j(x);g(O)&&(O=h),R=R.add(O),S=b(S,N)}return new T(R,S)}t.A=function(S){return A(this,S).h},t.and=function(S){for(var x=Math.max(this.g.length,S.g.length),I=[],D=0;D<x;D++)I[D]=this.i(D)&S.i(D);return new o(I,this.h&S.h)},t.or=function(S){for(var x=Math.max(this.g.length,S.g.length),I=[],D=0;D<x;D++)I[D]=this.i(D)|S.i(D);return new o(I,this.h|S.h)},t.xor=function(S){for(var x=Math.max(this.g.length,S.g.length),I=[],D=0;D<x;D++)I[D]=this.i(D)^S.i(D);return new o(I,this.h^S.h)};function P(S){for(var x=S.g.length+1,I=[],D=0;D<x;D++)I[D]=S.i(D)<<1|S.i(D-1)>>>31;return new o(I,S.h)}function k(S,x){var I=x>>5;x%=32;for(var D=S.g.length-I,R=[],O=0;O<D;O++)R[O]=0<x?S.i(O+I)>>>x|S.i(O+I+1)<<32-x:S.i(O+I);return new o(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kj=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Cs=o}).apply(typeof SI<"u"?SI:typeof self<"u"?self:typeof window<"u"?window:{});var tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ij,Qu,Pj,Qp,aw,Rj,Dj,Oj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,C){return p==Array.prototype||p==Object.prototype||(p[_]=C.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof tp=="object"&&tp];for(var _=0;_<p.length;++_){var C=p[_];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(p,_){if(_)e:{var C=r;p=p.split(".");for(var M=0;M<p.length-1;M++){var F=p[M];if(!(F in C))break e;C=C[F]}p=p[p.length-1],M=C[p],_=_(M),_!=M&&_!=null&&e(C,p,{configurable:!0,writable:!0,value:_})}}function a(p,_){p instanceof String&&(p+="");var C=0,M=!1,F={next:function(){if(!M&&C<p.length){var $=C++;return{value:_($,p[$]),done:!1}}return M=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(p){return p||function(){return a(this,function(_,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function c(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function u(p,_,C){return p.call.apply(p.bind,arguments)}function d(p,_,C){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,M),p.apply(_,F)}}return function(){return p.apply(_,arguments)}}function h(p,_,C){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function m(p,_){var C=Array.prototype.slice.call(arguments,1);return function(){var M=C.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function g(p,_){function C(){}C.prototype=_.prototype,p.aa=_.prototype,p.prototype=new C,p.prototype.constructor=p,p.Qb=function(M,F,$){for(var J=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)J[tt-2]=arguments[tt];return _.prototype[F].apply(M,J)}}function y(p){const _=p.length;if(0<_){const C=Array(_);for(let M=0;M<_;M++)C[M]=p[M];return C}return[]}function E(p,_){for(let C=1;C<arguments.length;C++){const M=arguments[C];if(l(M)){const F=p.length||0,$=M.length||0;p.length=F+$;for(let J=0;J<$;J++)p[F+J]=M[J]}else p.push(M)}}class b{constructor(_,C){this.i=_,this.j=C,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function w(p){return/^[\s\xa0]*$/.test(p)}function T(){var p=s.navigator;return p&&(p=p.userAgent)?p:""}function A(p){return A[" "](p),p}A[" "]=function(){};var P=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function k(p,_,C){for(const M in p)_.call(C,p[M],M,p)}function S(p,_){for(const C in p)_.call(void 0,p[C],C,p)}function x(p){const _={};for(const C in p)_[C]=p[C];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(p,_){let C,M;for(let F=1;F<arguments.length;F++){M=arguments[F];for(C in M)p[C]=M[C];for(let $=0;$<I.length;$++)C=I[$],Object.prototype.hasOwnProperty.call(M,C)&&(p[C]=M[C])}}function R(p){var _=1;p=p.split(":");const C=[];for(;0<_&&p.length;)C.push(p.shift()),_--;return p.length&&C.push(p.join(":")),C}function O(p){s.setTimeout(()=>{throw p},0)}function N(){var p=q;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class Q{constructor(){this.h=this.g=null}add(_,C){const M=oe.get();M.set(_,C),this.h?this.h.next=M:this.g=M,this.h=M}}var oe=new b(()=>new he,p=>p.reset());class he{constructor(){this.next=this.g=this.h=null}set(_,C){this.h=_,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,W=!1,q=new Q,ne=()=>{const p=s.Promise.resolve(void 0);Z=()=>{p.then(we)}};var we=()=>{for(var p;p=N();){try{p.h.call(p.g)}catch(C){O(C)}var _=oe;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}W=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const C=()=>{};s.addEventListener("test",C,_),s.removeEventListener("test",C,_)}catch{}return p}();function Me(p,_){if(re.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var C=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(P){e:{try{A(_.nodeName);var F=!0;break e}catch{}F=!1}F||(_=null)}}else C=="mouseover"?_=p.fromElement:C=="mouseout"&&(_=p.toElement);this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:te[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Me.aa.h.call(this)}}g(Me,re);var te={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),qn=0;function H(p,_,C,M,F){this.listener=p,this.proxy=null,this.src=_,this.type=C,this.capture=!!M,this.ha=F,this.key=++qn,this.da=this.fa=!1}function be(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ae(p){this.src=p,this.g={},this.h=0}Ae.prototype.add=function(p,_,C,M,F){var $=p.toString();p=this.g[$],p||(p=this.g[$]=[],this.h++);var J=ee(p,_,M,F);return-1<J?(_=p[J],C||(_.fa=!1)):(_=new H(_,this.src,$,!!M,F),_.fa=C,p.push(_)),_};function j(p,_){var C=_.type;if(C in p.g){var M=p.g[C],F=Array.prototype.indexOf.call(M,_,void 0),$;($=0<=F)&&Array.prototype.splice.call(M,F,1),$&&(be(_),p.g[C].length==0&&(delete p.g[C],p.h--))}}function ee(p,_,C,M){for(var F=0;F<p.length;++F){var $=p[F];if(!$.da&&$.listener==_&&$.capture==!!C&&$.ha==M)return F}return-1}var ae="closure_lm_"+(1e6*Math.random()|0),Re={};function gt(p,_,C,M,F){if(Array.isArray(_)){for(var $=0;$<_.length;$++)gt(p,_[$],C,M,F);return null}return C=Vt(C),p&&p[Oe]?p.K(_,C,c(M)?!!M.capture:!1,F):an(p,_,C,!1,M,F)}function an(p,_,C,M,F,$){if(!_)throw Error("Invalid event type");var J=c(F)?!!F.capture:!!F,tt=Ze(p);if(tt||(p[ae]=tt=new Ae(p)),C=tt.add(_,C,M,J,$),C.proxy)return C;if(M=qi(),C.proxy=M,M.src=p,M.listener=C,p.addEventListener)pe||(F=J),F===void 0&&(F=!1),p.addEventListener(_.toString(),M,F);else if(p.attachEvent)p.attachEvent(xe(_.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return C}function qi(){function p(C){return _.call(p.src,p.listener,C)}const _=Pe;return p}function bl(p,_,C,M,F){if(Array.isArray(_))for(var $=0;$<_.length;$++)bl(p,_[$],C,M,F);else M=c(M)?!!M.capture:!!M,C=Vt(C),p&&p[Oe]?(p=p.i,_=String(_).toString(),_ in p.g&&($=p.g[_],C=ee($,C,M,F),-1<C&&(be($[C]),Array.prototype.splice.call($,C,1),$.length==0&&(delete p.g[_],p.h--)))):p&&(p=Ze(p))&&(_=p.g[_.toString()],p=-1,_&&(p=ee(_,C,M,F)),(C=-1<p?_[p]:null)&&ie(C))}function ie(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[Oe])j(_.i,p);else{var C=p.type,M=p.proxy;_.removeEventListener?_.removeEventListener(C,M,p.capture):_.detachEvent?_.detachEvent(xe(C),M):_.addListener&&_.removeListener&&_.removeListener(M),(C=Ze(_))?(j(C,p),C.h==0&&(C.src=null,_[ae]=null)):be(p)}}}function xe(p){return p in Re?Re[p]:Re[p]="on"+p}function Pe(p,_){if(p.da)p=!0;else{_=new Me(_,this);var C=p.listener,M=p.ha||p.src;p.fa&&ie(p),p=C.call(M,_)}return p}function Ze(p){return p=p[ae],p instanceof Ae?p:null}var lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vt(p){return typeof p=="function"?p:(p[lt]||(p[lt]=function(_){return p.handleEvent(_)}),p[lt])}function De(){z.call(this),this.i=new Ae(this),this.M=this,this.F=null}g(De,z),De.prototype[Oe]=!0,De.prototype.removeEventListener=function(p,_,C,M){bl(this,p,_,C,M)};function Te(p,_){var C,M=p.F;if(M)for(C=[];M;M=M.F)C.push(M);if(p=p.M,M=_.type||_,typeof _=="string")_=new re(_,p);else if(_ instanceof re)_.target=_.target||p;else{var F=_;_=new re(M,p),D(_,F)}if(F=!0,C)for(var $=C.length-1;0<=$;$--){var J=_.g=C[$];F=$a(J,M,!0,_)&&F}if(J=_.g=p,F=$a(J,M,!0,_)&&F,F=$a(J,M,!1,_)&&F,C)for($=0;$<C.length;$++)J=_.g=C[$],F=$a(J,M,!1,_)&&F}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var C=p.g[_],M=0;M<C.length;M++)be(C[M]);delete p.g[_],p.h--}}this.F=null},De.prototype.K=function(p,_,C,M){return this.i.add(String(p),_,!1,C,M)},De.prototype.L=function(p,_,C,M){return this.i.add(String(p),_,!0,C,M)};function $a(p,_,C,M){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var F=!0,$=0;$<_.length;++$){var J=_[$];if(J&&!J.da&&J.capture==C){var tt=J.listener,gn=J.ha||J.src;J.fa&&j(p.i,J),F=tt.call(gn,M)!==!1&&F}}return F&&!M.defaultPrevented}function uu(p,_,C){if(typeof p=="function")C&&(p=h(p,C));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:s.setTimeout(p,_||0)}function wh(p){p.g=uu(()=>{p.g=null,p.i&&(p.i=!1,wh(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class c0 extends z{constructor(_,C){super(),this.m=_,this.l=C,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:wh(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(p){z.call(this),this.h=p,this.g={}}g(ts,z);var du=[];function U(p){k(p.g,function(_,C){this.g.hasOwnProperty(C)&&ie(_)},p),p.g={}}ts.prototype.N=function(){ts.aa.N.call(this),U(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var K=s.JSON.stringify,_e=s.JSON.parse,ze=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function Xr(){}Xr.prototype.h=null;function ns(p){return p.h||(p.h=p.i())}function fu(){}var hu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function u0(){re.call(this,"d")}g(u0,re);function d0(){re.call(this,"c")}g(d0,re);var rs={},FC=null;function _h(){return FC=FC||new De}rs.La="serverreachability";function VC(p){re.call(this,rs.La,p)}g(VC,re);function pu(p){const _=_h();Te(_,new VC(_))}rs.STAT_EVENT="statevent";function UC(p,_){re.call(this,rs.STAT_EVENT,p),this.stat=_}g(UC,re);function Gn(p){const _=_h();Te(_,new UC(_,p))}rs.Ma="timingevent";function zC(p,_){re.call(this,rs.Ma,p),this.size=_}g(zC,re);function mu(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},_)}function gu(){this.g=!0}gu.prototype.xa=function(){this.g=!1};function U3(p,_,C,M,F,$){p.info(function(){if(p.g)if($)for(var J="",tt=$.split("&"),gn=0;gn<tt.length;gn++){var $e=tt[gn].split("=");if(1<$e.length){var In=$e[0];$e=$e[1];var Pn=In.split("_");J=2<=Pn.length&&Pn[1]=="type"?J+(In+"="+$e+"&"):J+(In+"=redacted&")}}else J=null;else J=$;return"XMLHTTP REQ ("+M+") [attempt "+F+"]: "+_+`
`+C+`
`+J})}function z3(p,_,C,M,F,$,J){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+F+"]: "+_+`
`+C+`
`+$+" "+J})}function wl(p,_,C,M){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+$3(p,C)+(M?" "+M:"")})}function B3(p,_){p.info(function(){return"TIMEOUT: "+_})}gu.prototype.info=function(){};function $3(p,_){if(!p.g)return _;if(!_)return null;try{var C=JSON.parse(_);if(C){for(p=0;p<C.length;p++)if(Array.isArray(C[p])){var M=C[p];if(!(2>M.length)){var F=M[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var J=1;J<F.length;J++)F[J]=""}}}}return K(C)}catch{return _}}var Sh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},BC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},f0;function Ah(){}g(Ah,Xr),Ah.prototype.g=function(){return new XMLHttpRequest},Ah.prototype.i=function(){return{}},f0=new Ah;function Wa(p,_,C,M){this.j=p,this.i=_,this.l=C,this.R=M||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $C}function $C(){this.i=null,this.g="",this.h=!1}var WC={},h0={};function p0(p,_,C){p.L=1,p.v=kh(Gi(_)),p.m=C,p.P=!0,HC(p,null)}function HC(p,_){p.F=Date.now(),xh(p),p.A=Gi(p.v);var C=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),a1(C.i,"t",M),p.C=0,C=p.j.J,p.h=new $C,p.g=S1(p.j,C?_:null,!p.m),0<p.O&&(p.M=new c0(h(p.Y,p,p.g),p.O)),_=p.U,C=p.g,M=p.ca;var F="readystatechange";Array.isArray(F)||(F&&(du[0]=F.toString()),F=du);for(var $=0;$<F.length;$++){var J=gt(C,F[$],M||_.handleEvent,!1,_.h||_);if(!J)break;_.g[J.key]=J}_=p.H?x(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),pu(),U3(p.i,p.u,p.A,p.l,p.R,p.m)}Wa.prototype.ca=function(p){p=p.target;const _=this.M;_&&Ki(p)==3?_.j():this.Y(p)},Wa.prototype.Y=function(p){try{if(p==this.g)e:{const Pn=Ki(this.g);var _=this.g.Ba();const Al=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||f1(this.g)))){this.J||Pn!=4||_==7||(_==8||0>=Al?pu(3):pu(2)),m0(this);var C=this.g.Z();this.X=C;t:if(qC(this)){var M=f1(this.g);p="";var F=M.length,$=Ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){is(this),vu(this);var J="";break t}this.h.i=new s.TextDecoder}for(_=0;_<F;_++)this.h.h=!0,p+=this.h.i.decode(M[_],{stream:!($&&_==F-1)});M.length=0,this.h.g+=p,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=C==200,z3(this.i,this.u,this.A,this.l,this.R,Pn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,gn=this.g;if((tt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(tt)){var $e=tt;break t}}$e=null}if(C=$e)wl(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,g0(this,C);else{this.o=!1,this.s=3,Gn(12),is(this),vu(this);break e}}if(this.P){C=!0;let Zr;for(;!this.J&&this.C<J.length;)if(Zr=W3(this,J),Zr==h0){Pn==4&&(this.s=4,Gn(14),C=!1),wl(this.i,this.l,null,"[Incomplete Response]");break}else if(Zr==WC){this.s=4,Gn(15),wl(this.i,this.l,J,"[Invalid Chunk]"),C=!1;break}else wl(this.i,this.l,Zr,null),g0(this,Zr);if(qC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||J.length!=0||this.h.h||(this.s=1,Gn(16),C=!1),this.o=this.o&&C,!C)wl(this.i,this.l,J,"[Invalid Chunked Response]"),is(this),vu(this);else if(0<J.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),_0(In),In.M=!0,Gn(11))}}else wl(this.i,this.l,J,null),g0(this,J);Pn==4&&is(this),this.o&&!this.J&&(Pn==4?E1(this.j,this):(this.o=!1,xh(this)))}else s6(this.g),C==400&&0<J.indexOf("Unknown SID")?(this.s=3,Gn(12)):(this.s=0,Gn(13)),is(this),vu(this)}}}catch{}finally{}};function qC(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function W3(p,_){var C=p.C,M=_.indexOf(`
`,C);return M==-1?h0:(C=Number(_.substring(C,M)),isNaN(C)?WC:(M+=1,M+C>_.length?h0:(_=_.slice(M,M+C),p.C=M+C,_)))}Wa.prototype.cancel=function(){this.J=!0,is(this)};function xh(p){p.S=Date.now()+p.I,GC(p,p.I)}function GC(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=mu(h(p.ba,p),_)}function m0(p){p.B&&(s.clearTimeout(p.B),p.B=null)}Wa.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(B3(this.i,this.A),this.L!=2&&(pu(),Gn(17)),is(this),this.s=2,vu(this)):GC(this,this.S-p)};function vu(p){p.j.G==0||p.J||E1(p.j,p)}function is(p){m0(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,U(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function g0(p,_){try{var C=p.j;if(C.G!=0&&(C.g==p||v0(C.h,p))){if(!p.K&&v0(C.h,p)&&C.G==3){try{var M=C.Da.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var F=M;if(F[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<p.F)Nh(C),Dh(C);else break e;w0(C),Gn(18)}}else C.za=F[1],0<C.za-C.T&&37500>F[2]&&C.F&&C.v==0&&!C.C&&(C.C=mu(h(C.Za,C),6e3));if(1>=QC(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else os(C,11)}else if((p.K||C.g==p)&&Nh(C),!w(_))for(F=C.Da.g.parse(_),_=0;_<F.length;_++){let $e=F[_];if(C.T=$e[0],$e=$e[1],C.G==2)if($e[0]=="c"){C.K=$e[1],C.ia=$e[2];const In=$e[3];In!=null&&(C.la=In,C.j.info("VER="+C.la));const Pn=$e[4];Pn!=null&&(C.Aa=Pn,C.j.info("SVER="+C.Aa));const Al=$e[5];Al!=null&&typeof Al=="number"&&0<Al&&(M=1.5*Al,C.L=M,C.j.info("backChannelRequestTimeoutMs_="+M)),M=C;const Zr=p.g;if(Zr){const Lh=Zr.g?Zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lh){var $=M.h;$.g||Lh.indexOf("spdy")==-1&&Lh.indexOf("quic")==-1&&Lh.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(y0($,$.h),$.h=null))}if(M.D){const S0=Zr.g?Zr.g.getResponseHeader("X-HTTP-Session-Id"):null;S0&&(M.ya=S0,ct(M.I,M.D,S0))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-p.F,C.j.info("Handshake RTT: "+C.R+"ms")),M=C;var J=p;if(M.qa=_1(M,M.J?M.ia:null,M.W),J.K){XC(M.h,J);var tt=J,gn=M.L;gn&&(tt.I=gn),tt.B&&(m0(tt),xh(tt)),M.g=J}else v1(M);0<C.i.length&&Oh(C)}else $e[0]!="stop"&&$e[0]!="close"||os(C,7);else C.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?os(C,7):b0(C):$e[0]!="noop"&&C.l&&C.l.ta($e),C.v=0)}}pu(4)}catch{}}var H3=class{constructor(p,_){this.g=p,this.map=_}};function KC(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function YC(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function QC(p){return p.h?1:p.g?p.g.size:0}function v0(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function y0(p,_){p.g?p.g.add(_):p.h=_}function XC(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}KC.prototype.cancel=function(){if(this.i=ZC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function ZC(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const C of p.g.values())_=_.concat(C.D);return _}return y(p.i)}function q3(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var _=[],C=p.length,M=0;M<C;M++)_.push(p[M]);return _}_=[],C=0;for(M in p)_[C++]=p[M];return _}function G3(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var _=[];p=p.length;for(var C=0;C<p;C++)_.push(C);return _}_=[],C=0;for(const M in p)_[C++]=M;return _}}}function JC(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var C=G3(p),M=q3(p),F=M.length,$=0;$<F;$++)_.call(void 0,M[$],C&&C[$],p)}var e1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function K3(p,_){if(p){p=p.split("&");for(var C=0;C<p.length;C++){var M=p[C].indexOf("="),F=null;if(0<=M){var $=p[C].substring(0,M);F=p[C].substring(M+1)}else $=p[C];_($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function as(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof as){this.h=p.h,Th(this,p.j),this.o=p.o,this.g=p.g,Ch(this,p.s),this.l=p.l;var _=p.i,C=new bu;C.i=_.i,_.g&&(C.g=new Map(_.g),C.h=_.h),t1(this,C),this.m=p.m}else p&&(_=String(p).match(e1))?(this.h=!1,Th(this,_[1]||"",!0),this.o=yu(_[2]||""),this.g=yu(_[3]||"",!0),Ch(this,_[4]),this.l=yu(_[5]||"",!0),t1(this,_[6]||"",!0),this.m=yu(_[7]||"")):(this.h=!1,this.i=new bu(null,this.h))}as.prototype.toString=function(){var p=[],_=this.j;_&&p.push(Eu(_,n1,!0),":");var C=this.g;return(C||_=="file")&&(p.push("//"),(_=this.o)&&p.push(Eu(_,n1,!0),"@"),p.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&p.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&p.push("/"),p.push(Eu(C,C.charAt(0)=="/"?X3:Q3,!0))),(C=this.i.toString())&&p.push("?",C),(C=this.m)&&p.push("#",Eu(C,J3)),p.join("")};function Gi(p){return new as(p)}function Th(p,_,C){p.j=C?yu(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function Ch(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function t1(p,_,C){_ instanceof bu?(p.i=_,e6(p.i,p.h)):(C||(_=Eu(_,Z3)),p.i=new bu(_,p.h))}function ct(p,_,C){p.i.set(_,C)}function kh(p){return ct(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function yu(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Eu(p,_,C){return typeof p=="string"?(p=encodeURI(p).replace(_,Y3),C&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Y3(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var n1=/[#\/\?@]/g,Q3=/[#\?:]/g,X3=/[#\?]/g,Z3=/[#\?@]/g,J3=/#/g;function bu(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function Ha(p){p.g||(p.g=new Map,p.h=0,p.i&&K3(p.i,function(_,C){p.add(decodeURIComponent(_.replace(/\+/g," ")),C)}))}t=bu.prototype,t.add=function(p,_){Ha(this),this.i=null,p=_l(this,p);var C=this.g.get(p);return C||this.g.set(p,C=[]),C.push(_),this.h+=1,this};function r1(p,_){Ha(p),_=_l(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function i1(p,_){return Ha(p),_=_l(p,_),p.g.has(_)}t.forEach=function(p,_){Ha(this),this.g.forEach(function(C,M){C.forEach(function(F){p.call(_,F,M,this)},this)},this)},t.na=function(){Ha(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),C=[];for(let M=0;M<_.length;M++){const F=p[M];for(let $=0;$<F.length;$++)C.push(_[M])}return C},t.V=function(p){Ha(this);let _=[];if(typeof p=="string")i1(this,p)&&(_=_.concat(this.g.get(_l(this,p))));else{p=Array.from(this.g.values());for(let C=0;C<p.length;C++)_=_.concat(p[C])}return _},t.set=function(p,_){return Ha(this),this.i=null,p=_l(this,p),i1(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},t.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function a1(p,_,C){r1(p,_),0<C.length&&(p.i=null,p.g.set(_l(p,_),y(C)),p.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var C=0;C<_.length;C++){var M=_[C];const $=encodeURIComponent(String(M)),J=this.V(M);for(M=0;M<J.length;M++){var F=$;J[M]!==""&&(F+="="+encodeURIComponent(String(J[M]))),p.push(F)}}return this.i=p.join("&")};function _l(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function e6(p,_){_&&!p.j&&(Ha(p),p.i=null,p.g.forEach(function(C,M){var F=M.toLowerCase();M!=F&&(r1(this,M),a1(this,F,C))},p)),p.j=_}function t6(p,_){const C=new gu;if(s.Image){const M=new Image;M.onload=m(qa,C,"TestLoadImage: loaded",!0,_,M),M.onerror=m(qa,C,"TestLoadImage: error",!1,_,M),M.onabort=m(qa,C,"TestLoadImage: abort",!1,_,M),M.ontimeout=m(qa,C,"TestLoadImage: timeout",!1,_,M),s.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else _(!1)}function n6(p,_){const C=new gu,M=new AbortController,F=setTimeout(()=>{M.abort(),qa(C,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:M.signal}).then($=>{clearTimeout(F),$.ok?qa(C,"TestPingServer: ok",!0,_):qa(C,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),qa(C,"TestPingServer: error",!1,_)})}function qa(p,_,C,M,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),M(C)}catch{}}function r6(){this.g=new ze}function i6(p,_,C){const M=C||"";try{JC(p,function(F,$){let J=F;c(F)&&(J=K(F)),_.push(M+$+"="+encodeURIComponent(J))})}catch(F){throw _.push(M+"type="+encodeURIComponent("_badmap")),F}}function Ih(p){this.l=p.Ub||null,this.j=p.eb||!1}g(Ih,Xr),Ih.prototype.g=function(){return new Ph(this.l,this.j)},Ih.prototype.i=function(p){return function(){return p}}({});function Ph(p,_){De.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Ph,De),t=Ph.prototype,t.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,_u(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||s).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wu(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,_u(this)),this.g&&(this.readyState=3,_u(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;o1(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function o1(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?wu(this):_u(this),this.readyState==3&&o1(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,wu(this))},t.Qa=function(p){this.g&&(this.response=p,wu(this))},t.ga=function(){this.g&&wu(this)};function wu(p){p.readyState=4,p.l=null,p.j=null,p.v=null,_u(p)}t.setRequestHeader=function(p,_){this.u.append(p,_)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var C=_.next();!C.done;)C=C.value,p.push(C[0]+": "+C[1]),C=_.next();return p.join(`\r
`)};function _u(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ph.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function s1(p){let _="";return k(p,function(C,M){_+=M,_+=":",_+=C,_+=`\r
`}),_}function E0(p,_,C){e:{for(M in C){var M=!1;break e}M=!0}M||(C=s1(C),typeof p=="string"?C!=null&&encodeURIComponent(String(C)):ct(p,_,C))}function Pt(p){De.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Pt,De);var a6=/^https?$/i,o6=["POST","PUT"];t=Pt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,_,C,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():f0.g(),this.v=this.o?ns(this.o):ns(f0),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch($){l1(this,$);return}if(p=C||"",C=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var F in M)C.set(F,M[F]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const $ of M.keys())C.set($,M.get($));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(C.keys()).find($=>$.toLowerCase()=="content-type"),F=s.FormData&&p instanceof s.FormData,!(0<=Array.prototype.indexOf.call(o6,_,void 0))||M||F||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,J]of C)this.g.setRequestHeader($,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{d1(this),this.u=!0,this.g.send(p),this.u=!1}catch($){l1(this,$)}};function l1(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,c1(p),Rh(p)}function c1(p){p.A||(p.A=!0,Te(p,"complete"),Te(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Te(this,"complete"),Te(this,"abort"),Rh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rh(this,!0)),Pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?u1(this):this.bb())},t.bb=function(){u1(this)};function u1(p){if(p.h&&typeof o<"u"&&(!p.v[1]||Ki(p)!=4||p.Z()!=2)){if(p.u&&Ki(p)==4)uu(p.Ea,0,p);else if(Te(p,"readystatechange"),Ki(p)==4){p.h=!1;try{const J=p.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var C;if(!(C=_)){var M;if(M=J===0){var F=String(p.D).match(e1)[1]||null;!F&&s.self&&s.self.location&&(F=s.self.location.protocol.slice(0,-1)),M=!a6.test(F?F.toLowerCase():"")}C=M}if(C)Te(p,"complete"),Te(p,"success");else{p.m=6;try{var $=2<Ki(p)?p.g.statusText:""}catch{$=""}p.l=$+" ["+p.Z()+"]",c1(p)}}finally{Rh(p)}}}}function Rh(p,_){if(p.g){d1(p);const C=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||Te(p,"ready");try{C.onreadystatechange=M}catch{}}}function d1(p){p.I&&(s.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Ki(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Ki(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),_e(_)}};function f1(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function s6(p){const _={};p=(p.g&&2<=Ki(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(w(p[M]))continue;var C=R(p[M]);const F=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const $=_[F]||[];_[F]=$,$.push(C)}S(_,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Su(p,_,C){return C&&C.internalChannelParams&&C.internalChannelParams[p]||_}function h1(p){this.Aa=0,this.i=[],this.j=new gu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Su("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Su("baseRetryDelayMs",5e3,p),this.cb=Su("retryDelaySeedMs",1e4,p),this.Wa=Su("forwardChannelMaxRetries",2,p),this.wa=Su("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new KC(p&&p.concurrentRequestLimit),this.Da=new r6,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=h1.prototype,t.la=8,t.G=1,t.connect=function(p,_,C,M){Gn(0),this.W=p,this.H=_||{},C&&M!==void 0&&(this.H.OSID=C,this.H.OAID=M),this.F=this.X,this.I=_1(this,null,this.W),Oh(this)};function b0(p){if(p1(p),p.G==3){var _=p.U++,C=Gi(p.I);if(ct(C,"SID",p.K),ct(C,"RID",_),ct(C,"TYPE","terminate"),Au(p,C),_=new Wa(p,p.j,_),_.L=2,_.v=kh(Gi(C)),C=!1,s.navigator&&s.navigator.sendBeacon)try{C=s.navigator.sendBeacon(_.v.toString(),"")}catch{}!C&&s.Image&&(new Image().src=_.v,C=!0),C||(_.g=S1(_.j,null),_.g.ea(_.v)),_.F=Date.now(),xh(_)}w1(p)}function Dh(p){p.g&&(_0(p),p.g.cancel(),p.g=null)}function p1(p){Dh(p),p.u&&(s.clearTimeout(p.u),p.u=null),Nh(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&s.clearTimeout(p.s),p.s=null)}function Oh(p){if(!YC(p.h)&&!p.s){p.s=!0;var _=p.Ga;Z||ne(),W||(Z(),W=!0),q.add(_,p),p.B=0}}function l6(p,_){return QC(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=mu(h(p.Ga,p,_),b1(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const F=new Wa(this,this.j,p);let $=this.o;if(this.S&&($?($=x($),D($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var _=0,C=0;C<this.i.length;C++){t:{var M=this.i[C];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,4096<_){_=C;break e}if(_===4096||C===this.i.length-1){_=C+1;break e}}_=1e3}else _=1e3;_=g1(this,F,_),C=Gi(this.I),ct(C,"RID",p),ct(C,"CVER",22),this.D&&ct(C,"X-HTTP-Session-Id",this.D),Au(this,C),$&&(this.O?_="headers="+encodeURIComponent(String(s1($)))+"&"+_:this.m&&E0(C,this.m,$)),y0(this.h,F),this.Ua&&ct(C,"TYPE","init"),this.P?(ct(C,"$req",_),ct(C,"SID","null"),F.T=!0,p0(F,C,null)):p0(F,C,_),this.G=2}}else this.G==3&&(p?m1(this,p):this.i.length==0||YC(this.h)||m1(this))};function m1(p,_){var C;_?C=_.l:C=p.U++;const M=Gi(p.I);ct(M,"SID",p.K),ct(M,"RID",C),ct(M,"AID",p.T),Au(p,M),p.m&&p.o&&E0(M,p.m,p.o),C=new Wa(p,p.j,C,p.B+1),p.m===null&&(C.H=p.o),_&&(p.i=_.D.concat(p.i)),_=g1(p,C,1e3),C.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),y0(p.h,C),p0(C,M,_)}function Au(p,_){p.H&&k(p.H,function(C,M){ct(_,M,C)}),p.l&&JC({},function(C,M){ct(_,M,C)})}function g1(p,_,C){C=Math.min(p.i.length,C);var M=p.l?h(p.l.Na,p.l,p):null;e:{var F=p.i;let $=-1;for(;;){const J=["count="+C];$==-1?0<C?($=F[0].g,J.push("ofs="+$)):$=0:J.push("ofs="+$);let tt=!0;for(let gn=0;gn<C;gn++){let $e=F[gn].g;const In=F[gn].map;if($e-=$,0>$e)$=Math.max(0,F[gn].g-100),tt=!1;else try{i6(In,J,"req"+$e+"_")}catch{M&&M(In)}}if(tt){M=J.join("&");break e}}}return p=p.i.splice(0,C),_.D=p,M}function v1(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;Z||ne(),W||(Z(),W=!0),q.add(_,p),p.v=0}}function w0(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=mu(h(p.Fa,p),b1(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,y1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=mu(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gn(10),Dh(this),y1(this))};function _0(p){p.A!=null&&(s.clearTimeout(p.A),p.A=null)}function y1(p){p.g=new Wa(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=Gi(p.qa);ct(_,"RID","rpc"),ct(_,"SID",p.K),ct(_,"AID",p.T),ct(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&ct(_,"TO",p.ja),ct(_,"TYPE","xmlhttp"),Au(p,_),p.m&&p.o&&E0(_,p.m,p.o),p.L&&(p.g.I=p.L);var C=p.g;p=p.ia,C.L=1,C.v=kh(Gi(_)),C.m=null,C.P=!0,HC(C,p)}t.Za=function(){this.C!=null&&(this.C=null,Dh(this),w0(this),Gn(19))};function Nh(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function E1(p,_){var C=null;if(p.g==_){Nh(p),_0(p),p.g=null;var M=2}else if(v0(p.h,_))C=_.D,XC(p.h,_),M=1;else return;if(p.G!=0){if(_.o)if(M==1){C=_.m?_.m.length:0,_=Date.now()-_.F;var F=p.B;M=_h(),Te(M,new zC(M,C)),Oh(p)}else v1(p);else if(F=_.s,F==3||F==0&&0<_.X||!(M==1&&l6(p,_)||M==2&&w0(p)))switch(C&&0<C.length&&(_=p.h,_.i=_.i.concat(C)),F){case 1:os(p,5);break;case 4:os(p,10);break;case 3:os(p,6);break;default:os(p,2)}}}function b1(p,_){let C=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(C*=2),C*_}function os(p,_){if(p.j.info("Error code "+_),_==2){var C=h(p.fb,p),M=p.Xa;const F=!M;M=new as(M||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Th(M,"https"),kh(M),F?t6(M.toString(),C):n6(M.toString(),C)}else Gn(2);p.G=0,p.l&&p.l.sa(_),w1(p),p1(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Gn(2)):(this.j.info("Failed to ping google.com"),Gn(1))};function w1(p){if(p.G=0,p.ka=[],p.l){const _=ZC(p.h);(_.length!=0||p.i.length!=0)&&(E(p.ka,_),E(p.ka,p.i),p.h.i.length=0,y(p.i),p.i.length=0),p.l.ra()}}function _1(p,_,C){var M=C instanceof as?Gi(C):new as(C);if(M.g!="")_&&(M.g=_+"."+M.g),Ch(M,M.s);else{var F=s.location;M=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;var $=new as(null);M&&Th($,M),_&&($.g=_),F&&Ch($,F),C&&($.l=C),M=$}return C=p.D,_=p.ya,C&&_&&ct(M,C,_),ct(M,"VER",p.la),Au(p,M),M}function S1(p,_,C){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new Pt(new Ih({eb:C})):new Pt(p.pa),_.Ha(p.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function A1(){}t=A1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mh(){}Mh.prototype.g=function(p,_){return new yr(p,_)};function yr(p,_){De.call(this),this.g=new h1(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!w(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!w(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new Sl(this)}g(yr,De),yr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){b0(this.g)},yr.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var C={};C.__data__=p,p=C}else this.u&&(C={},C.__data__=K(p),p=C);_.i.push(new H3(_.Ya++,p)),_.G==3&&Oh(_)},yr.prototype.N=function(){this.g.l=null,delete this.j,b0(this.g),delete this.g,yr.aa.N.call(this)};function x1(p){u0.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const C in _){p=C;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}g(x1,u0);function T1(){d0.call(this),this.status=1}g(T1,d0);function Sl(p){this.g=p}g(Sl,A1),Sl.prototype.ua=function(){Te(this.g,"a")},Sl.prototype.ta=function(p){Te(this.g,new x1(p))},Sl.prototype.sa=function(p){Te(this.g,new T1)},Sl.prototype.ra=function(){Te(this.g,"b")},Mh.prototype.createWebChannel=Mh.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,Oj=function(){return new Mh},Dj=function(){return _h()},Rj=rs,aw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sh.NO_ERROR=0,Sh.TIMEOUT=8,Sh.HTTP_ERROR=6,Qp=Sh,BC.COMPLETE="complete",Pj=BC,fu.EventType=hu,hu.OPEN="a",hu.CLOSE="b",hu.ERROR="c",hu.MESSAGE="d",De.prototype.listen=De.prototype.K,Qu=fu,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,Ij=Pt}).apply(typeof tp<"u"?tp:typeof self<"u"?self:typeof window<"u"?window:{});const AI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new FS("@firebase/firestore");function Ou(){return $s.logLevel}function fe(t,...e){if($s.logLevel<=je.DEBUG){const n=e.map(tA);$s.debug(`Firestore (${Gc}): ${t}`,...n)}}function wa(t,...e){if($s.logLevel<=je.ERROR){const n=e.map(tA);$s.error(`Firestore (${Gc}): ${t}`,...n)}}function wc(t,...e){if($s.logLevel<=je.WARN){const n=e.map(tA);$s.warn(`Firestore (${Gc}): ${t}`,...n)}}function tA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${Gc}) INTERNAL ASSERTION FAILED: `+t;throw wa(e),new Error(e)}function Qe(t,e){t||Se()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class _K{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SK{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ua,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ua)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new Nj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Mn(e)}}class AK{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xK{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new AK(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TK{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CK{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Qe(this.o===void 0);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new TK(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kK(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function _c(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Jt(0,0))}static max(){return new Ce(new Jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),o=n.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ht extends Wd{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const IK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends Wd{construct(e,n,r){return new Sn(e,n,r)}static isValidIdentifier(e){return IK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new le(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new le(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ht.fromString(e))}static fromName(e){return new ge(ht.fromString(e).popFirst(5))}static empty(){return new ge(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ht(e.slice()))}}function PK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new No(i,ge.empty(),e)}function RK(t){return new No(t.readTime,t.key,-1)}class No{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new No(Ce.min(),ge.empty(),-1)}static max(){return new No(Ce.max(),ge.empty(),-1)}}function DK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==OK)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++s,s===a&&r(o)},u=>i(u))}})}static doWhile(e,n){return new Y((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function MK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}nA.oe=-1;function Nv(t){return t==null}function Km(t){return t===0&&1/t==-1/0}function LK(t){return typeof t=="number"&&Number.isInteger(t)&&!Km(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Lj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new np(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new np(this.root,e,this.comparator,!1)}getReverseIterator(){return new np(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new np(this.root,e,this.comparator,!0)}}class np{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=a??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new wn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,i,a){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TI(this.data.getIterator())}getIteratorFrom(e){return new TI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class TI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new Tn(Sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new jj("Invalid base64 string: "+a):a}}(e);return new kn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const jK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mo(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=jK.exec(t);if(Qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ws(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iA(t){const e=t.mapValue.fields.__previous_value__;return rA(e)?iA(e):e}function Hd(t){const e=Mo(t.mapValue.fields.__local_write_time__.timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(e,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c}}class qd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp={mapValue:{}};function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rA(t)?4:UK(t)?9007199254740991:VK(t)?10:11:Se()}function ji(t,e){if(t===e)return!0;const n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hd(t).isEqual(Hd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Mo(i.timestampValue),s=Mo(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ws(i.bytesValue).isEqual(Ws(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return jt(i.geoPointValue.latitude)===jt(a.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return jt(i.integerValue)===jt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=jt(i.doubleValue),s=jt(a.doubleValue);return o===s?Km(o)===Km(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return _c(t.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(xI(o)!==xI(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!ji(o[l],s[l])))return!1;return!0}(t,e);default:return Se()}}function Gd(t,e){return(t.values||[]).find(n=>ji(n,e))!==void 0}function Sc(t,e){if(t===e)return 0;const n=Hs(t),r=Hs(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=jt(a.integerValue||a.doubleValue),l=jt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return CI(t.timestampValue,e.timestampValue);case 4:return CI(Hd(t),Hd(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Ws(a),l=Ws(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=We(s[c],l[c]);if(u!==0)return u}return We(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=We(jt(a.latitude),jt(o.latitude));return s!==0?s:We(jt(a.longitude),jt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kI(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,u;const d=a.fields||{},h=o.fields||{},m=(s=d.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,y=We(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:kI(m,g)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===rp.mapValue&&o===rp.mapValue)return 0;if(a===rp.mapValue)return 1;if(o===rp.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=We(l[d],u[d]);if(h!==0)return h;const m=Sc(s[l[d]],c[u[d]]);if(m!==0)return m}return We(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Se()}}function CI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Mo(t),r=Mo(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function kI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Sc(n[i],r[i]);if(a)return a}return We(n.length,r.length)}function Ac(t){return ow(t)}function ow(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=ow(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${ow(n.fields[o])}`;return i+"}"}(t.mapValue):Se()}function II(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sw(t){return!!t&&"integerValue"in t}function aA(t){return!!t&&"arrayValue"in t}function PI(t){return!!t&&"nullValue"in t}function RI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xp(t){return!!t&&"mapValue"in t}function VK(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function fd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fd(n)}setAll(e){let n=Sn.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=fd(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Xp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cl(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new sr(fd(this.value))}}function Fj(t){const e=[];return cl(t.fields,(n,r)=>{const i=new Sn([n]);if(Xp(r)){const a=Fj(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new jn(e,0,Ce.min(),Ce.min(),Ce.min(),sr.empty(),0)}static newFoundDocument(e,n,r,i){return new jn(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new jn(e,2,n,Ce.min(),Ce.min(),sr.empty(),0)}static newUnknownDocument(e,n){return new jn(e,3,n,Ce.min(),Ce.min(),sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.position=e,this.inclusive=n}}function DI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=ge.comparator(ge.fromName(o.referenceValue),n.key):r=Sc(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function OI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ji(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n="asc"){this.field=e,this.dir=n}}function zK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{}class $t extends Vj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $K(e,n,r):n==="array-contains"?new qK(e,r):n==="in"?new GK(e,r):n==="not-in"?new KK(e,r):n==="array-contains-any"?new YK(e,r):new $t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WK(e,r):new HK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Sc(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(Sc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends Vj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new di(e,n)}matches(e){return Uj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Uj(t){return t.op==="and"}function zj(t){return BK(t)&&Uj(t)}function BK(t){for(const e of t.filters)if(e instanceof di)return!1;return!0}function lw(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+Ac(t.value);if(zj(t))return t.filters.map(e=>lw(e)).join(",");{const e=t.filters.map(n=>lw(n)).join(",");return`${t.op}(${e})`}}function Bj(t,e){return t instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.field.isEqual(i.field)&&ji(r.value,i.value)}(t,e):t instanceof di?function(r,i){return i instanceof di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&Bj(o,i.filters[s]),!0):!1}(t,e):void Se()}function $j(t){return t instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${Ac(n.value)}`}(t):t instanceof di?function(n){return n.op.toString()+" {"+n.getFilters().map($j).join(" ,")+"}"}(t):"Filter"}class $K extends $t{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class WK extends $t{constructor(e,n){super(e,"in",n),this.keys=Wj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HK extends $t{constructor(e,n){super(e,"not-in",n),this.keys=Wj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Wj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class qK extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return aA(n)&&Gd(n.arrayValue,this.value)}}class GK extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gd(this.value.arrayValue,n)}}class KK extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gd(this.value.arrayValue,n)}}class YK extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!aA(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function NI(t,e=null,n=[],r=[],i=null,a=null,o=null){return new QK(t,e,n,r,i,a,o)}function oA(t){const e=ke(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Nv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ac(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ac(r)).join(",")),e.ue=n}return e.ue}function sA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Bj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OI(t.startAt,e.startAt)&&OI(t.endAt,e.endAt)}function cw(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function XK(t,e,n,r,i,a,o,s){return new Rf(t,e,n,r,i,a,o,s)}function Mv(t){return new Rf(t)}function MI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Hj(t){return t.collectionGroup!==null}function hd(t){const e=ke(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Tn(Sn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Qm(a,r))}),n.has(Sn.keyField().canonicalString())||e.ce.push(new Qm(Sn.keyField(),r))}return e.ce}function Oi(t){const e=ke(t);return e.le||(e.le=ZK(e,hd(t))),e.le}function ZK(t,e){if(t.limitType==="F")return NI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Qm(i.field,a)});const n=t.endAt?new Ym(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ym(t.startAt.position,t.startAt.inclusive):null;return NI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uw(t,e){const n=t.filters.concat([e]);return new Rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dw(t,e,n){return new Rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lv(t,e){return sA(Oi(t),Oi(e))&&t.limitType===e.limitType}function qj(t){return`${oA(Oi(t))}|lt:${t.limitType}`}function Il(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$j(i)).join(", ")}]`),Nv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ac(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ac(i)).join(",")),`Target(${r})`}(Oi(t))}; limitType=${t.limitType})`}function jv(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of hd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const c=DI(o,s,l);return o.inclusive?c<=0:c<0}(r.startAt,hd(r),i)||r.endAt&&!function(o,s,l){const c=DI(o,s,l);return o.inclusive?c>=0:c>0}(r.endAt,hd(r),i))}(t,e)}function JK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gj(t){return(e,n)=>{let r=!1;for(const i of hd(t)){const a=e7(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function e7(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?Sc(l,c):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cl(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Lj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=new Ct(ge.comparator);function _a(){return t7}const Kj=new Ct(ge.comparator);function Xu(...t){let e=Kj;for(const n of t)e=e.insert(n.key,n);return e}function Yj(t){let e=Kj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Es(){return pd()}function Qj(){return pd()}function pd(){return new Kc(t=>t.toString(),(t,e)=>t.isEqual(e))}const n7=new Ct(ge.comparator),r7=new Tn(ge.comparator);function Le(...t){let e=r7;for(const n of t)e=e.add(n);return e}const i7=new Tn(We);function a7(){return i7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Km(e)?"-0":e}}function Xj(t){return{integerValue:""+t}}function o7(t,e){return LK(e)?Xj(e):lA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this._=void 0}}function s7(t,e,n){return t instanceof Kd?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&rA(a)&&(a=iA(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof xc?Jj(t,e):t instanceof Tc?eF(t,e):function(i,a){const o=Zj(i,a),s=LI(o)+LI(i.Pe);return sw(o)&&sw(i.Pe)?Xj(s):lA(i.serializer,s)}(t,e)}function l7(t,e,n){return t instanceof xc?Jj(t,e):t instanceof Tc?eF(t,e):n}function Zj(t,e){return t instanceof Xm?function(r){return sw(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Kd extends Fv{}class xc extends Fv{constructor(e){super(),this.elements=e}}function Jj(t,e){const n=tF(e);for(const r of t.elements)n.some(i=>ji(i,r))||n.push(r);return{arrayValue:{values:n}}}class Tc extends Fv{constructor(e){super(),this.elements=e}}function eF(t,e){let n=tF(e);for(const r of t.elements)n=n.filter(i=>!ji(i,r));return{arrayValue:{values:n}}}class Xm extends Fv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function LI(t){return jt(t.integerValue||t.doubleValue)}function tF(t){return aA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n){this.field=e,this.transform=n}}function c7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xc&&i instanceof xc||r instanceof Tc&&i instanceof Tc?_c(r.elements,i.elements,ji):r instanceof Xm&&i instanceof Xm?ji(r.Pe,i.Pe):r instanceof Kd&&i instanceof Kd}(t.transform,e.transform)}class u7{constructor(e,n){this.version=e,this.transformResults=n}}class Wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vv{}function nF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uA(t.key,Wr.none()):new Df(t.key,t.data,Wr.none());{const n=t.data,r=sr.empty();let i=new Tn(Sn.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Yo(t.key,r,new Sr(i.toArray()),Wr.none())}}function d7(t,e,n){t instanceof Df?function(i,a,o){const s=i.value.clone(),l=FI(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Yo?function(i,a,o){if(!Zp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=FI(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(rF(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function md(t,e,n,r){return t instanceof Df?function(a,o,s,l){if(!Zp(a.precondition,o))return s;const c=a.value.clone(),u=VI(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yo?function(a,o,s,l){if(!Zp(a.precondition,o))return s;const c=VI(a.fieldTransforms,l,o),u=o.data;return u.setAll(rF(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,o,s){return Zp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function f7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=Zj(r.transform,i||null);a!=null&&(n===null&&(n=sr.empty()),n.set(r.field,a))}return n||null}function jI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_c(r,i,(a,o)=>c7(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Df extends Vv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yo extends Vv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FI(t,e,n){const r=new Map;Qe(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,l7(o,s,n[i]))}return r}function VI(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,s7(a,o,e))}return r}class uA extends Vv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h7 extends Vv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&d7(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=md(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=md(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Qj();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=nF(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,(n,r)=>jI(n,r))&&_c(this.baseMutations,e.baseMutations,(n,r)=>jI(n,r))}}class dA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qe(e.mutations.length===r.length);let i=function(){return n7}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new dA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ve;function v7(t){switch(t){default:return Se();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function iF(t){if(t===void 0)return wa("GRPC error has no .code"),G.UNKNOWN;switch(t){case Ut.OK:return G.OK;case Ut.CANCELLED:return G.CANCELLED;case Ut.UNKNOWN:return G.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return G.INTERNAL;case Ut.UNAVAILABLE:return G.UNAVAILABLE;case Ut.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Ut.NOT_FOUND:return G.NOT_FOUND;case Ut.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Ut.ABORTED:return G.ABORTED;case Ut.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Ut.DATA_LOSS:return G.DATA_LOSS;default:return Se()}}(Ve=Ut||(Ut={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=new Cs([4294967295,4294967295],0);function UI(t){const e=y7().encode(t),n=new kj;return n.update(e),new Uint8Array(n.digest())}function zI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Cs([n,r],0),new Cs([i,a],0)]}class fA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zu(`Invalid padding: ${n}`);if(r<0)throw new Zu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Cs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Cs.fromNumber(r)));return i.compare(E7)===1&&(i=new Cs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=UI(e),[r,i]=zI(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new fA(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const n=UI(e),[r,i]=zI(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Of.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uv(Ce.min(),i,new Ct(We),_a(),Le())}}class Of{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Of(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class aF{constructor(e,n){this.targetId=e,this.me=n}}class oF{constructor(e,n,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BI{constructor(){this.fe=0,this.ge=WI(),this.pe=kn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),n=Le(),r=Le();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new Of(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=WI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class b7{constructor(e){this.Le=e,this.Be=new Map,this.ke=_a(),this.qe=$I(),this.Qe=new Ct(We)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(cw(a))if(r===0){const o=new ge(a.path);this.Ue(n,o,jn.newNoDocument(o,Ce.min()))}else Qe(r===1);else{const o=this.Ye(n);if(o!==r){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Ws(r).toUint8Array()}catch(l){if(l instanceof jj)return wc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new fA(o,i,a)}catch(l){return wc(l instanceof Zu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&cw(s.target)){const l=new ge(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,jn.newNoDocument(l,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let r=Le();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Uv(e,n,this.Qe,this.ke,r);return this.ke=_a(),this.qe=$I(),this.Qe=new Ct(We),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new BI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Tn(We),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new BI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function $I(){return new Ct(ge.comparator)}function WI(){return new Ct(ge.comparator)}const w7={asc:"ASCENDING",desc:"DESCENDING"},_7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S7={and:"AND",or:"OR"};class A7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fw(t,e){return t.useProto3Json||Nv(e)?e:{value:e}}function Zm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function x7(t,e){return Zm(t,e.toTimestamp())}function Ni(t){return Qe(!!t),Ce.fromTimestamp(function(n){const r=Mo(n);return new Jt(r.seconds,r.nanos)}(t))}function hA(t,e){return hw(t,e).canonicalString()}function hw(t,e){const n=function(i){return new ht(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lF(t){const e=ht.fromString(t);return Qe(hF(e)),e}function pw(t,e){return hA(t.databaseId,e.path)}function aE(t,e){const n=lF(e);if(n.get(1)!==t.databaseId.projectId)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(uF(n))}function cF(t,e){return hA(t.databaseId,e)}function T7(t){const e=lF(t);return e.length===4?ht.emptyPath():uF(e)}function mw(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uF(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function HI(t,e,n){return{name:pw(t,e),fields:n.value.mapValue.fields}}function C7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(Qe(u===void 0||typeof u=="string"),kn.fromBase64String(u||"")):(Qe(u===void 0||u instanceof Buffer||u instanceof Uint8Array),kn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?G.UNKNOWN:iF(c.code);return new le(u,c.message||"")}(o);n=new oF(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=aE(t,r.document.name),a=Ni(r.document.updateTime),o=r.document.createTime?Ni(r.document.createTime):Ce.min(),s=new sr({mapValue:{fields:r.document.fields}}),l=jn.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Jp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=aE(t,r.document),a=r.readTime?Ni(r.readTime):Ce.min(),o=jn.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Jp([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=aE(t,r.document),a=r.removedTargetIds||[];n=new Jp([],a,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new g7(i,a),s=r.targetId;n=new aF(s,o)}}return n}function k7(t,e){let n;if(e instanceof Df)n={update:HI(t,e.key,e.value)};else if(e instanceof uA)n={delete:pw(t,e.key)};else if(e instanceof Yo)n={update:HI(t,e.key,e.data),updateMask:j7(e.fieldMask)};else{if(!(e instanceof h7))return Se();n={verify:pw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Kd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof xc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Xm)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:x7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se()}(t,e.precondition)),n}function I7(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(i,a){let o=i.updateTime?Ni(i.updateTime):Ni(a);return o.isEqual(Ce.min())&&(o=Ni(a)),new u7(o,i.transformResults||[])}(n,e))):[]}function P7(t,e){return{documents:[cF(t,e.path)]}}function R7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cF(t,i);const a=function(c){if(c.length!==0)return fF(di.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Pl(h.field),direction:N7(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=fw(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function D7(t){let e=T7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(d){const h=dF(d);return h instanceof di&&zj(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Qm(Rl(g.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,Nv(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new Ym(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,m=d.values||[];return new Ym(m,h)}(n.endAt)),XK(e,i,o,a,s,"F",l,c)}function O7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rl(n.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rl(n.unaryFilter.field);return $t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Rl(n.unaryFilter.field);return $t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rl(n.unaryFilter.field);return $t.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return $t.create(Rl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return di.create(n.compositeFilter.filters.map(r=>dF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function N7(t){return w7[t]}function M7(t){return _7[t]}function L7(t){return S7[t]}function Pl(t){return{fieldPath:t.canonicalString()}}function Rl(t){return Sn.fromServerFormat(t.fieldPath)}function fF(t){return t instanceof $t?function(n){if(n.op==="=="){if(RI(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NAN"}};if(PI(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RI(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NOT_NAN"}};if(PI(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pl(n.field),op:M7(n.op),value:n.value}}}(t):t instanceof di?function(n){const r=n.getFilters().map(i=>fF(i));return r.length===1?r[0]:{compositeFilter:{op:L7(n.op),filters:r}}}(t):Se()}function j7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,r,i,a=Ce.min(),o=Ce.min(),s=kn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.ct=e}}function V7(t){const e=D7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(){this.un=new z7}addToCollectionParentIndex(e,n){return this.un.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(No.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(No.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class z7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tn(ht.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tn(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Cc(0)}static kn(){return new Cc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(){this.changes=new Kc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&md(r.mutation,i,Sr.empty(),Jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const i=Es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=Xu();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=_a();const o=pd(),s=function(){return pd()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Yo)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),md(u.mutation,c,u.mutation.getFieldMask(),Jt.now())):o.set(c.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return s.set(c,new $7(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,n){const r=pd();let i=new Ct((o,s)=>o-s),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Sr.empty();u=s.applyToLocalView(c,u),r.set(l,u);const d=(i.get(s.batchId)||Le()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,d=Qj();u.forEach(h=>{if(!a.has(h)){const m=nF(n.get(h),r.get(h));m!==null&&d.set(h,m),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Y.resolve(Es());let s=-1,l=a;return o.next(c=>Y.forEach(c,(u,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(u)?Y.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Le())).next(u=>({batchId:s,changes:Yj(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=Xu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Xu();return this.indexManager.getCollectionParents(e,a).next(s=>Y.forEach(s,l=>{const c=function(d,h){return new Rf(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,jn.newInvalidDocument(u)))});let s=Xu();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&md(u.mutation,c,Sr.empty(),Jt.now()),jv(n,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Y.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ni(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:V7(i.bundledQuery),readTime:Ni(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(){this.overlays=new Ct(ge.comparator),this.Ir=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Es();return Y.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Es(),a=n.length+1,o=new ge(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Ct((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=Es(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=Es(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return Y.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new m7(n,r));let a=this.Ir.get(n);a===void 0&&(a=Le(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.Tr=new Tn(ln.Er),this.dr=new Tn(ln.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ln(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ln(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ge(new ht([])),r=new ln(n,e),i=new ln(n,e+1),a=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ge(new ht([])),r=new ln(n,e),i=new ln(n,e+1);let a=Le();return this.dr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new ln(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ge.comparator(e.key,n.key)||We(e.wr,n.wr)}static Ar(e,n){return We(e.wr,n.wr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Tn(ln.Er)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new p7(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new ln(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,n){return Y.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ln(n,0),i=new ln(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],o=>{const s=this.Dr(o.wr);a.push(s)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tn(We);return n.forEach(i=>{const a=new ln(i,0),o=new ln(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{r=r.add(s.wr)})}),Y.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ge.isDocumentKey(a)||(a=a.child(""));const o=new ln(new ge(a),0);let s=new Tn(We);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.wr)),!0)},o),Y.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Y.forEach(n.mutations,i=>{const a=new ln(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ln(n,0),i=this.br.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e){this.Mr=e,this.docs=function(){return new Ct(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(e,n){let r=_a();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():jn.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=_a();const o=n.path,s=new ge(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||DK(RK(u),r)<=0||(i.has(u.key)||jv(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Se()}Or(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Q7(this)}getSize(e){return Y.resolve(this.size)}}class Q7 extends B7{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.persistence=e,this.Nr=new Kc(n=>oA(n),sA),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new pA,this.targetCount=0,this.kr=Cc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Cc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Kn(n),Y.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Y.waitFor(a).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n){this.qr={},this.overlays={},this.Qr=new nA(0),this.Kr=!1,this.Kr=!0,this.$r=new G7,this.referenceDelegate=e(this),this.Ur=new X7(this),this.indexManager=new U7,this.remoteDocumentCache=function(i){return new Y7(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new F7(n),this.Gr=new H7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new K7(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new J7(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return Y.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class J7 extends NK{constructor(e){super(),this.currentSequenceNumber=e}}class mA{constructor(e){this.persistence=e,this.Jr=new pA,this.Yr=null}static Zr(e){return new mA(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,r=>{const i=ge.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,Ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Y.or([()=>Y.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Le(),i=Le();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new gA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return U9()?8:MK($n())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new eY;return this.Xi(e,n,o).next(s=>{if(a.result=s,this.zi)return this.es(e,n,o,s.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ou()<=je.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(Ou()<=je.DEBUG&&fe("QueryEngine","Query:",Il(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ou()<=je.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):Y.resolve())}Yi(e,n){if(MI(n))return Y.resolve(null);let r=Oi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dw(n,null,"F"),r=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Le(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,s);return this.ns(n,c,o,l.readTime)?this.Yi(e,dw(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return MI(n)||i.isEqual(Ce.min())?Y.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const o=this.ts(n,a);return this.ns(n,o,r,i)?Y.resolve(null):(Ou()<=je.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Il(n)),this.rs(e,o,n,PK(i,-1)).next(s=>s))})}ts(e,n){let r=new Tn(Gj(e));return n.forEach((i,a)=>{jv(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return Ou()<=je.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Il(n)),this.Ji.getDocumentsMatchingQuery(e,n,No.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ct(We),this._s=new Kc(a=>oA(a),sA),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W7(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function rY(t,e,n,r){return new nY(t,e,n,r)}async function pF(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=Le();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:s}))})})}function iY(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const d=c.batch,h=d.keys();let m=Y.resolve();return h.forEach(g=>{m=m.next(()=>u.getEntry(l,g)).next(y=>{const E=c.docVersions.get(g);Qe(E!==null),y.version.compareTo(E)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Le();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mF(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function aY(t,e){const n=ke(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;s.push(n.Ur.removeMatchingKeys(a,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(a,u.addedDocuments,d)));let m=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(kn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(d,m),function(y,E,b){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,m,u)&&s.push(n.Ur.updateTargetData(a,m))});let l=_a(),c=Le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(oY(a,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Ce.min())){const u=n.Ur.getLastRemoteSnapshotVersion(a).next(d=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(u)}return Y.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.os=i,a))}function oY(t,e,n){let r=Le(),i=Le();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=_a();return n.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):fe("LocalStore","Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function sY(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lY(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,Y.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new uo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function gw(t,e,n){const r=ke(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Pf(o))throw o;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function qI(t,e,n){const r=ke(t);let i=Ce.min(),a=Le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=ke(l),h=d._s.get(u);return h!==void 0?Y.resolve(d.os.get(h)):d.Ur.getTargetData(c,u)}(r,o,Oi(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Ce.min(),n?a:Le())).next(s=>(cY(r,JK(e),s),{documents:s,Ts:a})))}function cY(t,e,n){let r=t.us.get(e)||Ce.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class GI{constructor(){this.activeTargetIds=a7()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uY{constructor(){this.so=new GI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new GI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip=null;function oE(){return ip===null?ip=function(){return 268435456+Math.round(2147483648*Math.random())}():ip++,"0x"+ip.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class pY extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,o){const s=oE(),l=this.xo(n,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,o),this.No(n,l,c,i).then(u=>(fe("RestConnection",`Received RPC '${n}' ${s}: `,u),u),u=>{throw wc("RestConnection",`RPC '${n}' ${s} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,a,o,s){return this.Mo(n,r,i,a,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),i&&i.headers.forEach((a,o)=>n[o]=a)}xo(n,r){const i=fY[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=oE();return new Promise((o,s)=>{const l=new Ij;l.setWithCredentials(!0),l.listenOnce(Pj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qp.NO_ERROR:const u=l.getResponseJson();fe(On,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),o(u);break;case Qp.TIMEOUT:fe(On,`RPC '${e}' ${a} timed out`),s(new le(G.DEADLINE_EXCEEDED,"Request time out"));break;case Qp.HTTP_ERROR:const d=l.getStatus();if(fe(On,`RPC '${e}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const g=function(E){const b=E.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(b)>=0?b:G.UNKNOWN}(m.status);s(new le(g,m.message))}else s(new le(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new le(G.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{fe(On,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);fe(On,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=oE(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Oj(),s=Dj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=a.join("");fe(On,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,m=!1;const g=new hY({Io:E=>{m?fe(On,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(fe(On,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),fe(On,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},To:()=>d.close()}),y=(E,b,w)=>{E.listen(b,T=>{try{w(T)}catch(A){setTimeout(()=>{throw A},0)}})};return y(d,Qu.EventType.OPEN,()=>{m||(fe(On,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(d,Qu.EventType.CLOSE,()=>{m||(m=!0,fe(On,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(d,Qu.EventType.ERROR,E=>{m||(m=!0,wc(On,`RPC '${e}' stream ${i} transport errored:`,E),g.So(new le(G.UNAVAILABLE,"The operation could not be completed")))}),y(d,Qu.EventType.MESSAGE,E=>{var b;if(!m){const w=E.data[0];Qe(!!w);const T=w,A=T.error||((b=T[0])===null||b===void 0?void 0:b.error);if(A){fe(On,`RPC '${e}' stream ${i} received error:`,A);const P=A.status;let k=function(I){const D=Ut[I];if(D!==void 0)return iF(D)}(P),S=A.message;k===void 0&&(k=G.INTERNAL,S="Unknown error status: "+P+" with message "+A.message),m=!0,g.So(new le(k,S)),d.close()}else fe(On,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),y(s,Rj.STAT_EVENT,E=>{E.stat===aw.PROXY?fe(On,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===aw.NOPROXY&&fe(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function sE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t){return new A7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n,r,i,a,o,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gF(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(wa(n.toString()),wa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new le(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mY extends vF{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=C7(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ce.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?Ni(o.readTime):Ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=mw(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=cw(l)?{documents:P7(a,l)}:{query:R7(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=sF(a,o.resumeToken);const c=fw(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ce.min())>0){s.readTime=Zm(a,o.snapshotVersion.toTimestamp());const c=fw(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const r=O7(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=mw(this.serializer),n.removeTarget=e,this.a_(n)}}class gY extends vF{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=I7(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=mw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>k7(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,hw(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(G.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,hw(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(G.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class yY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(wa(n),this.D_=!1):fe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{r.enqueueAndForget(async()=>{ul(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ke(l);c.L_.add(4),await Nf(c),c.q_.set("Unknown"),c.L_.delete(4),await Bv(c)}(this))})}),this.q_=new yY(r,i)}}async function Bv(t){if(ul(t))for(const e of t.B_)await e(!0)}async function Nf(t){for(const e of t.B_)await e(!1)}function yF(t,e){const n=ke(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),bA(n)?EA(n):Yc(n).r_()&&yA(n,e))}function vA(t,e){const n=ke(t),r=Yc(n);n.N_.delete(e),r.r_()&&EF(n,e),n.N_.size===0&&(r.r_()?r.o_():ul(n)&&n.q_.set("Unknown"))}function yA(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yc(t).A_(e)}function EF(t,e){t.Q_.xe(e),Yc(t).R_(e)}function EA(t){t.Q_=new b7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Yc(t).start(),t.q_.v_()}function bA(t){return ul(t)&&!Yc(t).n_()&&t.N_.size>0}function ul(t){return ke(t).L_.size===0}function bF(t){t.Q_=void 0}async function bY(t){t.q_.set("Online")}async function wY(t){t.N_.forEach((e,n)=>{yA(t,e)})}async function _Y(t,e){bF(t),bA(t)?(t.q_.M_(e),EA(t)):t.q_.set("Unknown")}async function SY(t,e,n){if(t.q_.set("Online"),e instanceof oF&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jm(t,r)}else if(e instanceof Jp?t.Q_.Ke(e):e instanceof aF?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ce.min()))try{const r=await mF(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.N_.get(c);u&&a.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a.N_.get(l);if(!u)return;a.N_.set(l,u.withResumeToken(kn.EMPTY_BYTE_STRING,u.snapshotVersion)),EF(a,l);const d=new uo(u.target,l,c,u.sequenceNumber);yA(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await Jm(t,r)}}async function Jm(t,e,n){if(!Pf(e))throw e;t.L_.add(1),await Nf(t),t.q_.set("Offline"),n||(n=()=>mF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Bv(t)})}function wF(t,e){return e().catch(n=>Jm(t,n,e))}async function $v(t){const e=ke(t),n=Lo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;AY(e);)try{const i=await sY(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,xY(e,i)}catch(i){await Jm(e,i)}_F(e)&&SF(e)}function AY(t){return ul(t)&&t.O_.length<10}function xY(t,e){t.O_.push(e);const n=Lo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function _F(t){return ul(t)&&!Lo(t).n_()&&t.O_.length>0}function SF(t){Lo(t).start()}async function TY(t){Lo(t).p_()}async function CY(t){const e=Lo(t);for(const n of t.O_)e.m_(n.mutations)}async function kY(t,e,n){const r=t.O_.shift(),i=dA.from(r,e,n);await wF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $v(t)}async function IY(t,e){e&&Lo(t).V_&&await async function(r,i){if(function(o){return v7(o)&&o!==G.ABORTED}(i.code)){const a=r.O_.shift();Lo(r).s_(),await wF(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await $v(r)}}(t,e),_F(t)&&SF(t)}async function YI(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=ul(n);n.L_.add(3),await Nf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Bv(n)}async function PY(t,e){const n=ke(t);e?(n.L_.delete(2),await Bv(n)):e||(n.L_.add(2),await Nf(n),n.q_.set("Unknown"))}function Yc(t){return t.K_||(t.K_=function(n,r,i){const a=ke(n);return a.w_(),new mY(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:bY.bind(null,t),Ro:wY.bind(null,t),mo:_Y.bind(null,t),d_:SY.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),bA(t)?EA(t):t.q_.set("Unknown")):(await t.K_.stop(),bF(t))})),t.K_}function Lo(t){return t.U_||(t.U_=function(n,r,i){const a=ke(n);return a.w_(),new gY(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:TY.bind(null,t),mo:IY.bind(null,t),f_:CY.bind(null,t),g_:kY.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await $v(t)):(await t.U_.stop(),t.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new wA(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _A(t,e){if(wa("AsyncQueue",`${e}: ${t}`),Pf(t))return new le(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Xu(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new oc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.W_=new Ct(ge.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class kc{constructor(e,n,r,i,a,o,s,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new kc(e,n,oc.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class DY{constructor(){this.queries=XI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ke(n),a=i.queries;i.queries=XI(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(r)})})(this,new le(G.ABORTED,"Firestore shutting down"))}}function XI(){return new Kc(t=>qj(t),Lv)}async function SA(t,e){const n=ke(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new RY,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=_A(o,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&xA(n)}async function AA(t,e){const n=ke(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function OY(t,e){const n=ke(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(r=!0);o.z_=i}}r&&xA(n)}function NY(t,e,n){const r=ke(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function xA(t){t.Y_.forEach(e=>{e.next()})}var vw,ZI;(ZI=vw||(vw={})).ea="default",ZI.Cache="cache";class TA{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.key=e}}class xF{constructor(e){this.key=e}}class MY{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=Gj(e),this.Ra=new oc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new QI,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),m=jv(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;h&&m?h.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),E=!0):this.ga(h,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(s=!0)):!h&&m?(r.track({type:0,doc:m}),E=!0):h&&!m&&(r.track({type:1,doc:h}),E=!0,(l||c)&&(s=!0)),E&&(m?(o=o.add(m),a=y?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:s,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(m,g){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return y(m)-y(g)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new kc(this.query,e.Ra,a,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new QI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new xF(r))}),this.da.forEach(r=>{e.has(r)||n.push(new AF(r))}),n}ba(e){this.Ta=e.Ts,this.da=Le();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return kc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class LY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jY{constructor(e){this.key=e,this.va=!1}}class FY{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Kc(s=>qj(s),Lv),this.Ma=new Map,this.xa=new Set,this.Oa=new Ct(ge.comparator),this.Na=new Map,this.La=new pA,this.Ba={},this.ka=new Map,this.qa=Cc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function VY(t,e,n=!0){const r=RF(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await TF(r,e,n,!0),i}async function UY(t,e){const n=RF(t);await TF(n,e,!0,!1)}async function TF(t,e,n,r){const i=await lY(t.localStore,Oi(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await zY(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&yF(t.remoteStore,i),s}async function zY(t,e,n,r,i){t.Ka=(d,h,m)=>async function(y,E,b,w){let T=E.view.ma(b);T.ns&&(T=await qI(y.localStore,E.query,!1).then(({documents:S})=>E.view.ma(S,T)));const A=w&&w.targetChanges.get(E.targetId),P=w&&w.targetMismatches.get(E.targetId)!=null,k=E.view.applyChanges(T,y.isPrimaryClient,A,P);return eP(y,E.targetId,k.wa),k.snapshot}(t,d,h,m);const a=await qI(t.localStore,e,!0),o=new MY(e,a.Ts),s=o.ma(a.documents),l=Of.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);eP(t,n,c.wa);const u=new LY(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function BY(t,e,n){const r=ke(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(o=>!Lv(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vA(r.remoteStore,i.targetId),yw(r,i.targetId)}).catch(If)):(yw(r,i.targetId),await gw(r.localStore,i.targetId,!0))}async function $Y(t,e){const n=ke(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vA(n.remoteStore,r.targetId))}async function WY(t,e,n){const r=XY(t);try{const i=await function(o,s){const l=ke(o),c=Jt.now(),u=s.reduce((m,g)=>m.add(g.key),Le());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=_a(),y=Le();return l.cs.getEntries(m,u).next(E=>{g=E,g.forEach((b,w)=>{w.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(E=>{d=E;const b=[];for(const w of s){const T=f7(w,d.get(w.key).overlayedDocument);T!=null&&b.push(new Yo(w.key,T,Fj(T.value.mapValue),Wr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,s)}).next(E=>{h=E;const b=E.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(m,E.batchId,b)})}).then(()=>({batchId:h.batchId,changes:Yj(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ct(We)),c=c.insert(s,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Mf(r,i.changes),await $v(r.remoteStore)}catch(i){const a=_A(i,"Failed to persist write");n.reject(a)}}async function CF(t,e){const n=ke(t);try{const r=await aY(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Na.get(a);o&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Qe(o.va):i.removedDocuments.size>0&&(Qe(o.va),o.va=!1))}),await Mf(n,r,e)}catch(r){await If(r)}}function JI(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=ke(o);l.onlineState=s;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.j_)h.Z_(s)&&(c=!0)}),c&&xA(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HY(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let o=new Ct(ge.comparator);o=o.insert(a,jn.newNoDocument(a,Ce.min()));const s=Le().add(a),l=new Uv(Ce.min(),new Map,new Ct(We),o,s);await CF(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),CA(r)}else await gw(r.localStore,e,!1).then(()=>yw(r,e,n)).catch(If)}async function qY(t,e){const n=ke(t),r=e.batch.batchId;try{const i=await iY(n.localStore,e);IF(n,r,null),kF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mf(n,i)}catch(i){await If(i)}}async function GY(t,e,n){const r=ke(t);try{const i=await function(o,s){const l=ke(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(d=>(Qe(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);IF(r,e,n),kF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mf(r,i)}catch(i){await If(i)}}function kF(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function IF(t,e,n){const r=ke(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function yw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||PF(t,r)})}function PF(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(vA(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),CA(t))}function eP(t,e,n){for(const r of n)r instanceof AF?(t.La.addReference(r.key,e),KY(t,r)):r instanceof xF?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||PF(t,r.key)):Se()}function KY(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.xa.add(r),CA(t))}function CA(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ge(ht.fromString(e)),r=t.qa.next();t.Na.set(r,new jY(n)),t.Oa=t.Oa.insert(n,r),yF(t.remoteStore,new uo(Oi(Mv(n.path)),r,"TargetPurposeLimboResolution",nA.oe))}}async function Mf(t,e,n){const r=ke(t),i=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=gA.Wi(l.targetId,c);a.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=ke(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Y.forEach(c,h=>Y.forEach(h.$i,m=>u.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>Y.forEach(h.Ui,m=>u.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!Pf(d))throw d;fe("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const m=u.os.get(h),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(h,y)}}}(r.localStore,a))}async function YY(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await pF(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new le(G.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mf(n,r.hs)}}function QY(t,e){const n=ke(t),r=n.Na.get(e);if(r&&r.va)return Le().add(r.key);{let i=Le();const a=n.Ma.get(e);if(!a)return i;for(const o of a){const s=n.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function RF(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HY.bind(null,e),e.Ca.d_=OY.bind(null,e.eventManager),e.Ca.$a=NY.bind(null,e.eventManager),e}function XY(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GY.bind(null,e),e}class eg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return rY(this.persistence,new tY,e.initialUser,this.serializer)}Ga(e){return new Z7(mA.Zr,this.serializer)}Wa(e){return new uY}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eg.provider={build:()=>new eg};class Ew{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YY.bind(null,this.syncEngine),await PY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DY}()}createDatastore(e){const n=zv(e.databaseInfo.databaseId),r=function(a){return new pY(a)}(e.databaseInfo);return function(a,o,s,l){return new vY(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new EY(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>JI(this.syncEngine,n,0),function(){return KI.D()?new KI:new dY}())}createSyncEngine(e,n){return function(i,a,o,s,l,c,u){const d=new FY(i,a,o,s,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ke(i);fe("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Nf(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ew.provider={build:()=>new Ew};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):wa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mn.UNAUTHENTICATED,this.clientId=Mj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{fe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_A(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lE(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pF(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JY(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>YI(e.remoteStore,i)),t._onlineComponents=e}async function JY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await lE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wc("Error using user provided cache. Falling back to memory cache: "+n),await lE(t,new eg)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await lE(t,new eg);return t._offlineComponents}async function DF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await tP(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await tP(t,new Ew))),t._onlineComponents}function eQ(t){return DF(t).then(e=>e.syncEngine)}async function tg(t){const e=await DF(t),n=e.eventManager;return n.onListen=VY.bind(null,e.syncEngine),n.onUnlisten=BY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$Y.bind(null,e.syncEngine),n}function tQ(t,e,n={}){const r=new ua;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new kA({next:h=>{u.Za(),o.enqueueAndForget(()=>AA(a,d));const m=h.docs.has(s);!m&&h.fromCache?c.reject(new le(G.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new le(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new TA(Mv(s.path),u,{includeMetadataChanges:!0,_a:!0});return SA(a,d)}(await tg(t),t.asyncQueue,e,n,r)),r.promise}function nQ(t,e,n={}){const r=new ua;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new kA({next:h=>{u.Za(),o.enqueueAndForget(()=>AA(a,d)),h.fromCache&&l.source==="server"?c.reject(new le(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new TA(s,u,{includeMetadataChanges:!0,_a:!0});return SA(a,d)}(await tg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t,e,n){if(!n)throw new le(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rQ(t,e,n,r){if(e===!0&&r===!0)throw new le(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rP(t){if(!ge.isDocumentKey(t))throw new le(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iP(t){if(ge.isDocumentKey(t))throw new le(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wv(t);throw new le(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wK;switch(r.type){case"firstParty":return new xK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nP.get(n);r&&(fe("ComponentProvider","Removing Datastore"),nP.delete(n),r.terminate())}(this),Promise.resolve()}}function iQ(t,e,n,r={}){var i;const a=(t=pr(t,Hv))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&wc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Mn.MOCK_USER;else{s=FL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new le(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mn(c)}t._authCredentials=new _K(new Nj(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dl(this.firestore,e,this._query)}}class Un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class To extends dl{constructor(e,n,r){super(e,n,Mv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new ge(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function An(t,e,...n){if(t=Xe(t),NF("collection","path",e),t instanceof Hv){const r=ht.fromString(e,...n);return iP(r),new To(t,null,r)}{if(!(t instanceof Un||t instanceof To))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return iP(r),new To(t.firestore,null,r)}}function Ie(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=Mj.newId()),NF("doc","path",e),t instanceof Hv){const r=ht.fromString(e,...n);return rP(r),new Un(t,null,new ge(r))}{if(!(t instanceof Un||t instanceof To))throw new le(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return rP(r),new Un(t.firestore,t instanceof To?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new gF(this,"async_queue_retry"),this.Vu=()=>{const r=sE();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=sE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=sE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ua;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Pf(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw wa("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=wA.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function sP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Sa extends Hv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new oP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oP(e),this._firestoreClient=void 0,await e}}}function MF(t,e){const n=typeof t=="object"?t:US(),r=typeof t=="string"?t:"(default)",i=Pv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=ML("firestore");a&&iQ(i,...a)}return i}function qv(t){if(t._terminated)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aQ(t),t._firestoreClient}function aQ(t){var e,n,r;const i=t._freezeSettings(),a=function(s,l,c,u){return new FK(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,OF(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ZY(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(kn.fromBase64String(e))}catch(n){throw new le(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ic(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ=/^__.*__$/;class sQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Df(e,this.data,n,this.fieldTransforms)}}class LF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Kv{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Kv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ng(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jF(this.Cu)&&oQ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class lQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zv(e)}Qu(e,n,r,i=!1){return new Kv({Cu:e,methodName:n,qu:r,path:Sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yv(t){const e=t._freezeSettings(),n=zv(t._databaseId);return new lQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FF(t,e,n,r,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);NA("Data must be an object, but it was:",o,r);const s=UF(r,o);let l,c;if(a.merge)l=new Sr(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const h=bw(e,d,n);if(!o.contains(h))throw new le(G.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);BF(u,h)||u.push(h)}l=new Sr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new sQ(new sr(s),l,c)}class Qv extends Qc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qv}}function VF(t,e,n){return new Kv({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class RA extends Qc{_toFieldTransform(e){return new cA(e.path,new Kd)}isEqual(e){return e instanceof RA}}class DA extends Qc{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=VF(this,e,!0),r=this.Ku.map(a=>fl(a,n)),i=new xc(r);return new cA(e.path,i)}isEqual(e){return e instanceof DA&&Ec(this.Ku,e.Ku)}}class OA extends Qc{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=VF(this,e,!0),r=this.Ku.map(a=>fl(a,n)),i=new Tc(r);return new cA(e.path,i)}isEqual(e){return e instanceof OA&&Ec(this.Ku,e.Ku)}}function cQ(t,e,n,r){const i=t.Qu(1,e,n);NA("Data must be an object, but it was:",i,r);const a=[],o=sr.empty();cl(r,(l,c)=>{const u=MA(e,l,n);c=Xe(c);const d=i.Nu(u);if(c instanceof Qv)a.push(u);else{const h=fl(c,d);h!=null&&(a.push(u),o.set(u,h))}});const s=new Sr(a);return new LF(o,s,i.fieldTransforms)}function uQ(t,e,n,r,i,a){const o=t.Qu(1,e,n),s=[bw(e,r,n)],l=[i];if(a.length%2!=0)throw new le(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(bw(e,a[h])),l.push(a[h+1]);const c=[],u=sr.empty();for(let h=s.length-1;h>=0;--h)if(!BF(c,s[h])){const m=s[h];let g=l[h];g=Xe(g);const y=o.Nu(m);if(g instanceof Qv)c.push(m);else{const E=fl(g,y);E!=null&&(c.push(m),u.set(m,E))}}const d=new Sr(c);return new LF(u,d,o.fieldTransforms)}function dQ(t,e,n,r=!1){return fl(n,t.Qu(r?4:3,e))}function fl(t,e){if(zF(t=Xe(t)))return NA("Unsupported field value:",e,t),UF(t,e);if(t instanceof Qc)return function(r,i){if(!jF(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=fl(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Jt.fromDate(r);return{timestampValue:Zm(i.serializer,a)}}if(r instanceof Jt){const a=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zm(i.serializer,a)}}if(r instanceof IA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ic)return{bytesValue:sF(i.serializer,r._byteString)};if(r instanceof Un){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof PA)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return lA(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Wv(r)}`)}(t,e)}function UF(t,e){const n={};return Lj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cl(t,(r,i)=>{const a=fl(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function zF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof IA||t instanceof Ic||t instanceof Un||t instanceof Qc||t instanceof PA)}function NA(t,e,n){if(!zF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Wv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function bw(t,e,n){if((e=Xe(e))instanceof Gv)return e._internalPath;if(typeof e=="string")return MA(t,e);throw ng("Field path arguments must be of type string or ",t,!1,void 0,n)}const fQ=new RegExp("[~\\*/\\[\\]]");function MA(t,e,n){if(e.search(fQ)>=0)throw ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gv(...e.split("."))._internalPath}catch{throw ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ng(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new le(G.INVALID_ARGUMENT,s+t+l)}function BF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(LA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hQ extends $F{data(){return super.data()}}function LA(t,e){return typeof e=="string"?MA(t,e):e instanceof Gv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jA{}class pQ extends jA{}function Mi(t,e,...n){let r=[];e instanceof jA&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof FA).length,s=a.filter(l=>l instanceof Xv).length;if(o>1||o>0&&s>0)throw new le(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Xv extends pQ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xv(e,n,r)}_apply(e){const n=this._parse(e);return HF(e._query,n),new dl(e.firestore,e.converter,uw(e._query,n))}_parse(e){const n=Yv(e.firestore);return function(a,o,s,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new le(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){cP(d,u);const m=[];for(const g of d)m.push(lP(l,a,g));h={arrayValue:{values:m}}}else h=lP(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||cP(d,u),h=dQ(s,o,d,u==="in"||u==="not-in");return $t.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Co(t,e,n){const r=e,i=LA("where",t);return Xv._create(i,r,n)}class FA extends jA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new FA(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)HF(o,l),o=uw(o,l)}(e._query,n),new dl(e.firestore,e.converter,uw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lP(t,e,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new le(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hj(e)&&n.indexOf("/")!==-1)throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ht.fromString(n));if(!ge.isDocumentKey(r))throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return II(t,new ge(r))}if(n instanceof Un)return II(t,n._key);throw new le(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wv(n)}.`)}function cP(t,e){if(!Array.isArray(t)||t.length===0)throw new le(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HF(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mQ{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cl(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>jt(o.doubleValue));return new PA(a)}convertGeoPoint(e){return new IA(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iA(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hd(e));default:return null}}convertTimestamp(e){const n=Mo(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);Qe(hF(r));const i=new qd(r.get(1),r.get(3)),a=new ge(r.popFirst(5));return i.isEqual(n)||wa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GF extends $F{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new em(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(LA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class em extends GF{data(e={}){return super.data(e)}}class KF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ju(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new em(this._firestore,this._userDataWriter,r.key,r,new Ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new em(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Ju(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new em(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Ju(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:gQ(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){t=pr(t,Un);const e=pr(t.firestore,Sa);return tQ(qv(e),t._key).then(n=>QF(e,t,n))}class VA extends mQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function qs(t){t=pr(t,dl);const e=pr(t.firestore,Sa),n=qv(e),r=new VA(e);return WF(t._query),nQ(n,t._query).then(i=>new KF(e,r,t,i))}function Fi(t,e,n){t=pr(t,Un);const r=pr(t.firestore,Sa),i=qF(t.converter,e,n);return Zv(r,[FF(Yv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wr.none())])}function _n(t,e,n,...r){t=pr(t,Un);const i=pr(t.firestore,Sa),a=Yv(i);let o;return o=typeof(e=Xe(e))=="string"||e instanceof Gv?uQ(a,"updateDoc",t._key,e,n,r):cQ(a,"updateDoc",t._key,e),Zv(i,[o.toMutation(t._key,Wr.exists(!0))])}function jo(t){return Zv(pr(t.firestore,Sa),[new uA(t._key,Wr.none())])}function YF(t,e){const n=pr(t.firestore,Sa),r=Ie(t),i=qF(t.converter,e);return Zv(n,[FF(Yv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}function ko(t,...e){var n,r,i;t=Xe(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||sP(e[o])||(a=e[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(sP(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof Un)c=pr(t.firestore,Sa),u=Mv(t._key.path),l={next:d=>{e[o]&&e[o](QF(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=pr(t,dl);c=pr(d.firestore,Sa),u=d._query;const h=new VA(c);l={next:m=>{e[o]&&e[o](new KF(c,h,d,m))},error:e[o+1],complete:e[o+2]},WF(t._query)}return function(h,m,g,y){const E=new kA(y),b=new TA(m,E,g);return h.asyncQueue.enqueueAndForget(async()=>SA(await tg(h),b)),()=>{E.Za(),h.asyncQueue.enqueueAndForget(async()=>AA(await tg(h),b))}}(qv(c),u,s,l)}function Zv(t,e){return function(r,i){const a=new ua;return r.asyncQueue.enqueueAndForget(async()=>WY(await eQ(r),i,a)),a.promise}(qv(t),e)}function QF(t,e,n){const r=n.docs.get(e._key),i=new VA(t);return new GF(t,i,e._key,r,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}function vQ(){return new RA("serverTimestamp")}function ww(...t){return new DA("arrayUnion",t)}function gd(...t){return new OA("arrayRemove",t)}(function(e,n=!0){(function(i){Gc=i})(ll),Us(new Oo("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Sa(new SK(r.getProvider("auth-internal")),new CK(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new le(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qd(c.options.projectId,u)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Pi(AI,"4.7.3",e),Pi(AI,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="firebasestorage.googleapis.com",ZF="storageBucket",yQ=2*60*1e3,EQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends $i{constructor(e,n,r=0){super(cE(e),`Firebase Storage: ${n} (${cE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nt||(Nt={}));function cE(t){return"storage/"+t}function UA(){const t="An unknown error occurred, please check the error payload for server response.";return new Mt(Nt.UNKNOWN,t)}function bQ(t){return new Mt(Nt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function wQ(t){return new Mt(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _Q(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(Nt.UNAUTHENTICATED,t)}function SQ(){return new Mt(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function AQ(t){return new Mt(Nt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function xQ(){return new Mt(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TQ(){return new Mt(Nt.CANCELED,"User canceled the upload/download.")}function CQ(t){return new Mt(Nt.INVALID_URL,"Invalid URL '"+t+"'.")}function kQ(t){return new Mt(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function IQ(){return new Mt(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZF+"' property when initializing the app?")}function PQ(){return new Mt(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function RQ(){return new Mt(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DQ(t){return new Mt(Nt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _w(t){return new Mt(Nt.INVALID_ARGUMENT,t)}function JF(){return new Mt(Nt.APP_DELETED,"The Firebase app was deleted.")}function OQ(t){return new Mt(Nt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vd(t,e){return new Mt(Nt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Nu(t){throw new Mt(Nt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ar.makeFromUrl(e,n)}catch{return new Ar(e,"")}if(r.path==="")return r;throw kQ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},y=n===XF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${E}`,"i"),T=[{regex:s,indices:l,postModify:a},{regex:m,indices:g,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<T.length;A++){const P=T[A],k=P.regex.exec(e);if(k){const S=k[P.indices.bucket];let x=k[P.indices.path];x||(x=""),r=new Ar(S,x),P.postModify(r);break}}if(r==null)throw CQ(e);return r}}class NQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(t,e,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(m,l())},E)}function h(){a&&clearTimeout(a)}function m(E,...b){if(c){h();return}if(E){h(),u.call(null,E,...b);return}if(l()||o){h(),u.call(null,E,...b);return}r<64&&(r*=2);let T;s===1?(s=2,T=0):T=(r+Math.random())*1e3,d(T)}let g=!1;function y(E){g||(g=!0,h(),!c&&(i!==null?(E||(s=2),clearTimeout(i),d(0)):E||(s=1)))}return d(0),a=setTimeout(()=>{o=!0,y(!0)},n),y}function LQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(t){return t!==void 0}function FQ(t){return typeof t=="object"&&!Array.isArray(t)}function zA(t){return typeof t=="string"||t instanceof String}function uP(t){return BA()&&t instanceof Blob}function BA(){return typeof Blob<"u"}function dP(t,e,n,r){if(r<e)throw _w(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _w(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function eV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ks;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ks||(ks={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VQ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e,n,r,i,a,o,s,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ap(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===ks.NO_ERROR,l=a.getStatus();if(!s||VQ(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===ks.ABORT;r(!1,new ap(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new ap(c,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());jQ(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=UA();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?JF():TQ();o(l)}else{const l=xQ();o(l)}};this.canceled_?n(!1,new ap(!1,null,!0)):this.backoffId_=MQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ap{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function zQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $Q(t,e){e&&(t["X-Firebase-GMPID"]=e)}function WQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function HQ(t,e,n,r,i,a,o=!0){const s=eV(t.urlParams),l=t.url+s,c=Object.assign({},t.headers);return $Q(c,e),zQ(c,n),BQ(c,a),WQ(c,r),new UQ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GQ(...t){const e=qQ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(BA())return new Blob(t);throw new Mt(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function KQ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(t){if(typeof atob>"u")throw DQ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class uE{constructor(e,n){this.data=e,this.contentType=n||null}}function QQ(t,e){switch(t){case Ti.RAW:return new uE(tV(e));case Ti.BASE64:case Ti.BASE64URL:return new uE(nV(t,e));case Ti.DATA_URL:return new uE(ZQ(e),JQ(e))}throw UA()}function tV(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function XQ(t){let e;try{e=decodeURIComponent(t)}catch{throw vd(Ti.DATA_URL,"Malformed data URL.")}return tV(e)}function nV(t,e){switch(t){case Ti.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw vd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ti.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw vd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=YQ(e)}catch(i){throw i.message.includes("polyfill")?i:vd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class rV{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw vd(Ti.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=eX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ZQ(t){const e=new rV(t);return e.base64?nV(Ti.BASE64,e.rest):XQ(e.rest)}function JQ(t){return new rV(t).contentType}function eX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){let r=0,i="";uP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(uP(this.data_)){const r=this.data_,i=KQ(r,e,n);return i===null?null:new ao(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ao(r,!0)}}static getBlob(...e){if(BA()){const n=e.map(r=>r instanceof ao?r.data_:r);return new ao(GQ.apply(null,n))}else{const n=e.map(o=>zA(o)?QQ(Ti.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new ao(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){let e;try{e=JSON.parse(t)}catch{return null}return FQ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nX(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function aV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rX(t,e){return e}class Kn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||rX}}let op=null;function iX(t){return!zA(t)||t.length<2?t:aV(t)}function oV(){if(op)return op;const t=[];t.push(new Kn("bucket")),t.push(new Kn("generation")),t.push(new Kn("metageneration")),t.push(new Kn("name","fullPath",!0));function e(a,o){return iX(o)}const n=new Kn("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new Kn("size");return i.xform=r,t.push(i),t.push(new Kn("timeCreated")),t.push(new Kn("updated")),t.push(new Kn("md5Hash",null,!0)),t.push(new Kn("cacheControl",null,!0)),t.push(new Kn("contentDisposition",null,!0)),t.push(new Kn("contentEncoding",null,!0)),t.push(new Kn("contentLanguage",null,!0)),t.push(new Kn("contentType",null,!0)),t.push(new Kn("metadata","customMetadata",!0)),op=t,op}function aX(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Ar(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function oX(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return aX(r,t),r}function sV(t,e,n){const r=iV(e);return r===null?null:oX(t,r,n)}function sX(t,e,n,r){const i=iV(e);if(i===null||!zA(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),m=Jv(h,n,r),g=eV({alt:"media",token:c});return m+g})[0]}function lX(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class $A{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){if(!t)throw UA()}function cX(t,e){function n(r,i){const a=sV(t,i,e);return lV(a!==null),a}return n}function uX(t,e){function n(r,i){const a=sV(t,i,e);return lV(a!==null),sX(a,i,t.host,t._protocol)}return n}function cV(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=SQ():i=_Q():n.getStatus()===402?i=wQ(t.bucket):n.getStatus()===403?i=AQ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function uV(t){const e=cV(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=bQ(t.path)),a.serverResponse=i.serverResponse,a}return n}function dX(t,e,n){const r=e.fullServerUrl(),i=Jv(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new $A(i,a,uX(t,n),o);return s.errorHandler=uV(e),s}function fX(t,e){const n=e.fullServerUrl(),r=Jv(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function o(l,c){}const s=new $A(r,i,o,a);return s.successCodes=[200,204],s.errorHandler=uV(e),s}function hX(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function pX(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=hX(null,e)),r}function mX(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let T="";for(let A=0;A<2;A++)T=T+Math.random().toString().slice(2);return T}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const c=pX(e,r,i),u=lX(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=ao.getBlob(d,r,h);if(m===null)throw PQ();const g={name:c.fullPath},y=Jv(a,t.host,t._protocol),E="POST",b=t.maxUploadRetryTime,w=new $A(y,E,cX(t,n),b);return w.urlParams=g,w.headers=o,w.body=m.uploadData(),w.errorHandler=cV(e),w}class gX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Nu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vX extends gX{initXhr(){this.xhr_.responseType="text"}}function WA(){return new vX}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this._service=e,n instanceof Ar?this._location=n:this._location=Ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gs(e,n)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aV(this._location.path)}get storage(){return this._service}get parent(){const e=tX(this._location.path);if(e===null)return null;const n=new Ar(this._location.bucket,e);return new Gs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw OQ(e)}}function yX(t,e,n){t._throwIfRoot("uploadBytes");const r=mX(t.storage,t._location,oV(),new ao(e,!0),n);return t.storage.makeRequestWithTokens(r,WA).then(i=>({metadata:i,ref:t}))}function EX(t){t._throwIfRoot("getDownloadURL");const e=dX(t.storage,t._location,oV());return t.storage.makeRequestWithTokens(e,WA).then(n=>{if(n===null)throw RQ();return n})}function bX(t){t._throwIfRoot("deleteObject");const e=fX(t.storage,t._location);return t.storage.makeRequestWithTokens(e,WA)}function wX(t,e){const n=nX(t._location.path,e),r=new Ar(t._location.bucket,n);return new Gs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(t){return/^[A-Za-z]+:\/\//.test(t)}function SX(t,e){return new Gs(t,e)}function dV(t,e){if(t instanceof HA){const n=t;if(n._bucket==null)throw IQ();const r=new Gs(n,n._bucket);return e!=null?dV(r,e):r}else return e!==void 0?wX(t,e):t}function AX(t,e){if(e&&_X(e)){if(t instanceof HA)return SX(t,e);throw _w("To use ref(service, url), the first argument must be a Storage instance.")}else return dV(t,e)}function fP(t,e){const n=e==null?void 0:e[ZF];return n==null?null:Ar.makeFromBucketSpec(n,t)}function xX(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:FL(i,t.app.options.projectId))}class HA{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=XF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yQ,this._maxUploadRetryTime=EQ,this._requests=new Set,i!=null?this._bucket=Ar.makeFromBucketSpec(i,this._host):this._bucket=fP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=fP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gs(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new NQ(JF());{const o=HQ(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const hP="@firebase/storage",pP="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="storage";function TX(t,e,n){return t=Xe(t),yX(t,e,n)}function CX(t){return t=Xe(t),EX(t)}function kX(t){return t=Xe(t),bX(t)}function mP(t,e){return t=Xe(t),AX(t,e)}function IX(t=US(),e){t=Xe(t);const r=Pv(t,fV).getImmediate({identifier:e}),i=ML("storage");return i&&PX(r,...i),r}function PX(t,e,n,r={}){xX(t,e,n,r)}function RX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new HA(n,r,i,e,ll)}function DX(){Us(new Oo(fV,RX,"PUBLIC").setMultipleInstances(!0)),Pi(hP,pP,""),Pi(hP,pP,"esm2017")}DX();const OX={apiKey:"AIzaSyBRyRLAlwWnJan9TtxwVRAOiNP9zJnExR8",authDomain:"dayzy-c9040.firebaseapp.com",projectId:"dayzy-c9040",storageBucket:"dayzy-c9040.firebasestorage.app",messagingSenderId:"849940276018",appId:"1:849940276018:web:49fec40131579c4bcc6d2b",measurementId:"G-RZFJD0JN12"},qA=zL(OX),Xn=Cj(qA),Ee=MF(qA),gP=IX(qA);function NX(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,a]=v.useState(""),[o,s]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState("login"),[h,m]=v.useState([]),g=pn();v.useEffect(()=>{(()=>{const P=Array.from({length:50},(k,S)=>({id:S,left:Math.random()*100,delay:Math.random()*.5,duration:3+Math.random()*2,size:2+Math.random()*4}));m(P)})()},[]);const y=()=>{a(""),s("")},E=async()=>{if(y(),!t.trim()||!n.trim())return a("Please enter email and password");c(!0);try{await hI(Xn,rw);const P=(await mj(Xn,t,n)).user,k=Ie(Ee,"users",P.uid);await Fi(k,{email:P.email,displayName:P.displayName||"",phoneNumber:"",photoURL:P.photoURL||"",createdAt:new Date,updatedAt:new Date},{merge:!0}),console.log(" User data synced"),g("/")}catch(A){a({"auth/invalid-email":"Invalid email address","auth/user-not-found":"User not found","auth/wrong-password":"Wrong password","auth/user-disabled":"Account disabled","auth/too-many-requests":"Try again later (10 min)"}[A.code]||A.message)}finally{c(!1)}},b=async()=>{if(y(),!t.trim()||!n.trim())return a("Please enter email and password");if(n.length<6)return a("Password must be at least 6 characters");c(!0);try{await hI(Xn,rw);const P=(await oG(Xn,t,n)).user,k=Ie(Ee,"users",P.uid);await Fi(k,{email:P.email,displayName:P.displayName||"",phoneNumber:"",photoURL:P.photoURL||"",createdAt:new Date,updatedAt:new Date},{merge:!0}),console.log(" User data saved to Firestore"),g("/")}catch(A){a({"auth/invalid-email":"Invalid email address","auth/email-already-in-use":"Email already in use","auth/weak-password":"Password too weak","auth/operation-not-allowed":"Registration disabled"}[A.code]||A.message)}finally{c(!1)}},w=async()=>{if(y(),!t.trim())return a("Please enter your email");c(!0);try{await pj(Xn,t,{url:`${window.location.origin}/login?email=${encodeURIComponent(t)}`,handleCodeInApp:!1}),s(` Email sent successfully!
 Check your inbox
 Link expires in 1 hour`),r(""),setTimeout(()=>d("login"),3e3)}catch(A){a({"auth/invalid-email":"Invalid email address","auth/user-not-found":"User not found","auth/too-many-requests":"Try again later (10 min)"}[A.code]||A.message)}finally{c(!1)}},T=(A,P)=>{A.key==="Enter"&&!l&&P()};return f.createElement("div",{className:"center-screen"},f.createElement("div",{className:"bg-gradient"}),f.createElement("div",{className:"bg-blur"}),f.createElement("div",{className:"particles-container"},h.map(A=>f.createElement("div",{key:A.id,className:"particle",style:{left:`${A.left}%`,width:`${A.size}px`,height:`${A.size}px`,animationDelay:`${A.delay}s`,animationDuration:`${A.duration}s`}}))),f.createElement("div",{className:`card login-card ${u}`},f.createElement("div",{className:"logo-section"},f.createElement("div",{className:"logo-icon"},""),f.createElement("h2",{className:"logo-text"},"DayZy"),f.createElement("p",{className:"tagline"},"Organize Your Day, Everyday")),f.createElement("div",{className:"mode-tabs"},f.createElement("button",{className:`tab ${u==="login"?"active":""}`,onClick:()=>{d("login"),y()}},"Sign In"),f.createElement("button",{className:`tab ${u==="register"?"active":""}`,onClick:()=>{d("register"),y()}},"Sign Up")),u==="login"&&f.createElement("div",{className:"mode-content"},f.createElement("h3",null,"Welcome Back"),f.createElement("div",{className:"form-group"},f.createElement("label",null,"Email"),f.createElement("input",{placeholder:"name@example.com",value:t,onChange:A=>e(A.target.value),onKeyPress:A=>T(A,E),disabled:l,type:"email"})),f.createElement("div",{className:"form-group"},f.createElement("label",null,"Password"),f.createElement("input",{placeholder:"",type:"password",value:n,onChange:A=>r(A.target.value),onKeyPress:A=>T(A,E),disabled:l})),i&&f.createElement("p",{className:"err"},i),o&&f.createElement("p",{className:"success"},o),f.createElement("button",{className:"btn btn-primary",onClick:E,disabled:l},f.createElement("span",{className:"btn-text"},l?" Signing in...":"Sign In")),f.createElement("div",{className:"divider"},"or"),f.createElement("button",{className:"link-btn",onClick:()=>{d("reset"),y()}}," Forgot Password?")),u==="register"&&f.createElement("div",{className:"mode-content"},f.createElement("h3",null,"Create Account"),f.createElement("div",{className:"form-group"},f.createElement("label",null,"Email"),f.createElement("input",{placeholder:"name@example.com",value:t,onChange:A=>e(A.target.value),disabled:l,type:"email"})),f.createElement("div",{className:"form-group"},f.createElement("label",null,"Password (min 6 characters)"),f.createElement("input",{placeholder:"",type:"password",value:n,onChange:A=>r(A.target.value),onKeyPress:A=>T(A,b),disabled:l})),i&&f.createElement("p",{className:"err"},i),o&&f.createElement("p",{className:"success"},o),f.createElement("button",{className:"btn btn-primary",onClick:b,disabled:l},f.createElement("span",{className:"btn-text"},l?" Creating...":"Create Account"))),u==="reset"&&f.createElement("div",{className:"mode-content"},f.createElement("h3",null,"Reset Password"),f.createElement("p",{className:"info-text"},"Enter your email and we'll send you a link to reset your password."),f.createElement("div",{className:"form-group"},f.createElement("label",null,"Email"),f.createElement("input",{placeholder:"name@example.com",value:t,onChange:A=>e(A.target.value),onKeyPress:A=>T(A,w),disabled:l,type:"email"})),i&&f.createElement("p",{className:"err"},i),o&&f.createElement("p",{className:"success"},o),f.createElement("button",{className:"btn btn-primary",onClick:w,disabled:l},f.createElement("span",{className:"btn-text"},l?" Sending...":"Send Reset Link")),f.createElement("button",{className:"link-btn",onClick:()=>{d("login"),y()}}," Back to Sign In")),f.createElement("p",{className:"footer-text"}," Your data is encrypted and secure")))}var ey,ye,hV,pV,Pc,ms,vP,mV,gV,rg={},vV=[],MX=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function fo(t,e){for(var n in e)t[n]=e[n];return t}function yV(t){var e=t.parentNode;e&&e.removeChild(t)}function L(t,e,n){var r,i,a,o={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?ey.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return tm(t,o,r,i,null)}function tm(t,e,n,r,i){var a={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++hV};return i==null&&ye.vnode!=null&&ye.vnode(a),a}function er(){return{current:null}}function Je(t){return t.children}function LX(t,e,n,r,i){var a;for(a in n)a==="children"||a==="key"||a in e||ig(t,a,null,n[a],r);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===e[a]||ig(t,a,e[a],n[a],r)}function yP(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||MX.test(e)?n:n+"px"}function ig(t,e,n,r,i){var a;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||yP(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||yP(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?r||t.addEventListener(e,a?bP:EP,a):t.removeEventListener(e,a?bP:EP,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function EP(t){Pc=!0;try{return this.l[t.type+!1](ye.event?ye.event(t):t)}finally{Pc=!1}}function bP(t){Pc=!0;try{return this.l[t.type+!0](ye.event?ye.event(t):t)}finally{Pc=!1}}function Cr(t,e){this.props=t,this.context=e}function Yd(t,e){if(e==null)return t.__?Yd(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Yd(t):null}function EV(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return EV(t)}}function jX(t){Pc?setTimeout(t):mV(t)}function Sw(t){(!t.__d&&(t.__d=!0)&&ms.push(t)&&!ag.__r++||vP!==ye.debounceRendering)&&((vP=ye.debounceRendering)||jX)(ag)}function ag(){var t,e,n,r,i,a,o,s;for(ms.sort(function(l,c){return l.__v.__b-c.__v.__b});t=ms.shift();)t.__d&&(e=ms.length,r=void 0,i=void 0,o=(a=(n=t).__v).__e,(s=n.__P)&&(r=[],(i=fo({},a)).__v=a.__v+1,GA(s,a,i,n.__n,s.ownerSVGElement!==void 0,a.__h!=null?[o]:null,r,o??Yd(a),a.__h),AV(r,a),a.__e!=o&&EV(a)),ms.length>e&&ms.sort(function(l,c){return l.__v.__b-c.__v.__b}));ag.__r=0}function bV(t,e,n,r,i,a,o,s,l,c){var u,d,h,m,g,y,E,b=r&&r.__k||vV,w=b.length;for(n.__k=[],u=0;u<e.length;u++)if((m=n.__k[u]=(m=e[u])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?tm(null,m,null,null,m):Array.isArray(m)?tm(Je,{children:m},null,null,null):m.__b>0?tm(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=n,m.__b=n.__b+1,(h=b[u])===null||h&&m.key==h.key&&m.type===h.type)b[u]=void 0;else for(d=0;d<w;d++){if((h=b[d])&&m.key==h.key&&m.type===h.type){b[d]=void 0;break}h=null}GA(t,m,h=h||rg,i,a,o,s,l,c),g=m.__e,(d=m.ref)&&h.ref!=d&&(E||(E=[]),h.ref&&E.push(h.ref,null,m),E.push(d,m.__c||g,m)),g!=null?(y==null&&(y=g),typeof m.type=="function"&&m.__k===h.__k?m.__d=l=wV(m,l,t):l=_V(t,m,h,b,g,l),typeof n.type=="function"&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=Yd(h))}for(n.__e=y,u=w;u--;)b[u]!=null&&(typeof n.type=="function"&&b[u].__e!=null&&b[u].__e==n.__d&&(n.__d=SV(r).nextSibling),TV(b[u],b[u]));if(E)for(u=0;u<E.length;u++)xV(E[u],E[++u],E[++u])}function wV(t,e,n){for(var r,i=t.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=t,e=typeof r.type=="function"?wV(r,e,n):_V(n,r,r,i,r.__e,e));return e}function og(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){og(n,e)}):e.push(t)),e}function _V(t,e,n,r,i,a){var o,s,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),o=null;else{for(s=a,l=0;(s=s.nextSibling)&&l<r.length;l+=1)if(s==i)break e;t.insertBefore(i,a),o=a}return o!==void 0?o:i.nextSibling}function SV(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=SV(n)))return r}return null}function GA(t,e,n,r,i,a,o,s,l){var c,u,d,h,m,g,y,E,b,w,T,A,P,k,S,x=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,s=e.__e=n.__e,e.__h=null,a=[s]),(c=ye.__b)&&c(e);try{e:if(typeof x=="function"){if(E=e.props,b=(c=x.contextType)&&r[c.__c],w=c?b?b.props.value:c.__:r,n.__c?y=(u=e.__c=n.__c).__=u.__E:("prototype"in x&&x.prototype.render?e.__c=u=new x(E,w):(e.__c=u=new Cr(E,w),u.constructor=x,u.render=VX),b&&b.sub(u),u.props=E,u.state||(u.state={}),u.context=w,u.__n=r,d=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),x.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=fo({},u.__s)),fo(u.__s,x.getDerivedStateFromProps(E,u.__s))),h=u.props,m=u.state,u.__v=e,d)x.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(x.getDerivedStateFromProps==null&&E!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(E,w),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(E,u.__s,w)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(u.props=E,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(I){I&&(I.__=e)}),T=0;T<u._sb.length;T++)u.__h.push(u._sb[T]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(E,u.__s,w),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,m,g)})}if(u.context=w,u.props=E,u.__P=t,A=ye.__r,P=0,"prototype"in x&&x.prototype.render){for(u.state=u.__s,u.__d=!1,A&&A(e),c=u.render(u.props,u.state,u.context),k=0;k<u._sb.length;k++)u.__h.push(u._sb[k]);u._sb=[]}else do u.__d=!1,A&&A(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++P<25);u.state=u.__s,u.getChildContext!=null&&(r=fo(fo({},r),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(g=u.getSnapshotBeforeUpdate(h,m)),S=c!=null&&c.type===Je&&c.key==null?c.props.children:c,bV(t,Array.isArray(S)?S:[S],e,n,r,i,a,o,s,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),y&&(u.__E=u.__=null),u.__e=!1}else a==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=FX(n.__e,e,n,r,i,a,o,l);(c=ye.diffed)&&c(e)}catch(I){e.__v=null,(l||a!=null)&&(e.__e=s,e.__h=!!l,a[a.indexOf(s)]=null),ye.__e(I,e,n)}}function AV(t,e){ye.__c&&ye.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){ye.__e(r,n.__v)}})}function FX(t,e,n,r,i,a,o,s){var l,c,u,d=n.props,h=e.props,m=e.type,g=0;if(m==="svg"&&(i=!0),a!=null){for(;g<a.length;g++)if((l=a[g])&&"setAttribute"in l==!!m&&(m?l.localName===m:l.nodeType===3)){t=l,a[g]=null;break}}if(t==null){if(m===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,h.is&&h),a=null,s=!1}if(m===null)d===h||s&&t.data===h||(t.data=h);else{if(a=a&&ey.call(t.childNodes),c=(d=n.props||rg).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!s){if(a!=null)for(d={},g=0;g<t.attributes.length;g++)d[t.attributes[g].name]=t.attributes[g].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(LX(t,h,d,i,s),u)e.__k=[];else if(g=e.props.children,bV(t,Array.isArray(g)?g:[g],e,n,r,i&&m!=="foreignObject",a,o,a?a[0]:n.__k&&Yd(n,0),s),a!=null)for(g=a.length;g--;)a[g]!=null&&yV(a[g]);s||("value"in h&&(g=h.value)!==void 0&&(g!==t.value||m==="progress"&&!g||m==="option"&&g!==d.value)&&ig(t,"value",g,d.value,!1),"checked"in h&&(g=h.checked)!==void 0&&g!==t.checked&&ig(t,"checked",g,d.checked,!1))}return t}function xV(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){ye.__e(r,n)}}function TV(t,e,n){var r,i;if(ye.unmount&&ye.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||xV(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){ye.__e(a,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&TV(r[i],e,n||typeof t.type!="function");n||t.__e==null||yV(t.__e),t.__=t.__e=t.__d=void 0}function VX(t,e,n){return this.constructor(t,n)}function Qd(t,e,n){var r,i,a;ye.__&&ye.__(t,e),i=(r=!1)?null:e.__k,a=[],GA(e,t=e.__k=L(Je,null,[t]),i||rg,rg,e.ownerSVGElement!==void 0,i?null:e.firstChild?ey.call(e.childNodes):null,a,i?i.__e:e.firstChild,r),AV(a,t)}function UX(t,e){var n={__c:e="__cC"+gV++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(s){s.__e=!0,Sw(s)})},this.sub=function(o){i.push(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),s&&s.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ey=vV.slice,ye={__e:function(t,e,n,r){for(var i,a,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(s){t=s}throw t}},hV=0,pV=function(t){return t!=null&&t.constructor===void 0},Pc=!1,Cr.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=fo({},this.state),typeof t=="function"&&(t=t(fo({},n),this.props)),t&&fo(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Sw(this))},Cr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Sw(this))},Cr.prototype.render=Je,ms=[],mV=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ag.__r=0,gV=0;var _i,dE,wP,CV=[],fE=[],_P=ye.__b,SP=ye.__r,AP=ye.diffed,xP=ye.__c,TP=ye.unmount;function zX(){for(var t;t=CV.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(nm),t.__H.__h.forEach(Aw),t.__H.__h=[]}catch(e){t.__H.__h=[],ye.__e(e,t.__v)}}ye.__b=function(t){_i=null,_P&&_P(t)},ye.__r=function(t){SP&&SP(t);var e=(_i=t.__c).__H;e&&(dE===_i?(e.__h=[],_i.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=fE,n.__N=n.i=void 0})):(e.__h.forEach(nm),e.__h.forEach(Aw),e.__h=[])),dE=_i},ye.diffed=function(t){AP&&AP(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(CV.push(e)!==1&&wP===ye.requestAnimationFrame||((wP=ye.requestAnimationFrame)||BX)(zX)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==fE&&(n.__=n.__V),n.i=void 0,n.__V=fE})),dE=_i=null},ye.__c=function(t,e){e.some(function(n){try{n.__h.forEach(nm),n.__h=n.__h.filter(function(r){return!r.__||Aw(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ye.__e(r,n.__v)}}),xP&&xP(t,e)},ye.unmount=function(t){TP&&TP(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{nm(r)}catch(i){e=i}}),n.__H=void 0,e&&ye.__e(e,n.__v))};var CP=typeof requestAnimationFrame=="function";function BX(t){var e,n=function(){clearTimeout(r),CP&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);CP&&(e=requestAnimationFrame(n))}function nm(t){var e=_i,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),_i=e}function Aw(t){var e=_i;t.__c=t.__(),_i=e}function $X(t,e){for(var n in e)t[n]=e[n];return t}function kP(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function IP(t){this.props=t}(IP.prototype=new Cr).isPureReactComponent=!0,IP.prototype.shouldComponentUpdate=function(t,e){return kP(this.props,t)||kP(this.state,e)};var PP=ye.__b;ye.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),PP&&PP(t)};var WX=ye.__e;ye.__e=function(t,e,n,r){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}WX(t,e,n,r)};var RP=ye.unmount;function kV(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=$X({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return kV(r,e,n)})),t}function IV(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return IV(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function hE(){this.__u=0,this.t=null,this.__b=null}function PV(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function sp(){this.u=null,this.o=null}ye.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),RP&&RP(t)},(hE.prototype=new Cr).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=PV(r.__v),a=!1,o=function(){a||(a=!0,n.__R=null,i?i(s):s())};n.__R=o;var s=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=IV(c,c.__c.__P,c.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},hE.prototype.componentWillUnmount=function(){this.t=[]},hE.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=kV(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&L(Je,null,t.fallback);return i&&(i.__h=null),[L(Je,null,e.__a?null:t.children),i]};var DP=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function HX(t){return this.getChildContext=function(){return t.context},t.children}function qX(t){var e=this,n=t.i;e.componentWillUnmount=function(){Qd(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Qd(L(HX,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function GX(t,e){var n=L(qX,{__v:t,i:e});return n.containerInfo=e,n}(sp.prototype=new Cr).__a=function(t){var e=this,n=PV(e.__v),r=e.o.get(t);return r[0]++,function(i){var a=function(){e.props.revealOrder?(r.push(i),DP(e,t,r)):i()};n?n(a):a()}},sp.prototype.render=function(t){this.u=null,this.o=new Map;var e=og(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},sp.prototype.componentDidUpdate=sp.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){DP(t,n,e)})};var KX=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,YX=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,QX=typeof document<"u",XX=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Cr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Cr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var OP=ye.event;function ZX(){}function JX(){return this.cancelBubble}function eZ(){return this.defaultPrevented}ye.event=function(t){return OP&&(t=OP(t)),t.persist=ZX,t.isPropagationStopped=JX,t.isDefaultPrevented=eZ,t.nativeEvent=t};var NP={configurable:!0,get:function(){return this.class}},MP=ye.vnode;ye.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var a in r={},n){var o=n[a];QX&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in n&&o==null||(a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&o===!0?o="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!XX(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&YX.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),r[a]&&(a="oninputCapture")),r[a]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=og(n.children).forEach(function(s){s.props.selected=r.value.indexOf(s.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=og(n.children).forEach(function(s){s.props.selected=r.multiple?r.defaultValue.indexOf(s.props.value)!=-1:r.defaultValue==s.props.value})),t.props=r,n.class!=n.className&&(NP.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",NP))}t.$$typeof=KX,MP&&MP(t)};var LP=ye.__r;ye.__r=function(t){LP&&LP(t),t.__c};const RV=[],xw=new Map;function ty(t){RV.push(t),xw.forEach(e=>{OV(e,t)})}function tZ(t){t.isConnected&&t.getRootNode&&DV(t.getRootNode())}function DV(t){let e=xw.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=rZ();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}xw.set(t,e),nZ(e)}}function nZ(t){for(const e of RV)OV(t,e)}function OV(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,a)=>{i=i.trim(),i&&n.insertRule(i+"}",r+a)})}let pE;function rZ(){return pE===void 0&&(pE=iZ()),pE}function iZ(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&DV(document);var aZ=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';ty(aZ);class KA{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function YA(t){t.parentNode&&t.parentNode.removeChild(t)}function Vn(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(oZ(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function oZ(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function sZ(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let a=n[i].querySelectorAll(e);for(let o=0;o<a.length;o+=1)r.push(a[o])}return r}const lZ=/(top|left|right|bottom|width|height)$/i;function yd(t,e){for(let n in e)NV(t,n,e[n])}function NV(t,e,n){n==null?t.style[e]="":typeof n=="number"&&lZ.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function MV(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let jP=0;function Io(){return jP+=1,"fc-dom-"+jP}function ny(t){t.preventDefault()}function cZ(t,e){return n=>{let r=Vn(n.target,t);r&&e.call(r,n,r)}}function LV(t,e,n,r){let i=cZ(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function uZ(t,e,n,r){let i;return LV(t,"mouseover",e,(a,o)=>{if(o!==i){i=o,n(a,o);let s=l=>{i=null,r(l,o),o.removeEventListener("mouseleave",s)};o.addEventListener("mouseleave",s)}})}const FP=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function dZ(t,e){let n=r=>{e(r),FP.forEach(i=>{t.removeEventListener(i,n)})};FP.forEach(r=>{t.addEventListener(r,n)})}function jV(t){return Object.assign({onClick:t},FV(t))}function FV(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let VP=0;function hl(){return VP+=1,String(VP)}function QA(){document.body.classList.add("fc-not-allowed")}function XA(){document.body.classList.remove("fc-not-allowed")}function fZ(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",ny)}function hZ(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",ny)}function pZ(t){t.addEventListener("contextmenu",ny)}function mZ(t){t.removeEventListener("contextmenu",ny)}function gZ(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function vZ(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=yZ(t,e,n[r]),i)return i;return 0}function yZ(t,e,n){return n.func?n.func(t,e):EZ(t[n.field],e[n.field])*(n.order||1)}function EZ(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function sc(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Ed(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,a)=>r.replace("$"+a,i||""),t):n}function bZ(t,e){return t-e}function rm(t){return t%1===0}function wZ(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const UP=["years","months","days","milliseconds"],_Z=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Fe(t,e){return typeof t=="string"?SZ(t):typeof t=="object"&&t?zP(t):typeof t=="number"?zP({[e||"milliseconds"]:t}):null}function SZ(t){let e=_Z.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function zP(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function AZ(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function Tw(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function xZ(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function TZ(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function CZ(t){return lc(t)/365}function kZ(t){return lc(t)/30}function lc(t){return oi(t)/864e5}function oi(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function ZA(t,e){let n=null;for(let r=0;r<UP.length;r+=1){let i=UP[r];if(e[i]){let a=t[i]/e[i];if(!rm(a)||n!==null&&n!==a)return null;n=a}else if(t[i])return null}return n}function Cw(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Fo(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const IZ=["sun","mon","tue","wed","thu","fri","sat"];function BP(t,e){let n=ho(t);return n[2]+=e*7,cr(n)}function Gt(t,e){let n=ho(t);return n[2]+=e,cr(n)}function Vo(t,e){let n=ho(t);return n[6]+=e,cr(n)}function PZ(t,e){return Qo(t,e)/7}function Qo(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function RZ(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function DZ(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function OZ(t,e){return(e.valueOf()-t.valueOf())/1e3}function NZ(t,e){let n=nt(t),r=nt(e);return{years:0,months:0,days:Math.round(Qo(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function MZ(t,e){let n=sg(t,e);return n!==null&&n%7===0?n/7:null}function sg(t,e){return po(t)===po(e)?Math.round(Qo(t,e)):null}function nt(t){return cr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function LZ(t){return cr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function jZ(t){return cr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function FZ(t){return cr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function VZ(t,e,n){let r=t.getUTCFullYear(),i=mE(t,r,e,n);if(i<1)return mE(t,r-1,e,n);let a=mE(t,r+1,e,n);return a>=1?Math.min(i,a):i}function mE(t,e,n,r){let i=cr([e,0,1+UZ(e,n,r)]),a=nt(t),o=Math.round(Qo(i,a));return Math.floor(o/7)+1}function UZ(t,e,n){let r=7+e-n;return-((7+cr([t,0,r]).getUTCDay()-e)%7)+r-1}function $P(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function WP(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function ho(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function cr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function VV(t){return!isNaN(t.valueOf())}function po(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function UV(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",JA(e,!0)))),r}function Lf(t){return t.toISOString().replace(/T.*$/,"")}function zZ(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function BZ(t){return sc(t.getUTCHours(),2)+":"+sc(t.getUTCMinutes(),2)+":"+sc(t.getUTCSeconds(),2)}function JA(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=Math.round(r%60);return e?`${n+sc(i,2)}:${sc(a,2)}`:`GMT${n}${i}${a?`:${sc(a,2)}`:""}`}function ve(t,e,n){let r,i;return function(...a){if(!r)i=t.apply(this,a);else if(!Fo(r,a)){let o=t.apply(this,a);(!e||!e(o,i))&&(i=o)}return r=a,i}}function im(t,e,n){let r,i;return a=>(r?fi(r,a)||(i=t.call(this,a)):i=t.call(this,a),r=a,i)}const gE={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},lg={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},lp=/\s*([ap])\.?m\.?/i,$Z=/,/g,WZ=/\s+/g,HZ=/\u200e/g,qZ=/UTC|GMT/;class GZ{constructor(e){let n={},r={},i=9;for(let a in e)a in gE?(r[a]=e[a],gE[a]<9&&(i=Math.min(gE[a],i))):(n[a]=e[a],a in lg&&(i=Math.min(lg[a],i)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=i,this.buildFormattingFunc=ve(HP)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:a,extendedSettings:o}=this,s=JZ(e.marker,n.marker,r.calendarSystem);if(!s)return this.format(e,r);let l=s;l>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(l=1);let c=this.format(e,r),u=this.format(n,r);if(c===u)return c;let d=eJ(a,l),h=HP(d,o,r),m=h(e),g=h(n),y=tJ(c,m,u,g),E=o.separator||i||r.defaultSeparator||"";return y?y.before+m+E+g+y.after:c+E+u}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function HP(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>JA(i.timeZoneOffset):r===0&&e.week?i=>ZZ(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):KZ(t,e,n)}function KZ(t,e,n){t=Object.assign({},t),e=Object.assign({},e),YZ(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let a=Object.assign({},t);delete a.minute,i=new Intl.DateTimeFormat(n.locale.codes,a)}return a=>{let{marker:o}=a,s;i&&!o.getUTCMinutes()?s=i:s=r;let l=s.format(o);return QZ(l,a,t,e,n)}}function YZ(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function QZ(t,e,n,r,i){return t=t.replace(HZ,""),n.timeZoneName==="short"&&(t=XZ(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":JA(e.timeZoneOffset))),r.omitCommas&&(t=t.replace($Z,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(lp,"").trim():r.meridiem==="narrow"?t=t.replace(lp,(a,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(lp,(a,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(lp,a=>a.toLocaleLowerCase())),t=t.replace(WZ," "),t=t.trim(),t}function XZ(t,e){let n=!1;return t=t.replace(qZ,()=>(n=!0,e)),n||(t+=` ${e}`),t}function ZZ(t,e,n,r,i){let a=[];return i==="long"?a.push(n):(i==="short"||i==="narrow")&&a.push(e),(i==="long"||i==="short")&&a.push(" "),a.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&a.reverse(),a.join("")}function JZ(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:po(t)!==po(e)?1:0}function eJ(t,e){let n={};for(let r in t)(!(r in lg)||lg[r]<=e)&&(n[r]=t[r]);return n}function tJ(t,e,n,r){let i=0;for(;i<t.length;){let a=t.indexOf(e,i);if(a===-1)break;let o=t.substr(0,a);i=a+e.length;let s=t.substr(i),l=0;for(;l<n.length;){let c=n.indexOf(r,l);if(c===-1)break;let u=n.substr(0,c);l=c+r.length;let d=n.substr(l);if(o===u&&s===d)return{before:o,after:s}}}return null}function qP(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function cg(t,e,n,r){let i=qP(t,n.calendarSystem),a=e?qP(e,n.calendarSystem):null;return{date:i,start:i,end:a,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class nJ{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,cg(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,cg(e,n,r,i))}}class rJ{constructor(e){this.func=e}format(e,n,r){return this.func(cg(e,null,n,r))}formatRange(e,n,r,i){return this.func(cg(e,n,r,i))}}function pt(t){return typeof t=="object"&&t?new GZ(t):typeof t=="string"?new nJ(t):typeof t=="function"?new rJ(t):null}const GP={navLinkDayClick:B,navLinkWeekClick:B,duration:Fe,bootstrapFontAwesome:B,buttonIcons:B,customButtons:B,defaultAllDayEventDuration:Fe,defaultTimedEventDuration:Fe,nextDayThreshold:Fe,scrollTime:Fe,scrollTimeReset:Boolean,slotMinTime:Fe,slotMaxTime:Fe,dayPopoverFormat:pt,slotDuration:Fe,snapDuration:Fe,headerToolbar:B,footerToolbar:B,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:pt,dayHeaderClassNames:B,dayHeaderContent:B,dayHeaderDidMount:B,dayHeaderWillUnmount:B,dayCellClassNames:B,dayCellContent:B,dayCellDidMount:B,dayCellWillUnmount:B,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:B,weekNumbers:Boolean,weekNumberClassNames:B,weekNumberContent:B,weekNumberDidMount:B,weekNumberWillUnmount:B,editable:Boolean,viewClassNames:B,viewDidMount:B,viewWillUnmount:B,nowIndicator:Boolean,nowIndicatorSnap:B,nowIndicatorClassNames:B,nowIndicatorContent:B,nowIndicatorDidMount:B,nowIndicatorWillUnmount:B,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:B,locale:B,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:B,eventOrder:gZ,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:B,contentHeight:B,direction:String,weekNumberFormat:pt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:B,initialDate:B,now:B,eventDataTransform:B,stickyHeaderDates:B,stickyFooterScrollbar:B,viewHeight:B,defaultAllDay:Boolean,eventSourceFailure:B,eventSourceSuccess:B,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:B,eventConstraint:B,eventAllow:B,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:B,eventContent:B,eventDidMount:B,eventWillUnmount:B,selectConstraint:B,selectOverlap:B,selectAllow:B,droppable:Boolean,unselectCancel:String,slotLabelFormat:B,slotLaneClassNames:B,slotLaneContent:B,slotLaneDidMount:B,slotLaneWillUnmount:B,slotLabelClassNames:B,slotLabelContent:B,slotLabelDidMount:B,slotLabelWillUnmount:B,dayMaxEvents:B,dayMaxEventRows:B,dayMinWidth:Number,slotLabelInterval:Fe,allDayText:String,allDayClassNames:B,allDayContent:B,allDayDidMount:B,allDayWillUnmount:B,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:pt,rerenderDelay:Number,moreLinkText:B,moreLinkHint:B,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:B,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Fe,hiddenDays:B,fixedWeekCount:Boolean,validRange:B,visibleRange:B,titleFormat:B,eventInteractive:Boolean,noEventsText:String,viewHint:B,navLinkHint:B,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:B,moreLinkClassNames:B,moreLinkContent:B,moreLinkDidMount:B,moreLinkWillUnmount:B,monthStartFormat:pt,handleCustomRendering:B,customRenderingMetaMap:B,customRenderingReplaces:Boolean},bd={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},KP={datesSet:B,eventsSet:B,eventAdd:B,eventChange:B,eventRemove:B,windowResize:B,eventClick:B,eventMouseEnter:B,eventMouseLeave:B,select:B,unselect:B,loading:B,_unmount:B,_beforeprint:B,_afterprint:B,_noEventDrop:B,_noEventResize:B,_resize:B,_scrollRequest:B},YP={buttonText:B,buttonHints:B,views:B,plugins:B,initialEvents:B,events:B,eventSources:B},us={headerToolbar:ds,footerToolbar:ds,buttonText:ds,buttonHints:ds,buttonIcons:ds,dateIncrement:ds,plugins:cp,events:cp,eventSources:cp,resources:cp};function ds(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?fi(t,e):t===e}function cp(t,e){return Array.isArray(t)&&Array.isArray(e)?Fo(t,e):t===e}const iJ={type:String,component:B,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:B,usesMinMaxTime:Boolean,classNames:B,content:B,didMount:B,willUnmount:B};function vE(t){return tx(t,us)}function ex(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function B(t){return t}const{hasOwnProperty:ug}=Object.prototype;function tx(t,e){let n={};if(e){for(let r in e)if(e[r]===ds){let i=[];for(let a=t.length-1;a>=0;a-=1){let o=t[a][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=tx(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let a in i)a in n||(n[a]=i[a])}return n}function Ks(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function Aa(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function zV(t){let e={};for(let n of t)e[n]=!0;return e}function nx(t){let e=[];for(let n in t)e.push(t[n]);return e}function fi(t,e){if(t===e)return!0;for(let n in t)if(ug.call(t,n)&&!(n in e))return!1;for(let n in e)if(ug.call(e,n)&&t[n]!==e[n])return!1;return!0}const aJ=/^on[A-Z]/;function oJ(t,e){const n=sJ(t,e);for(let r of n)if(!aJ.test(r))return!1;return!0}function sJ(t,e){let n=[];for(let r in t)ug.call(t,r)&&(r in e||n.push(r));for(let r in e)ug.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function yE(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&lJ(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function lJ(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function cJ(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let a=e;a<n;a+=r){let o=t[a];o!==void 0&&i.push(o)}return i}let BV={};function uJ(t,e){BV[t]=e}function dJ(t){return new BV[t]}class fJ{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return cr(e)}markerToArray(e){return ho(e)}}uJ("gregory",fJ);const hJ=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function pJ(t){let e=hJ.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(VV(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class mJ{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=dJ(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):cr($P(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=cr(e)),n===null||!VV(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=pJ(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return po(e)===po(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return po(e)===po(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=MZ(e,n),r!==null?{unit:"week",value:r}:(r=sg(e,n),r!==null?{unit:"day",value:r}:(r=RZ(e,n),rm(r)?{unit:"hour",value:r}:(r=DZ(e,n),rm(r)?{unit:"minute",value:r}:(r=OZ(e,n),rm(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/CZ(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/kZ(r):r.days&&(i=sg(e,n),i!==null)?i/lc(r):(n.valueOf()-e.valueOf())/oi(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?nt(e):n==="hour"?LZ(e):n==="minute"?jZ(e):n==="second"?FZ(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):VZ(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=Vo(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),UV(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?cr($P(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):cr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-WP(ho(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ho(e)):null}toDate(e,n){return this.timeZone==="local"?WP(ho(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(ho(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class jf{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}jf.prototype.classes={};jf.prototype.iconClasses={};jf.prototype.baseIconClass="";jf.prototype.iconOverridePrefix="";function dg(t){t();let e=ye.debounceRendering,n=[];function r(i){n.push(i)}for(ye.debounceRendering=r,Qd(L(gJ,{}),document.createElement("div"));n.length;)n.shift()();ye.debounceRendering=e}class gJ extends Cr{render(){return L("div",{})}componentDidMount(){this.setState({})}}function $V(t){let e=UX(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let a=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&a.forEach(s=>{s.context=o.value,s.forceUpdate()})},this.sub=o=>{a.push(o);let s=o.componentWillUnmount;o.componentWillUnmount=()=>{a.splice(a.indexOf(o),1),s&&s.call(o)}}}return i},e}class vJ{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Ma=$V({});function yJ(t,e,n,r,i,a,o,s,l,c,u,d,h,m){return{dateEnv:i,nowManager:a,options:n,pluginHooks:s,emitter:u,dispatch:l,getCurrentData:c,calendarApi:d,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:o,isRtl:n.direction==="rtl",addResizeHandler(g){u.on("_resize",g)},removeResizeHandler(g){u.off("_resize",g)},createScrollResponder(g){return new vJ(g,u,Fe(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:m}}class pl extends Cr{shouldComponentUpdate(e,n){return!yE(this.props,e,this.propEquality)||!yE(this.state,n,this.stateEquality)}safeSetState(e){yE(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}pl.addPropsEquality=EJ;pl.addStateEquality=bJ;pl.contextType=Ma;pl.prototype.propEquality={};pl.prototype.stateEquality={};class Ge extends pl{}Ge.contextType=Ma;function EJ(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function bJ(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Vi(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class rx extends Ge{constructor(){super(...arguments),this.id=hl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!kw(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Vi(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:a,renderProps:o}=e,s=WV(e,[],this.handleEl);let l=!1,c,u=[],d;if(i!=null){const h=typeof i=="function"?i(o,L):i;if(h===!0)l=!0;else{const m=h&&typeof h=="object";m&&"html"in h?s.dangerouslySetInnerHTML={__html:h.html}:m&&"domNodes"in h?u=Array.prototype.slice.call(h.domNodes):(m?pV(h):typeof h!="function")?c=h:d=h}}else l=!kw(e.generatorName,r);return l&&a&&(c=a(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=d,L(e.elTag,s,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:a,customRenderingMetaMap:o}=i.options;if(a){const s=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];s&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:s},r),{elClasses:(r.elClasses||[]).filter(wJ)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!Fo(e,n)){n.forEach(YA);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}rx.addPropsEquality({elClasses:Fo,elStyle:fi,elAttrs:oJ,renderProps:fi});function kw(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function WV(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function wJ(t){return!!t}const HV=$V(0);class Wn extends Cr{constructor(){super(...arguments),this.InnerContent=_J.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Vi(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=SJ(e.classNameGenerator,e.renderProps);if(e.children){const r=WV(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?L(e.elTag,r,i):i}else return L(rx,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Wn.contextType=HV;function _J(t,e){const n=t.props;return L(rx,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function SJ(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class Xd extends Ge{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return L(Wn,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...qV(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function qV(t){return[`fc-${t.type}-view`,"fc-view"]}function AJ(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function QP(t,e){let n=[],{start:r}=e,i,a;for(t.sort(xJ),i=0;i<t.length;i+=1)a=t[i],a.start>r&&n.push({start:r,end:a.start}),a.end>r&&(r=a.end);return r<e.end&&n.push({start:r,end:e.end}),n}function xJ(t,e){return t.start.valueOf()-e.start.valueOf()}function Uo(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function TJ(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function ix(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function ry(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function da(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function CJ(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function GV(t){let e=Math.floor(Qo(t.start,t.end))||1,n=nt(t.start),r=Gt(n,e);return{start:n,end:r}}function ax(t,e=Fe(0)){let n=null,r=null;if(t.end){r=nt(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=oi(e)&&(r=Gt(r,1))}return t.start&&(n=nt(t.start),r&&r<=n&&(r=Gt(n,1))),{start:n,end:r}}function kJ(t){let e=ax(t);return Qo(e.start,e.end)>1}function Gl(t,e,n,r){return r==="year"?Fe(n.diffWholeYears(t,e),"year"):r==="month"?Fe(n.diffWholeMonths(t,e),"month"):NZ(t,e)}class KV{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,a=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,a=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,r)}build(e,n,r=!0){let{props:i}=this,a,o,s,l,c,u;return a=this.buildValidRange(),a=this.trimHiddenDays(a),r&&(e=CJ(e,a)),o=this.buildCurrentRangeInfo(e,n),s=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,s),l=this.trimHiddenDays(l),c=l,i.showNonCurrentDates||(c=Uo(c,o.range)),c=this.adjustActiveRange(c),c=Uo(c,a),u=ix(o.range,a),da(l,e)||(e=l.start),{currentDate:e,validRange:a,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:s,activeRange:c,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,a=null,o=null,s;return r.duration?(i=r.duration,a=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,a)):(s=this.props.dayCount)?(a="day",o=this.buildRangeFromDayCount(e,n,s)):(o=this.buildCustomVisibleRange(e))?a=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),a=Cw(i).unit,o=this.buildRangeFromDuration(e,n,i,a)),{duration:i,unit:a,range:o}}getFallbackDuration(){return Fe({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:a}=this.props,{start:o,end:s}=e;return r&&(lc(i)<0&&(o=nt(o),o=n.add(o,i)),lc(a)>1&&(s=nt(s),s=Gt(s,-1),s=n.add(s,a))),{start:o,end:s}}buildRangeFromDuration(e,n,r,i){let{dateEnv:a,dateAlignment:o}=this.props,s,l,c;if(!o){let{dateIncrement:d}=this.props;d&&oi(d)<oi(r)?o=Cw(d).unit:o=i}lc(r)<=1&&this.isHiddenDay(s)&&(s=this.skipHiddenDays(s,n),s=nt(s));function u(){s=a.startOf(e,o),l=a.add(s,r),c={start:s,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),u()),c}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:a}=this.props,o=0,s=e,l;a&&(s=i.startOf(s,a)),s=nt(s),s=this.skipHiddenDays(s,n),l=s;do l=Gt(l,1),this.isHiddenDay(l)||(o+=1);while(o<r);return{start:s,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,a=this.refineRange(i);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?Fe(1,r):e||Fe({days:1}))}refineRange(e){if(e){let n=AJ(e,this.props.dateEnv);return n&&(n=ax(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=Gt(e,n);return e}}function ox(t,e,n,r){return{instanceId:hl(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function IJ(t,e,n,r){for(let i=0;i<r.length;i+=1){let a=r[i].parse(t,n);if(a){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=a.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function Ys(t,e,n){let{dateEnv:r,pluginHooks:i,options:a}=n,{defs:o,instances:s}=t;s=Ks(s,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let d=PJ(c,u,e,r,i.recurringTypes);for(let h of d){let m=ox(l,{start:h,end:r.add(h,u)});s[m.instanceId]=m}}}return{defs:o,instances:s}}function PJ(t,e,n,r,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(nt)),o}const am={id:String,groupId:String,title:String,url:String,interactive:Boolean},YV={start:B,end:B,date:B,allDay:Boolean},RJ=Object.assign(Object.assign(Object.assign({},am),YV),{extendedProps:B});function QV(t,e,n,r,i=sx(n),a,o){let{refined:s,extra:l}=XV(t,n,i),c=OJ(e,n),u=IJ(s,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let h=Iw(s,l,e?e.sourceId:"",u.allDay,!!u.duration,n,a);return h.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:h,instance:null}}let d=DJ(s,c,n,r);if(d){let h=Iw(s,l,e?e.sourceId:"",d.allDay,d.hasEnd,n,a),m=ox(h.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(m.instanceId=o[h.publicId]),{def:h,instance:m}}return null}function XV(t,e,n=sx(e)){return ex(t,n)}function sx(t){return Object.assign(Object.assign(Object.assign({},fg),RJ),t.pluginHooks.eventRefiners)}function Iw(t,e,n,r,i,a,o){let s={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||hl(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:hg(t,a),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of a.pluginHooks.eventDefMemberAdders)Object.assign(s,l(t));return Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),s}function DJ(t,e,n,r){let{allDay:i}=t,a,o=null,s=!1,l,c=null,u=t.start!=null?t.start:t.date;if(a=n.dateEnv.createMarkerMeta(u),a)o=a.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!a||a.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&o&&(o=nt(o)),l&&(c=l.marker,i&&(c=nt(c)),o&&c<=o&&(c=null)),c?s=!0:r||(s=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:s,range:{start:o,end:c},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function OJ(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Zd(t,e,n,r,i,a){let o=kr(),s=sx(n);for(let l of t){let c=QV(l,e,n,r,s,i,a);c&&Pw(c,o)}return o}function Pw(t,e=kr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function lx(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=iy(t,a=>NJ(r,a));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return kr()}function NJ(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function kr(){return{defs:{},instances:{}}}function cx(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function iy(t,e){let n=Ks(t.defs,e),r=Ks(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function MJ(t,e){let{defs:n,instances:r}=t,i={},a={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in r)!e.instances[o]&&i[r[o].defId]&&(a[o]=r[o]);return{defs:i,instances:a}}function LJ(t,e){return Array.isArray(t)?Zd(t,null,e,!0):typeof t=="object"&&t?Zd([t],null,e,!0):t!=null?String(t):null}function XP(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const fg={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:B,overlap:B,allow:B,className:XP,classNames:XP,color:String,backgroundColor:String,borderColor:String,textColor:String},jJ={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function hg(t,e){let n=LJ(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function ZV(t){return t.reduce(FJ,jJ)}function FJ(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const VJ={id:String,defaultAllDay:Boolean,url:String,format:String,events:B,eventDataTransform:B,success:B,failure:B};function JV(t,e,n=eU(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:a}=ex(r,n),o=UJ(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:hl(),sourceDefId:o.sourceDefId,meta:o.meta,ui:hg(i,e),extendedProps:a}}return null}function eU(t){return Object.assign(Object.assign(Object.assign({},fg),VJ),t.pluginHooks.eventSourceRefiners)}function UJ(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let a=n[r].parseMeta(t);if(a)return{sourceDefId:r,meta:a}}return null}function zJ(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return BJ(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return $J(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return WJ(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return cx(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Ys(t,r.activeRange,i):t;case"REMOVE_EVENTS":return MJ(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return nU(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return iy(t,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return kr();default:return t}}function BJ(t,e,n,r,i,a){if(e&&n===e.latestFetchId){let o=Zd(tU(i,e,a),e,a);return r&&(o=Ys(o,r,a)),cx(nU(t,e.sourceId),o)}return t}function $J(t,e,n,r,i){const{defIdMap:a,instanceIdMap:o}=qJ(t);let s=Zd(tU(n,e,i),e,i,!1,a,o);return Ys(s,r,i)}function tU(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=ZP(t,i)),r&&(t=ZP(t,r)),t}function ZP(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function WJ(t,e,n,r){return n&&(e=Ys(e,n,r)),cx(t,e)}function JP(t,e,n){let{defs:r}=t,i=Aa(t.instances,a=>r[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:n.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:n.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:a.forcedEndTzo}));return{defs:r,instances:i}}function nU(t,e){return iy(t,n=>n.sourceId!==e)}function HJ(t,e){return{defs:t.defs,instances:Ks(t.instances,n=>!e[n.instanceId])}}function qJ(t){const{defs:e,instances:n}=t,r={},i={};for(let a in e){const o=e[a],{publicId:s}=o;s&&(r[s]=a)}for(let a in n){const o=n[a],s=e[o.defId],{publicId:l}=s;l&&(i[l]=a)}return{defIdMap:r,instanceIdMap:i}}class ay{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){GJ(this.handlers,e,n)}off(e,n){KJ(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],a=[].concat(i||[],r);for(let o of a)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function GJ(t,e,n){(t[e]||(t[e]=[])).push(n)}function KJ(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const YJ={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function QJ(t,e){return Zd(XJ(t),null,e)}function XJ(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},YJ),n)),e}function rU(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},ux(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function ZJ(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function ux(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,fee(t,e.dateEnv)),n}function eR(t,e,n){let{dateEnv:r,options:i}=n,a=e;return t?(a=nt(a),a=r.add(a,i.defaultAllDayEventDuration)):a=r.add(a,i.defaultTimedEventDuration),a}function dx(t,e,n,r){let i=pg(t.defs,e),a=kr();for(let o in t.defs){let s=t.defs[o];a.defs[o]=JJ(s,i[o],n,r)}for(let o in t.instances){let s=t.instances[o],l=a.defs[s.defId];a.instances[o]=eee(s,l,i[s.defId],n,r)}return a}function JJ(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(a,n,r);return!a.hasEnd&&r.options.forceEventDuration&&(a.hasEnd=!0),a}function eee(t,e,n,r,i){let{dateEnv:a}=i,o=r.standardProps&&r.standardProps.allDay===!0,s=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return o&&(l.range=GV(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:a.add(l.range.start,r.datesDelta),end:a.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:a.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,r.endDelta)}),s&&(l.range={start:l.range.start,end:eR(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:nt(l.range.start),end:nt(l.range.end)}),l.range.end<l.range.start&&(l.range.end=eR(e.allDay,l.range.start,i)),l}class Dl{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class bt{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in YV)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=am[e](n),this.mutate({standardProps:{publicId:n}});else if(e in am)n=am[e](n),this.mutate({standardProps:{[e]:n}});else if(e in fg){let r=fg[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let a=this._instance.range,o=Gl(a.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let a=Gl(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,a={allDay:r.allDay},o=i.createMarker(e),s;if(o&&!(n!=null&&(s=i.createMarker(n),!s))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=GV(l));let c=Gl(l.start,o,i,r.granularity);if(s){let u=Gl(l.end,s,i,r.granularity);AZ(c,u)?this.mutate({datesDelta:c,standardProps:a}):this.mutate({startDelta:c,endDelta:u,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:c,standardProps:a})}}moveStart(e){let n=Fe(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=Fe(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=Fe(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=pt(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),o=lx(a,n.instanceId);o=dx(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new bt(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Is(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,n=iU(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Dl(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:a}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),a&&(o.end=a),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function iU(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Is(t,e,n){let{defs:r,instances:i}=t,a=[],o=n?n.instanceId:"";for(let s in i){let l=i[s],c=r[l.defId];l.instanceId!==o&&a.push(new bt(e,c,l))}return a}function Rw(t,e,n,r){let i={},a={},o={},s=[],l=[],c=pg(t.defs,e);for(let u in t.defs){let d=t.defs[u];c[d.defId].display==="inverse-background"&&(d.groupId?(i[d.groupId]=[],o[d.groupId]||(o[d.groupId]=d)):a[u]=[])}for(let u in t.instances){let d=t.instances[u],h=t.defs[d.defId],m=c[h.defId],g=d.range,y=!h.allDay&&r?ax(g,r):g,E=Uo(y,n);E&&(m.display==="inverse-background"?h.groupId?i[h.groupId].push(E):a[d.defId].push(E):m.display!=="none"&&(m.display==="background"?s:l).push({def:h,ui:m,instance:d,range:E,isStart:y.start&&y.start.valueOf()===E.start.valueOf(),isEnd:y.end&&y.end.valueOf()===E.end.valueOf()}))}for(let u in i){let d=i[u],h=QP(d,n);for(let m of h){let g=o[u],y=c[g.defId];s.push({def:g,ui:y,instance:null,range:m,isStart:!1,isEnd:!1})}}for(let u in a){let d=a[u],h=QP(d,n);for(let m of h)s.push({def:t.defs[u],ui:c[u],instance:null,range:m,isStart:!1,isEnd:!1})}return{bg:s,fg:l}}function tee(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function tR(t,e){t.fcSeg=e}function Rc(t){return t.fcSeg||t.parentNode.fcSeg||null}function pg(t,e){return Aa(t,n=>aU(n,e))}function aU(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),ZV(n)}function fx(t,e){let n=t.map(nee);return n.sort((r,i)=>vZ(r,i,e)),n.map(r=>r._seg)}function nee(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,a=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:a,duration:a-i,allDay:Number(n.allDay),_seg:t})}function ree(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:a}=t.eventRange,o=a.startEditable;for(let s of r)o=s(o,i,a,e);return o}function iee(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function aee(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function wd(t,e,n,r,i,a,o){let{dateEnv:s,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,d=t.eventRange.def,h=t.eventRange.instance;c==null&&(c=r!==!1),u==null&&(u=i!==!1);let m=h.range.start,g=h.range.end,y=a||t.start||t.eventRange.range.start,E=o||t.end||t.eventRange.range.end,b=nt(m).valueOf()===nt(y).valueOf(),w=nt(Vo(g,-1)).valueOf()===nt(Vo(E,-1)).valueOf();return c&&!d.allDay&&(b||w)?(y=b?m:y,E=w?g:E,u&&d.hasEnd?s.formatRange(y,E,e,{forcedStartTzo:a?null:h.forcedStartTzo,forcedEndTzo:o?null:h.forcedEndTzo}):s.format(y,e,{forcedTzo:a?null:h.forcedStartTzo})):""}function fa(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&da(e,r.start)}}function oee(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function oU(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function hx(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:a,options:o}=e,{eventInteractive:s}=o;return s==null&&(s=n.interactive,s==null&&(s=!!a.hasHandlers("eventClick"))),s?FV(l=>{a.trigger("eventClick",{el:l.target,event:new bt(e,n,r),jsEvent:l,view:e.viewApi})}):{}}const see={start:B,end:B,allDay:Boolean};function lee(t,e,n){let r=cee(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function cee(t,e){let{refined:n,extra:r}=ex(t,see),i=n.start?e.createMarkerMeta(n.start):null,a=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:o},r)}function uee(t,e){return TJ(t.range,e.range)&&t.allDay===e.allDay&&dee(t,e)}function dee(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function fee(t,e){return Object.assign(Object.assign({},lU(t.range,e,t.allDay)),{allDay:t.allDay})}function sU(t,e,n){return Object.assign(Object.assign({},lU(t,e,n)),{timeZone:e.timeZone})}function lU(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function hee(t,e,n){let r=XV({editable:!1},n),i=Iw(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:aU(i,e),instance:ox(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function pee(t,e,n){let r=!1,i=function(s){r||(r=!0,e(s))},a=function(s){r||(r=!0,n(s))},o=t(i,a);o&&typeof o.then=="function"&&o.then(i,a)}class nR extends Error{constructor(e,n){super(e),this.response=n}}function mee(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(a=>[a,i],()=>{throw new nR("Failure parsing JSON",i)});throw new nR("Request failed",i)})}let EE;function cU(){return EE==null&&(EE=gee()),EE}function gee(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class vee extends Ge{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{dg(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{dg(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",a=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return cU()||o.push("fc-liquid-hack"),e.children(o,a,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Zc{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function yee(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function px(t){return{[t.component.uid]:t}}const Dw={};class ml extends Cr{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let a,o;return i?(a=n.dateEnv.startOf(r,e.unit),o=n.dateEnv.add(a,Fe(1,e.unit)).valueOf()-r.valueOf()):(a=r,o=1e3*60),o=Math.min(1e3*60*60*24,o),{state:{nowDate:a,todayRange:Eee(a)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}ml.contextType=Ma;function Eee(t){let e=nt(t),n=Gt(e,1);return{start:e,end:n}}class bee{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),a,o;for(let s in n)i.push(s);for(a=0;a<i.length;a+=1)if(o=n[i[a]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=Fe(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),pt(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),pt(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),a=lee(r,i.dateEnv,Fe({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),rU(a,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),ZJ(e,n))}addEvent(e,n){if(e instanceof bt){let o=e._def,s=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Pw({def:o,instance:s})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof Dl)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=nx(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let a=QV(e,i,r,!1);if(a){let o=new bt(r,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Pw(a)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:iU(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let a in r){let o=r[a];if(o.publicId===e){if(o.recurringDef)return new bt(n,o,null);for(let s in i){let l=i[s];if(l.defId===o.defId)return new bt(n,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return Is(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new Dl(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new Dl(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Dl)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=JV(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Dl(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=Fe(e);n&&this.trigger("_scrollRequest",{time:n})}}function wee(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function uU(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function _ee(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function See(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Aee(t,e){return{left:t.left-e.left,top:t.top-e.top}}const bE=kr();class xee{constructor(){this.getKeysForEventDefs=ve(this._getKeysForEventDefs),this.splitDateSelection=ve(this._splitDateSpan),this.splitEventStore=ve(this._splitEventStore),this.splitIndividualUi=ve(this._splitIndividualUi),this.splitEventDrag=ve(this._splitInteraction),this.splitEventResize=ve(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,r),o=this.splitEventStore(e.eventStore,r),s=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),c={};this.eventUiBuilders=Aa(n,(u,d)=>this.eventUiBuilders[d]||ve(Tee));for(let u in n){let d=n[u],h=o[u]||bE,m=this.eventUiBuilders[u];c[u]={businessHours:d.businessHours||e.businessHours,dateSelection:i[u]||null,eventStore:h,eventUiBases:m(e.eventUiBases[""],d.ui,a[u]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:s[u]||null,eventResize:l[u]||null}}return c}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)n[i]=e}return n}_getKeysForEventDefs(e){return Aa(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:i}=e,a={};for(let o in r)for(let s of n[o])a[s]||(a[s]=kr()),a[s].defs[o]=r[o];for(let o in i){let s=i[o];for(let l of n[s.defId])a[l]&&(a[l].instances[o]=s)}return a}_splitIndividualUi(e,n){let r={};for(let i in e)if(i)for(let a of n[i])r[a]||(r[a]={}),r[a][i]=e[i];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),a=this._splitEventStore(e.mutatedEvents,i),o=s=>{n[s]||(n[s]={affectedEvents:r[s]||bE,mutatedEvents:a[s]||bE,isEvent:e.isEvent})};for(let s in r)o(s);for(let s in a)o(s)}return n}}function Tee(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let i={"":ZV(r)};return n&&Object.assign(i,n),i}function mx(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!da(r.activeRange,t))),isOther:!!(r&&!da(r.currentRange,t)),isToday:!!(e&&da(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function oy(t,e){let n=["fc-day",`fc-day-${IZ[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const Cee=pt({year:"numeric",month:"long",day:"numeric"}),kee=pt({week:"long"});function Dc(t,e,n="day",r=!0){const{dateEnv:i,options:a,calendarApi:o}=t;let s=i.format(e,n==="week"?kee:Cee);if(a.navLinks){let l=i.toDate(e);const c=u=>{let d=n==="day"?a.navLinkDayClick:n==="week"?a.navLinkWeekClick:null;typeof d=="function"?d.call(o,i.toDate(e),u):(typeof d=="string"&&(n=d),o.zoomTo(e,n))};return Object.assign({title:Ed(a.navLinkHint,[s,l],s),"data-navlink":""},r?jV(c):{onClick:c})}return{"aria-label":s}}let wE=null;function Iee(){return wE===null&&(wE=Pee()),wE}function Pee(){let t=document.createElement("div");yd(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return YA(t),n}let _E;function Ree(){return _E||(_E=Dee()),_E}function Dee(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=dU(t);return document.body.removeChild(t),e}function dU(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function Oee(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,a=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,s=dU(t),l=s.y-r-i,c=s.x-a-o,u={borderLeft:r,borderRight:i,borderTop:a,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return Iee()&&n.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function Nee(t,e=!1,n){let r=gx(t),i=Oee(t,e),a={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function gx(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Mee(t){let e=fU(t),n=t.getBoundingClientRect();for(let r of e){let i=uU(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function fU(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class Oc{constructor(e,n,r,i){this.els=n;let a=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let a=i.getBoundingClientRect();n.push(a.left-e),r.push(a.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let a=i.getBoundingClientRect();n.push(a.top-e),r.push(a.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,a;for(a=0;a<i;a+=1)if(e>=n[a]&&e<r[a])return a}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,a;for(a=0;a<i;a+=1)if(e>=n[a]&&e<r[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return up(this.tops||[],e.tops||[])&&up(this.bottoms||[],e.bottoms||[])&&up(this.lefts||[],e.lefts||[])&&up(this.rights||[],e.rights||[])}}function up(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class vx{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Lee extends vx{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class jee extends vx{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class gi extends Ge{constructor(){super(...arguments),this.uid=hl()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Vn(e,".fc-event-mirror")}isValidDateDownEl(e){return!Vn(e,".fc-event:not(.fc-bg-event)")&&!Vn(e,".fc-more-link")&&!Vn(e,"a[data-navlink]")&&!Vn(e,".fc-popover")}}class hU{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:yx(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,a=n.span;i.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:a.start}},r),i.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(SE(i,n.level,n.levelCoord),SE(r,n.level,[e])):SE(r[n.level],n.lateral,e),this.stackCnts[Ps(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:a}=this,o=n.length,s=0,l=-1,c=-1,u=null,d=0;for(let g=0;g<o;g+=1){const y=n[g];if(!i&&y>=s+this.getEntryThickness(e))break;let E=r[g],b,w=Nw(E,e.span.start,Ow),T=w[0]+w[1];for(;(b=E[T])&&b.span.start<e.span.end;){let A=y+this.getEntryThickness(b);A>s&&(s=A,u=b,l=g,c=T),A===s&&(d=Math.max(d,a[Ps(b)]+1)),T+=1}}let h=0;if(u)for(h=l+1;h<o&&n[h]<s;)h+=1;let m=-1;return h<o&&n[h]===s&&(m=Nw(r[h],e.span.end,Ow)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:d,levelCoord:s,level:h,lateral:m}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let a=0;a<r;a+=1){let o=e[a],s=n[a];for(let l of o)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:s}))}return i}}function Ow(t){return t.span.end}function Ps(t){return t.index+":"+t.span.start}function Fee(t){let e=[];for(let n of t){let r=[],i={span:n.span,entries:[n]};for(let a of e)yx(a.span,i.span)?i={entries:a.entries.concat(i.entries),span:Vee(a.span,i.span)}:r.push(a);r.push(i),e=r}return e}function Vee(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function yx(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function SE(t,e,n){t.splice(e,0,n)}function Nw(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let a=Math.floor(r+(i-r)/2),o=n(t[a]);if(e<o)i=a;else if(e>o)r=a+1;else return[a,1]}return[r,0]}class Uee{constructor(e,n){this.emitter=new ay}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Ex={};function zee(t,e){return!t||e>10?pt({weekday:"short"}):e>1?pt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):pt({weekday:"long"})}const pU="fc-col-header-cell";function mU(t){return t.text}class Bee extends Ge{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:a}=this,{date:o,dateProfile:s}=a,l=mx(o,a.todayRange,null,s),c=[pU].concat(oy(l,r)),u=e.format(o,a.dayHeaderFormat),d=!l.isDisabled&&a.colCnt>1?Dc(this.context,o):{},h=e.toDate(o);e.namedTimeZoneImpl&&(h=Vo(h,36e5));let m=Object.assign(Object.assign(Object.assign({date:h,view:i},a.extraRenderProps),{text:u}),l);return L(Wn,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":l.isDisabled?void 0:Lf(o)},a.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:mU,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},g=>L("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&L(g,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const $ee=pt({weekday:"long"});class Wee extends Ge{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:a}=this.context,o=Gt(new Date(2592e5),e.dow),s={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},s),{view:i}),e.extraRenderProps),{text:l});return L(Wn,{elTag:"th",elClasses:[pU,...oy(s,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:mU,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},u=>L("div",{className:"fc-scrollgrid-sync-inner"},L(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,$ee)}})))}}class gU extends Ge{constructor(){super(...arguments),this.createDayHeaderFormatter=ve(Hee)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:a}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return L(ml,{unit:"day"},(s,l)=>L("tr",{role:"row"},a&&a("day"),n.map(c=>i?L(Bee,{key:c.toISOString(),date:c,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):L(Wee,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}}function Hee(t,e,n){return t||zee(e,n)}class vU{constructor(e,n){let r=e.start,{end:i}=e,a=[],o=[],s=-1;for(;r<i;)n.isHiddenDay(r)?a.push(s+.5):(s+=1,a.push(s),o.push(r)),r=Gt(r,1);this.dates=o,this.indices=a,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(Gt(e.end,-1)),i=Math.max(0,n),a=Math.min(this.cnt-1,r);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:n===i,isEnd:r===a}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(Qo(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class yU{constructor(e,n){let{dates:r}=e,i,a,o;if(n){for(a=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==a;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:a,lastIndex:o}=r,s=a;for(;s<=o;){let l=Math.floor(s/n),c=Math.min((l+1)*n,o+1);i.push({row:l,firstCol:s%n,lastCol:(c-1)%n,isStart:r.isStart&&s===a,isEnd:r.isEnd&&c-1===o}),s=c}}return i}}class EU{constructor(){this.sliceBusinessHours=ve(this._sliceBusinessHours),this.sliceDateSelection=ve(this._sliceDateSpan),this.sliceEventStore=ve(this._sliceEventStore),this.sliceEventDrag=ve(this._sliceInteraction),this.sliceEventResize=ve(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...a){let{eventUiBases:o}=e,s=this.sliceEventStore(e.eventStore,o,n,r,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,i,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...a),fgEventSegs:s.fg,bgEventSegs:s.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...a),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...a),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...a){return this._sliceDateSpan({range:{start:e,end:Vo(e,1)},allDay:!1},n,r,{},i,...a)}_sliceBusinessHours(e,n,r,i,...a){return e?this._sliceEventStore(Ys(e,dp(n,!!r),i),{},n,r,...a).bg:[]}_sliceEventStore(e,n,r,i,...a){if(e){let o=Rw(e,n,dp(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,a),fg:this.sliceEventRanges(o.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...a){if(!e)return null;let o=Rw(e.mutatedEvents,n,dp(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,a,...o){if(!e)return[];let s=dp(n,!!r),l=Uo(e.range,s);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=hee(e,i,a),u=this.sliceRange(e.range,...o);for(let d of u)d.eventRange=c;return u}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:Gt(r.start,1)});let i=this.sliceRange(r,...n);for(let a of i)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return i}}function dp(t,e){let n=t.activeRange;return e?n:{start:Vo(n.start,t.slotMinTime.milliseconds),end:Vo(n.end,t.slotMaxTime.milliseconds-864e5)}}function bU(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!ry(e.validRange,r[i].range))return!1;return wU({eventDrag:t},n)}function qee(t,e,n){return ry(e.validRange,t.range)?wU({dateSelection:t},n):!1}function wU(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||Gee)(r,e)}function Gee(t,e,n={},r){return!(t.eventDrag&&!Kee(t,e,n,r)||t.dateSelection&&!Yee(t,e,n,r))}function Kee(t,e,n,r){let i=e.getCurrentData(),a=t.eventDrag,o=a.mutatedEvents,s=o.defs,l=o.instances,c=pg(s,a.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(c=Aa(c,r));let u=HJ(t.eventStore,a.affectedEvents.instances),d=u.defs,h=u.instances,m=pg(d,t.eventUiBases);for(let g in l){let y=l[g],E=y.range,b=c[y.defId],w=s[y.defId];if(!_U(b.constraints,E,u,t.businessHours,e))return!1;let{eventOverlap:T}=e.options,A=typeof T=="function"?T:null;for(let k in h){let S=h[k];if(ix(E,S.range)&&(m[S.defId].overlap===!1&&a.isEvent||b.overlap===!1||A&&!A(new bt(e,d[S.defId],S),new bt(e,w,y))))return!1}let P=i.eventStore;for(let k of b.allows){let S=Object.assign(Object.assign({},n),{range:y.range,allDay:w.allDay}),x=P.defs[w.defId],I=P.instances[g],D;if(x?D=new bt(e,x,I):D=new bt(e,w),!k(ux(S,e),D))return!1}}return!0}function Yee(t,e,n,r){let i=t.eventStore,a=i.defs,o=i.instances,s=t.dateSelection,l=s.range,{selectionConfig:c}=e.getCurrentData();if(r&&(c=r(c)),!_U(c.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:u}=e.options,d=typeof u=="function"?u:null;for(let h in o){let m=o[h];if(ix(l,m.range)&&(c.overlap===!1||d&&!d(new bt(e,a[m.defId],m),null)))return!1}for(let h of c.allows){let m=Object.assign(Object.assign({},n),s);if(!h(ux(m,e),null))return!1}return!0}function _U(t,e,n,r,i){for(let a of t)if(!Xee(Qee(a,e,n,r,i),e))return!1;return!0}function Qee(t,e,n,r,i){return t==="businessHours"?AE(Ys(r,e,i)):typeof t=="string"?AE(iy(n,a=>a.groupId===t)):typeof t=="object"&&t?AE(Ys(t,e,i)):[]}function AE(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function Xee(t,e){for(let n of t)if(ry(n,e))return!0;return!1}const fp=/^(visible|hidden)$/;class SU extends Ge{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Vi(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,a=["fc-scroller"];return n&&(r?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),L("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(fp.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(fp.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return fp.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return fp.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class aa{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:a}=this,o=!1,s=!1;n!==null?(o=r in a,a[r]=n,i[r]=(i[r]||0)+1,s=!0):(i[r]-=1,i[r]||(delete a[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),s&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return cJ(this.currentMap,e,n,r)}getAll(){return nx(this.currentMap)}}function Zee(t){let e=sZ(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,wZ(r));return Math.ceil(n)}function AU(t,e){return t.liquid&&e.liquid}function Jee(t,e){return e.maxHeight!=null||AU(t,e)}function ete(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):L("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,L(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function tte(t,e){return Fo(t,e,fi)}function nte(t,e){let n=[];for(let r of t){let i=r.span||1;for(let a=0;a<i;a+=1)n.push(L("col",{style:{width:r.width==="shrink"?rte(e):r.width||"",minWidth:r.minWidth||""}}))}return L("colgroup",{},...n)}function rte(t){return t??4}function ite(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function ate(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function ote(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Mw(t){return L("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function mg(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function xU(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class bx extends Ge{constructor(){super(...arguments),this.processCols=ve(e=>e,tte),this.renderMicroColGroup=ve(nte),this.scrollerRefs=new aa,this.scrollerElRefs=new aa(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],a=this.processCols(e.cols),o=this.renderMicroColGroup(a,n.shrinkWidth),s=ate(e.liquid,r);e.collapsibleWidth&&s.push("fc-scrollgrid-collapsible");let l=i.length,c=0,u,d=[],h=[],m=[];for(;c<l&&(u=i[c]).type==="header";)d.push(this.renderSection(u,o,!0)),c+=1;for(;c<l&&(u=i[c]).type==="body";)h.push(this.renderSection(u,o,!1)),c+=1;for(;c<l&&(u=i[c]).type==="footer";)m.push(this.renderSection(u,o,!0)),c+=1;let g=!cU();const y={role:"rowgroup"};return L("table",{role:"grid",className:s.join(" "),style:{height:e.height}},!!(!g&&d.length)&&L("thead",y,...d),!!(!g&&h.length)&&L("tbody",y,...h),!!(!g&&m.length)&&L("tfoot",y,...m),g&&L("tbody",y,...d,...h,...m))}renderSection(e,n,r){return"outerContent"in e?L(Je,{key:e.key},e.outerContent):L("tr",{key:e.key,role:"presentation",className:ote(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:a}=this,{forceYScrollbars:o,scrollerClientWidths:s,scrollerClientHeights:l}=this.state,c=Jee(a,e),u=AU(a,e),d=a.liquid?o?"scroll":c?"auto":"hidden":"visible",h=e.key,m=ete(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&s[h]!==void 0?s[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return L(i?"th":"td",{ref:r.elRef,role:"presentation"},L("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},L(SU,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:d,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},m)))}_handleScrollerEl(e,n){let r=ste(this.props.sections,n);r&&Vi(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return ite(this.props.cols)?Zee(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Ree(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,a={},o={};for(let s in n.currentMap){let l=n.currentMap[s];if(l&&l.needsYScrolling()){i=!0;break}}for(let s of this.props.sections){let l=s.key,c=r.currentMap[l];if(c){let u=c.parentNode;a[l]=Math.floor(u.getBoundingClientRect().width-(i?e.y:0)),o[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:o}}}bx.addStateEquality({scrollerClientWidths:fi,scrollerClientHeights:fi});function ste(t,e){for(let n of t)if(n.key===e)return n;return null}class sy extends Ge{constructor(){super(...arguments),this.buildPublicEvent=ve((e,n,r)=>new bt(e,n,r)),this.handleEl=e=>{this.el=e,Vi(this.props.elRef,e),e&&tR(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:a}=i,{ui:o}=a,s={event:this.buildPublicEvent(n,a.def,a.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&ree(i,n),isStartResizable:!e.disableResizing&&iee(i,n),isEndResizable:!e.disableResizing&&aee(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return L(Wn,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...oee(s),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:s,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&tR(this.el,this.props.seg)}}class wx extends Ge{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:a}=i.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,s=wd(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return L(sy,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:hx(i,n),defaultGenerator:lte,timeText:s}),(l,c)=>L(Je,null,L(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&L("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&L("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}wx.addPropsEquality({seg:fi});function lte(t){return L("div",{className:"fc-event-main-frame"},t.timeText&&L("div",{className:"fc-event-time"},t.timeText),L("div",{className:"fc-event-title-container"},L("div",{className:"fc-event-title fc-sticky"},t.event.title||L(Je,null,""))))}const _x=t=>L(Ma.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return L(Wn,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),cte=pt({day:"numeric"});class Sx extends Ge{constructor(){super(...arguments),this.refineRenderProps=im(ute)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return L(Wn,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":Lf(e.date)}),elClasses:[...oy(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function Ax(t){return!!(t.dayCellContent||kw("dayCellContent",t))}function ute(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,a=mx(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:cte):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},a),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}class TU extends Ge{render(){let{props:e}=this,{seg:n}=e;return L(sy,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:dte,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function dte(t){let{title:e}=t.event;return e&&L("div",{className:"fc-event-title"},t.event.title)}function CU(t){return L("div",{className:`fc-${t}`})}const kU=t=>L(Ma.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,a=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),s=n.format(i,a),l={num:o,text:s,date:i};return L(Wn,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:fte,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)});function fte(t){return t.text}const xE=10;class hte extends Ge{constructor(){super(...arguments),this.state={titleId:Io()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Vi(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=MV(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,a=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return GX(L("div",Object.assign({},r.extraAttrs,{id:r.id,className:a.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),L("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},L("span",{className:"fc-popover-title",id:i.titleId},r.title),L("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),L("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,a=Mee(n);if(a){let o=i.getBoundingClientRect(),s=r?Vn(n,".fc-scrollgrid").getBoundingClientRect().top:a.top,l=e?a.right-o.width:a.left;s=Math.max(s,xE),l=Math.min(l,document.documentElement.clientWidth-xE-o.width),l=Math.max(l,xE);let c=i.offsetParent.getBoundingClientRect();yd(i,{top:s-c.top,left:l-c.left})}}}class pte extends gi{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:a,dateProfile:o}=r,s=n.format(i,e.dayPopoverFormat);return L(Sx,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:a},(l,c,u)=>L(hte,{elRef:u.ref,id:r.id,title:s,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},Ax(e)&&L(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:a,props:o}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class IU extends Ge{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Io()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Vi(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,a=rR(n).start;function o(s){let{def:l,instance:c,range:u}=s.eventRange;return{event:new bt(r,l,c),start:r.dateEnv.toDate(u.start),end:r.dateEnv.toDate(u.end),isStart:s.isStart,isEnd:s.isEnd}}typeof i=="function"&&(i=i({date:a,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(a,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return L(Ma.Consumer,null,r=>{let{viewApi:i,options:a,calendarApi:o}=r,{moreLinkText:s}=a,{moreCnt:l}=e,c=rR(e),u=typeof s=="function"?s.call(o,l):`+${l} ${s}`,d=Ed(a.moreLinkHint,[l],u),h={num:l,shortText:`+${l}`,text:u,view:i};return L(Je,null,!!e.moreCnt&&L(Wn,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),jV(this.handleClick)),{title:d,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||mte,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),n.isPopoverOpen&&L(pte,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Vn(this.linkEl,".fc-view-harness"))}}function mte(t){return t.text}function rR(t){if(t.allDayDate)return{start:t.allDayDate,end:Gt(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:PU(e),end:vte(e)}}function PU(t){return t.reduce(gte).eventRange.range.start}function gte(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function vte(t){return t.reduce(yte).eventRange.range.end}function yte(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class Ete{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class bte extends Ete{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const wte=[],RU={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},DU=Object.assign(Object.assign({},RU),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function _te(t){let e=t.length>0?t[0].code:"en",n=wte.concat(t),r={en:DU};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function OU(t,e){return typeof t=="object"&&!Array.isArray(t)?NU(t.code,[t.code],t):Ste(t,e)}function Ste(t,e){let n=[].concat(t||[]),r=Ate(n,e)||DU;return NU(t,n,r)}function Ate(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let a=r.slice(0,i).join("-");if(e[a])return e[a]}}return null}function NU(t,e,n){let r=tx([RU,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function Hi(t){return{id:hl(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function xte(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(a){for(let o of a){const s=o.name,l=n[s];l===void 0?(n[s]=o.id,i(o.deps),r=Cte(r,o)):l!==o.id&&console.warn(`Duplicate plugin '${s}'`)}}return t&&i(t),i(e),r}function Tte(){let t=[],e=[],n;return(r,i)=>((!n||!Fo(r,t)||!Fo(i,e))&&(n=xte(r,i)),t=r,e=i,n)}function Cte(t,e){return{premiumReleaseDate:kte(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function kte(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Xo extends jf{}Xo.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Xo.prototype.baseIconClass="fc-icon";Xo.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Xo.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Xo.prototype.iconOverrideOption="buttonIcons";Xo.prototype.iconOverrideCustomButtonOption="icon";Xo.prototype.iconOverridePrefix="fc-icon-";function Ite(t,e){let n={},r;for(r in t)Lw(r,n,t,e);for(r in e)Lw(r,n,t,e);return n}function Lw(t,e,n,r){if(e[t])return e[t];let i=Pte(t,e,n,r);return i&&(e[t]=i),i}function Pte(t,e,n,r){let i=n[t],a=r[t],o=u=>i&&i[u]!==null?i[u]:a&&a[u]!==null?a[u]:null,s=o("component"),l=o("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=Lw(l,e,n,r)}return!s&&c&&(s=c.component),s?{type:t,component:s,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),a?a.rawOptions:{})}:null}function iR(t){return Aa(t,Rte)}function Rte(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=aR(e):n&&!(n.prototype instanceof Ge)&&(n=aR(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function aR(t){return e=>L(Ma.Consumer,null,n=>L(Wn,{elTag:"div",elClasses:qV(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function Dte(t,e,n,r){let i=iR(t),a=iR(e.views),o=Ite(i,a);return Aa(o,s=>Ote(s,a,e,n,r))}function Ote(t,e,n,r,i){let a=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,s="",l="",c={};if(a&&(o=Nte(a),o)){let h=Cw(o);s=h.unit,h.value===1&&(l=s,c=e[s]?e[s].rawOptions:{})}let u=h=>{let m=h.buttonText||{},g=t.defaults.buttonTextKey;return g!=null&&m[g]!=null?m[g]:m[t.type]!=null?m[t.type]:m[l]!=null?m[l]:null},d=h=>{let m=h.buttonHints||{},g=t.defaults.buttonTextKey;return g!=null&&m[g]!=null?m[g]:m[t.type]!=null?m[t.type]:m[l]!=null?m[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:s,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:u(r)||u(n)||t.overrides.buttonText,buttonTextDefault:u(i)||t.defaults.buttonText||u(bd)||t.type,buttonTitleOverride:d(r)||d(n)||t.overrides.buttonHint,buttonTitleDefault:d(i)||t.defaults.buttonHint||d(bd)}}let oR={};function Nte(t){let e=JSON.stringify(t),n=oR[e];return n===void 0&&(n=Fe(t),oR[e]=n),n}function Mte(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Lte(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function jte(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function Fte(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Vte(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function Ute(t,e,n){let r=e?e.activeRange:null;return LU({},Gte(t,n),r,n)}function zte(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return LU(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return $te(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?jU(t,i,r):t;case"FETCH_EVENT_SOURCES":return xx(t,e.sourceIds?zV(e.sourceIds):FU(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return qte(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function Bte(t,e,n){let r=e?e.activeRange:null;return xx(t,FU(t,n),r,!0,n)}function MU(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function LU(t,e,n,r){let i={};for(let a of e)i[a.sourceId]=a;return n&&(i=jU(i,n,r)),Object.assign(Object.assign({},t),i)}function $te(t,e){return Ks(t,n=>n.sourceId!==e)}function jU(t,e,n){return xx(t,Ks(t,r=>Wte(r,e,n)),e,!1,n)}function Wte(t,e,n){return VU(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function xx(t,e,n,r,i){let a={};for(let o in t){let s=t[o];e[o]?a[o]=Hte(s,n,r,i):a[o]=s}return a}function Hte(t,e,n,r){let{options:i,calendarApi:a}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],s=hl();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:c}=l;i.eventSourceSuccess&&(c=i.eventSourceSuccess.call(a,c,l.response)||c),t.success&&(c=t.success.call(a,c,l.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:s,fetchRange:e,rawEvents:c})},l=>{let c=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,l),c=!0),t.failure&&(t.failure(l),c=!0),c||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:s,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:s})}function qte(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function FU(t,e){return Ks(t,n=>VU(n,e))}function Gte(t,e){let n=eU(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let a of r){let o=JV(a,e,n);o&&i.push(o)}return i}function VU(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function Kte(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Yte(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Qte(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Xte(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Zte(t,e,n,r,i){let a=t.headerToolbar?sR(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?sR(t.footerToolbar,t,e,n,r,i):null;return{header:a,footer:o}}function sR(t,e,n,r,i,a){let o={},s=[],l=!1;for(let c in t){let u=t[c],d=Jte(u,e,n,r,i,a);o[c]=d.widgets,s.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:o,viewsWithButtons:s,hasTitle:l}}function Jte(t,e,n,r,i,a){let o=e.direction==="rtl",s=e.customButtons||{},l=n.buttonText||{},c=e.buttonText||{},u=n.buttonHints||{},d=e.buttonHints||{},h=t?t.split(" "):[],m=[],g=!1;return{widgets:h.map(E=>E.split(",").map(b=>{if(b==="title")return g=!0,{buttonName:b};let w,T,A,P,k,S;if(w=s[b])A=x=>{w.click&&w.click.call(x.target,x,x.target)},(P=r.getCustomButtonIconClass(w))||(P=r.getIconClass(b,o))||(k=w.text),S=w.hint||w.text;else if(T=i[b]){m.push(b),A=()=>{a.changeView(b)},(k=T.buttonTextOverride)||(P=r.getIconClass(b,o))||(k=T.buttonTextDefault);let x=T.buttonTextOverride||T.buttonTextDefault;S=Ed(T.buttonTitleOverride||T.buttonTitleDefault||e.viewHint,[x,b],x)}else if(a[b])if(A=()=>{a[b]()},(k=l[b])||(P=r.getIconClass(b,o))||(k=c[b]),b==="prevYear"||b==="nextYear"){let x=b==="prevYear"?"prev":"next";S=Ed(u[x]||d[x],[c.year||"year","year"],c[b])}else S=x=>Ed(u[b]||d[b],[c[x]||x,x],c[b]);return{buttonName:b,buttonClick:A,buttonIcon:P,buttonText:k,buttonHint:S}})),viewsWithButtons:m,hasTitle:g}}class ene{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let tne={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const nne=Hi({name:"array-event-source",eventSourceDefs:[tne]});let rne={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;pee(i.bind(null,sU(t.range,r)),a=>e({rawEvents:a}),n)}};const ine=Hi({name:"func-event-source",eventSourceDefs:[rne]}),ane={method:String,extraParams:B,startParam:String,endParam:String,timeZoneParam:String};let one={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=lne(r,t.range,t.context);mee(r.method,r.url,i).then(([a,o])=>{e({rawEvents:a,response:o})},n)}};const sne=Hi({name:"json-event-source",eventSourceRefiners:ane,eventSourceDefs:[one]});function lne(t,e,n){let{dateEnv:r,options:i}=n,a,o,s,l,c={};return a=t.startParam,a==null&&(a=i.startParam),o=t.endParam,o==null&&(o=i.endParam),s=t.timeZoneParam,s==null&&(s=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c[a]=r.formatIso(e.start),c[o]=r.formatIso(e.end),r.timeZone!=="local"&&(c[s]=r.timeZone),c}const cne={daysOfWeek:B,startTime:Fe,endTime:Fe,duration:Fe,startRecur:B,endRecur:B};let une={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=xZ(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Uo(e,{start:t.startRecur,end:t.endRecur});return r?fne(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const dne=Hi({name:"simple-recurring-event",recurringTypes:[une],eventRefiners:cne});function fne(t,e,n,r,i){let a=t?zV(t):null,o=nt(i.start),s=i.end,l=[];for(e&&(e.milliseconds<0?s=Gt(s,1):e.milliseconds>=1e3*60*60*24&&(o=Gt(o,-1)));o<s;){let c;(!a||a[o.getUTCDay()])&&(e?c=r.add(o,e):c=o,l.push(r.createMarker(n.toDate(c)))),o=Gt(o,1)}return l}const hne=Hi({name:"change-handler",optionChangeHandlers:{events(t,e){lR([t],e)},eventSources:lR}});function lR(t,e){let n=nx(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let a=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),a=!0;break}a||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function pne(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},sU(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function mne(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Is(t,e))}const gne=[nne,ine,sne,dne,hne,Hi({name:"misc",isLoadingFuncs:[t=>MU(t.eventSources)],propSetHandlers:{dateProfile:pne,eventStore:mne}})];class vne{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new KA(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function yne(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,pt(e.titleFormat||Ene(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Ene(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=sg(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class cR{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class bne{constructor(e){this.computeCurrentViewData=ve(this._computeCurrentViewData),this.organizeRawLocales=ve(_te),this.buildLocale=ve(OU),this.buildPluginHooks=Tte(),this.buildDateEnv=ve(wne),this.buildTheme=ve(_ne),this.parseToolbars=ve(Zte),this.buildViewSpecs=ve(Dte),this.buildDateProfileGenerator=im(Sne),this.buildViewApi=ve(Ane),this.buildViewUiProps=im(Cne),this.buildEventUiBySource=ve(xne,fi),this.buildEventUiBases=ve(Tne),this.parseContextBusinessHours=im(kne),this.buildTitle=ve(yne),this.nowManager=new cR,this.emitter=new ay,this.actionRunner=new vne(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new cR;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,a=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let o={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s=jte(r.calendarOptions,r.dateEnv,this.nowManager),l=a.dateProfileGenerator.build(s);da(l.activeRange,s)||(s=l.currentRange.start);for(let h of r.pluginHooks.contextInit)h(o);let c=Ute(r.calendarOptions,l,o),u={dynamicOptionOverrides:n,currentViewType:i,currentDate:s,dateProfile:l,businessHours:this.parseContextBusinessHours(o),eventSources:c,eventUiBases:{},eventStore:kr(),renderableEventStore:kr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},d=Object.assign(Object.assign({},o),u);for(let h of r.pluginHooks.reducers)Object.assign(u,h(null,null,d));TE(u,o)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,a=Fte(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,a,n.calendarApi),s=Mte(r.currentViewType,e),l=this.computeCurrentViewData(s,o,n.optionOverrides,a);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:d}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(u)),u=Lte(u,e),d=Vte(d,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!da(d.currentRange,u))&&(u=d.currentRange.start);let h=zte(r.eventSources,e,d,c),m=zJ(r.eventStore,e,h,d,c),y=MU(h)&&!l.options.progressiveEventRendering&&r.renderableEventStore||m,{eventUiSingleBase:E,selectionConfig:b}=this.buildViewUiProps(c),w=this.buildEventUiBySource(h),T=this.buildEventUiBases(y.defs,E,w),A={dynamicOptionOverrides:a,currentViewType:s,currentDate:u,dateProfile:d,eventSources:h,eventStore:m,renderableEventStore:y,selectionConfig:b,eventUiBases:T,businessHours:this.parseContextBusinessHours(c),dateSelection:Kte(r.dateSelection,e),eventSelection:Yte(r.eventSelection,e),eventDrag:Qte(r.eventDrag,e),eventResize:Xte(r.eventResize,e)},P=Object.assign(Object.assign({},c),A);for(let x of o.pluginHooks.reducers)Object.assign(A,x(r,e,P));let k=TE(r,c),S=TE(A,c);!k&&S?i.trigger("loading",!0):k&&!S&&i.trigger("loading",!1),this.state=A,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,a.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),a),n),s=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,c=i.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=Bte(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=JP(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=JP(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let u in s)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&s[u](c[u],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:a,localeDefaults:o,availableLocaleData:s,extra:l}=this.processRawCalendarOptions(e,n);uR(l);let c=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,a,s,i.defaultRangeSeparator),u=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),d=this.buildTheme(i,a),h=this.parseToolbars(i,this.stableOptionOverrides,d,u,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:a,dateEnv:c,viewSpecs:u,theme:d,toolbarConfig:h,localeDefaults:o,availableRawLocales:s.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=vE([bd,e,n]),a=this.organizeRawLocales(r),o=a.map,s=this.buildLocale(i||a.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],gne),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},GP),KP),YP),l.listenerRefiners),l.optionRefiners),u={},d=vE([bd,s,e,n]),h={},m=this.currentCalendarOptionsInput,g=this.currentCalendarOptionsRefined,y=!1;for(let E in d)this.optionsForRefining.indexOf(E)===-1&&(d[E]===m[E]||us[E]&&E in m&&us[E](m[E],d[E]))?h[E]=g[E]:c[E]?(h[E]=c[E](d[E]),y=!0):u[E]=m[E];return y&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:a,localeDefaults:s,extra:u}}_computeCurrentViewData(e,n,r,i){let a=n.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:s}=this.processRawViewOptions(a,n.pluginHooks,n.localeDefaults,r,i);uR(s),this.nowManager.handleInput(n.dateEnv,o.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:a,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,n,r,i,a){let o=vE([bd,e.optionDefaults,r,i,e.optionOverrides,a]),s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},GP),KP),YP),iJ),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,d=!1,h={};for(let m in o)o[m]===c[m]||us[m]&&us[m](o[m],c[m])?l[m]=u[m]:(o[m]===this.currentCalendarOptionsInput[m]||us[m]&&us[m](o[m],this.currentCalendarOptionsInput[m])?m in this.currentCalendarOptionsRefined&&(l[m]=this.currentCalendarOptionsRefined[m]):s[m]?l[m]=s[m](o[m]):h[m]=o[m],d=!0);return d&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function wne(t,e,n,r,i,a,o,s){let l=OU(e||o.defaultCode,o.map);return new mJ({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:s})}function _ne(t,e){let n=e.themeClasses[t.themeSystem]||Xo;return new n(t)}function Sne(t){let e=t.dateProfileGeneratorClass||KV;return new e(t)}function Ane(t,e,n){return new ene(t,e,n)}function xne(t){return Aa(t,e=>e.ui)}function Tne(t,e,n){let r={"":e};for(let i in t){let a=t[i];a.sourceId&&n[a.sourceId]&&(r[i]=n[a.sourceId])}return r}function Cne(t){let{options:e}=t;return{eventUiSingleBase:hg({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:hg({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function TE(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function kne(t){return QJ(t.options.businessHours,t)}function uR(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class Ine extends Ge{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return L("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],a=!0;for(let o of e){let{buttonName:s,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:d}=o;if(s==="title")a=!1,i.push(L("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=s===n.activeButton,m=!n.isTodayEnabled&&s==="today"||!n.isPrevEnabled&&s==="prev"||!n.isNextEnabled&&s==="next",g=[`fc-${s}-button`,r.getClass("button")];h&&g.push(r.getClass("buttonActive")),i.push(L("button",{type:"button",title:typeof d=="function"?d(n.navUnit):d,disabled:m,"aria-pressed":h,className:g.join(" "),onClick:l},c||(u?L("span",{className:u,role:"img"}):"")))}}if(i.length>1){let o=a&&r.getClass("buttonGroup")||"";return L("div",{className:o},...i)}return i[0]}}class dR extends Ge{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,a,o=e.sectionWidgets,s=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,a=o.right):a=o.end,L("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",s||[]),this.renderSection("end",a||[]))}renderSection(e,n){let{props:r}=this;return L(Ine,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class Pne extends Ge{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Vi(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",o="";return r?n.availableWidth!==null?a=n.availableWidth/r:o=`${1/r*100}%`:a=e.height||"",L("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:a,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Rne extends Zc{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:a}=i,o=Rc(r);if(o&&i.isValidSegDownEl(n.target)){let s=Vn(n.target,".fc-event-forced-url"),l=s?s.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:r,event:new bt(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:a.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=LV(e.el,"click",".fc-event",this.handleSegClick)}}class Dne extends Zc{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Rc(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=uZ(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:a}=i,o=Rc(r);(!n||i.isValidSegDownEl(n.target))&&a.emitter.trigger(e,{el:r,event:new bt(a,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:a.viewApi})}}class One extends pl{constructor(){super(...arguments),this.buildViewContext=ve(yJ),this.buildViewPropTransformers=ve(Mne),this.buildToolbarProps=ve(Nne),this.headerRef=er(),this.footerRef=er(),this.interactionsStore={},this.state={viewLabelId:Io()},this.registerInteractiveComponent=(e,n)=>{let r=yee(e,n),o=[Rne,Dne].concat(this.props.pluginHooks.componentInteractions).map(s=>new s(r));this.interactionsStore[e.uid]=o,Dw[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete Dw[e.uid]},this.resizeRunner=new KA(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=!1,a="",o;e.isHeightAuto||e.forPrint?a="":r.height!=null?i=!0:r.contentHeight!=null?a=r.contentHeight:o=Math.max(r.aspectRatio,.5);let s=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return L(Ma.Provider,{value:s},L(ml,{unit:"day"},c=>{let u=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,c,e.viewTitle);return L(Je,null,n.header&&L(dR,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:l},u)),L(Pne,{liquid:i,height:a,aspectRatio:o,labeledById:l},this.renderView(e),this.buildAppendContent()),n.footer&&L(dR,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},u)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return L(Je,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(n.viewPropsTransformers);for(let s of a)Object.assign(i,s.transform(i,e));let o=r.component;return L(o,Object.assign({},i))}}function Nne(t,e,n,r,i,a){let o=n.build(i,void 0,!1),s=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:a,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!da(e.currentRange,i),isPrevEnabled:s.isValid,isNextEnabled:l.isValid}}function Mne(t){return t.map(e=>new e)}class Lne extends bee{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;dg(()=>{Qd(L(vee,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,a,o,s)=>(this.setClassNames(i),this.setHeight(a),L(HV.Provider,{value:this.customContentRenderId},L(One,Object.assign({isHeightAuto:o,forPrint:s},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Qd(null,this.el),this.setClassNames([]),this.setHeight(""))},tZ(e),this.el=e,this.renderRunner=new KA(this.handleRenderRequest),new bne({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){dg(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Fo(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){NV(this.el,"height",e)}}const jne=parseInt(String(f.version).split(".")[0]),Fne=jne<18;class UU extends v.Component{constructor(){super(...arguments),this.elRef=v.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(f.createElement(Vne,{key:n.id,customRendering:n}));return f.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new bte;this.handleCustomRendering=e.handle.bind(e),this.calendar=new Lne(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Vs.flushSync(()=>{})});let n;e.subscribe(r=>{const i=Date.now(),a=!n;(Fne||a||this.isUpdating||this.isUnmounting||i-n<100?zU:Vs.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}UU.act=zU;class Vne extends v.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return Vs.createPortal(r,e.containerEl)}}function zU(t){t()}class Une extends gi{constructor(){super(...arguments),this.headerElRef=er()}renderSimpleLayout(e,n){let{props:r,context:i}=this,a=[],o=mg(i.options);return e&&a.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),L(Xd,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},L(bx,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,n,r,i){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:o,context:s}=this,l=!o.forPrint&&mg(s.options),c=!o.forPrint&&xU(s.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Mw}]}),L(Xd,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},L(a,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:u}))}}function om(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function hp(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function fR(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const BU=pt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function $U(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class WU extends Ge{render(){let{props:e}=this;return L(wx,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:BU,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class HU extends Ge{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,a=r.eventTimeFormat||BU,o=wd(i,a,n,!0,e.defaultDisplayEventEnd);return L(sy,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:hx(e.seg,n),defaultGenerator:zne,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function zne(t){return L(Je,null,L("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&L("div",{className:"fc-event-time"},t.timeText),L("div",{className:"fc-event-title"},t.event.title||L(Je,null,"")))}class Bne extends Ge{constructor(){super(...arguments),this.compileSegs=ve($ne)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return L(IU,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return L(Je,null,n.map(a=>{let o=a.eventRange.instance.instanceId;return L("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},$U(a)?L(HU,Object.assign({seg:a,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},fa(a,e.todayRange))):L(WU,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},fa(a,e.todayRange))))}))}})}}function $ne(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const Wne=pt({week:"narrow"});class Hne extends gi{constructor(){super(...arguments),this.rootElRef=er(),this.state={dayNumberId:Io()},this.handleRootEl=e=>{Vi(this.rootElRef,e),Vi(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:a,dateEnv:o}=e,{date:s,dateProfile:l}=n;const c=n.showDayNumber&&Gne(s,l.currentRange,o);return L(Sx,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:qne,date:s,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(u,d)=>L("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&L(kU,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Dc(e,s,"week"),date:s,defaultFormat:Wne}),!d.isDisabled&&(n.showDayNumber||Ax(a)||n.forceDayTop)?L("div",{className:"fc-daygrid-day-top"},L(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Dc(e,s)),{id:r.dayNumberId})})):n.showDayNumber?L("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},L("a",{className:"fc-daygrid-day-number"},"")):void 0,L("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,L("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},L(Bne,{allDayDate:s,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),L("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function qne(t){return t.dayNumberText||L(Je,null,"")}function Gne(t,e,n){const{start:r,end:i}=e,a=Vo(i,-1),o=n.getYear(r),s=n.getMonth(r),l=n.getYear(a),c=n.getMonth(a);return!(o===l&&s===c)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function qU(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function GU(t){return qU(t)+":"+t.lastCol}function Kne(t,e,n,r,i,a,o){let s=new Xne(b=>{let w=t[b.index].eventRange.instance.instanceId+":"+b.span.start+":"+(b.span.end-1);return i[w]||1});s.allowReslicing=!0,s.strictOrder=r,e===!0||n===!0?(s.maxCoord=a,s.hiddenConsumes=!0):typeof e=="number"?s.maxStackCnt=e:typeof n=="number"&&(s.maxStackCnt=n,s.hiddenConsumes=!0);let l=[],c=[];for(let b=0;b<t.length;b+=1){let w=t[b],T=GU(w);i[T]!=null?l.push({index:b,span:{start:w.firstCol,end:w.lastCol+1}}):c.push(w)}let u=s.addSegs(l),d=s.toRects(),{singleColPlacements:h,multiColPlacements:m,leftoverMargins:g}=Yne(d,t,o),y=[],E=[];for(let b of c){m[b.firstCol].push({seg:b,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let w=b.firstCol;w<=b.lastCol;w+=1)h[w].push({seg:cc(b,w,w+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<o.length;b+=1)y.push(0);for(let b of u){let w=t[b.index],T=b.span;m[T.start].push({seg:cc(w,T.start,T.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let A=T.start;A<T.end;A+=1)y[A]+=1,h[A].push({seg:cc(w,A,A+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<o.length;b+=1)E.push(g[b]);return{singleColPlacements:h,multiColPlacements:m,moreCnts:y,moreMarginTops:E}}function Yne(t,e,n){let r=Qne(t,n.length),i=[],a=[],o=[];for(let s=0;s<n.length;s+=1){let l=r[s],c=[],u=0,d=0;for(let m of l){let g=e[m.index];c.push({seg:cc(g,s,s+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:m.levelCoord-u}),u=m.levelCoord+m.thickness}let h=[];u=0,d=0;for(let m of l){let g=e[m.index],y=m.span.end-m.span.start>1,E=m.span.start===s;d+=m.levelCoord-u,u=m.levelCoord+m.thickness,y?(d+=m.thickness,E&&h.push({seg:cc(g,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:m.levelCoord,marginTop:0})):E&&(h.push({seg:cc(g,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:d}),d=0)}i.push(c),a.push(h),o.push(d)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:o}}function Qne(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function cc(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,a=i.range,o=Uo(a,{start:r[e].date,end:Gt(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===a.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===a.end.valueOf()})}class Xne extends hU{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=a=>!this.forceHidden[Ps(a)];for(let a=0;a<r.length;a+=1)r[a]=r[a].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:o,touchingLevel:s,touchingLateral:l}=e;if(this.hiddenConsumes&&o){const c=Ps(o);if(!a[c])if(this.allowReslicing){const u=Object.assign(Object.assign({},o),{span:yx(o.span,n.span)}),d=Ps(u);a[d]=!0,i[s][l]=u,r.push(u),this.splitEntry(o,n,r)}else a[c]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}}class KU extends gi{constructor(){super(...arguments),this.cellElRefs=new aa,this.frameElRefs=new aa,this.fgElRefs=new aa,this.segHarnessRefs=new aa,this.rootElRef=er(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,a=e.cells.length,o=hp(e.businessHourSegs,a),s=hp(e.bgEventSegs,a),l=hp(this.getHighlightSegs(),a),c=hp(this.getMirrorSegs(),a),{singleColPlacements:u,multiColPlacements:d,moreCnts:h,moreMarginTops:m}=Kne(fx(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),g=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return L("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((y,E)=>{let b=this.renderFgSegs(E,e.forPrint?u[E]:d[E],e.todayRange,g),w=this.renderFgSegs(E,Zne(c[E],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return L(Hne,{key:y.key,elRef:this.cellElRefs.createRef(y.key),innerElRef:this.frameElRefs.createRef(y.key),dateProfile:e.dateProfile,date:y.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&E===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:y.extraRenderProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,moreCnt:h[E],moreMarginTop:m[E],singlePlacements:u[E],fgContentElRef:this.fgElRefs.createRef(y.key),fgContent:L(Je,null,L(Je,null,b),L(Je,null,w)),bgContent:L(Je,null,this.renderFillSegs(l[E],"highlight"),this.renderFillSegs(o[E],"non-business"),this.renderFillSegs(s[E],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!fi(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,a,o,s){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,d=this.props.cells.length===1,h=a||o||s,m=[];if(u)for(let g of n){let{seg:y}=g,{instanceId:E}=y.eventRange.instance,b=g.isVisible&&!i[E],w=g.isAbsolute,T="",A="";w&&(l.isRtl?(A=0,T=u.lefts[y.lastCol]-u.lefts[y.firstCol]):(T=0,A=u.rights[y.firstCol]-u.rights[y.lastCol])),m.push(L("div",{className:"fc-daygrid-event-harness"+(w?" fc-daygrid-event-harness-abs":""),key:qU(y),ref:h?null:this.segHarnessRefs.createRef(GU(y)),style:{visibility:b?"":"hidden",marginTop:w?"":g.marginTop,top:w?g.absoluteTop:"",left:T,right:A}},$U(y)?L(HU,Object.assign({seg:y,isDragging:a,isSelected:E===c,defaultDisplayEventEnd:d},fa(y,r))):L(WU,Object.assign({seg:y,isDragging:a,isResizing:o,isDateSelecting:s,isSelected:E===c,defaultDisplayEventEnd:d},fa(y,r)))))}return m}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:a}=this.state,o=[];if(a)for(let s of e){let l=r?{right:0,left:a.lefts[s.lastCol]-a.lefts[s.firstCol]}:{left:0,right:a.rights[s.firstCol]-a.rights[s.lastCol]};o.push(L("div",{key:oU(s.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?L(TU,Object.assign({seg:s},fa(s,i))):CU(n)))}return L(Je,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(c=>i.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new Oc(c,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(u))&&this.setState({framePositions:new Oc(c,l,!0,!1)})}}const a=this.state.segHeights,o=this.querySegHeights(),s=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),o),maxContentHeight:s?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}KU.addStateEquality({segHeights:fi});function Zne(t,e){if(!t.length)return[];let n=Jne(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function Jne(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class ere extends gi{constructor(){super(...arguments),this.splitBusinessHourSegs=ve(om),this.splitBgEventSegs=ve(tre),this.splitFgEventSegs=ve(om),this.splitDateSelectionSegs=ve(om),this.splitEventDrag=ve(fR),this.splitEventResize=ve(fR),this.rowRefs=new aa}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),a=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),s=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),c=this.splitEventResize(e.eventResize,r),u=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return L(ml,{unit:"day"},(d,h)=>L(Je,null,e.cells.map((m,g)=>L(KU,{ref:this.rowRefs.createRef(g),key:m.length?m[0].date.toISOString():g,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:m,renderIntro:e.renderRowIntro,businessHourSegs:i[g],eventSelection:e.eventSelection,bgEventSegs:a[g],fgEventSegs:o[g],dateSelectionSegs:s[g],eventDrag:l[g],eventResize:c[g],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Oc(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Oc(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,a=r.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&a!=null){let s=this.props.cells[o][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,a),allDay:!0},s.extraDateSpan),dayEl:this.getCellEl(o,a),rect:{left:r.lefts[a],right:r.rights[a],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=Gt(r,1);return{start:r,end:i}}}function tre(t,e){return om(t.filter(nre),e)}function nre(t){return t.eventRange.def.allDay}class rre extends gi{constructor(){super(...arguments),this.elRef=er(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,a=r===!0||n===!0;a&&!i&&(a=!1,n=null,r=null);let o=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return L("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},L("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,L("tbody",{role:"presentation"},L(ere,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=ire(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function ire(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${zZ(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${Lf(e.currentDate)}"]`)),n}class are extends EU{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class YU extends gi{constructor(){super(...arguments),this.slicer=new are,this.tableRef=er()}render(){let{props:e,context:n}=this;return L(rre,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class ore extends Une{constructor(){super(...arguments),this.buildDayTableModel=ve(sre),this.headerRef=er(),this.tableRef=er()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),a=e.dayHeaders&&L(gU,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=s=>L(YU,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:s.tableColGroupNode,tableMinWidth:s.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:s.clientWidth,clientHeight:s.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,o)}}function sre(t,e){let n=new vU(t.renderRange,e);return new yU(n,/year|month|week/.test(t.currentRangeUnit))}class lre extends KV{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:a}=this;return cre({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function cre(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,a;if(t.snapToWeek&&(r=e.startOfWeek(r),a=e.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=BP(a,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(Gt(n.end,-1))),s=Math.ceil(PZ(o,i));i=BP(i,6-s)}return{start:r,end:i}}var ure=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';ty(ure);var dre=Hi({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:ore,dateProfileGeneratorClass:lre},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Ex.touchMouseIgnoreWait=500;let jw=0,gg=0,Fw=!1;class QU{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&fre(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,hre()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new ay,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),pre()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),mre()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||Vn(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Fw=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Vn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return jw||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Fw=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,a,o=0,s=0;return r&&r.length?(i=r[0].pageX,a=r[0].pageY):(i=e.pageX,a=e.pageY),n?(this.origPageX=i,this.origPageY=a):(o=i-this.origPageX,s=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:o,deltaY:s}}}function fre(t){return t.button===0&&!t.ctrlKey}function hre(){jw+=1,setTimeout(()=>{jw-=1},Ex.touchMouseIgnoreWait)}function pre(){gg+=1,gg===1&&window.addEventListener("touchmove",XU,{passive:!1})}function mre(){gg-=1,gg||window.removeEventListener("touchmove",XU,{passive:!1})}function XU(t){Fw&&t.preventDefault()}class gre{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",yd(r,{left:i.left,top:i.top}),dZ(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(YA(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&yd(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),yd(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class ZU extends vx{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class JU extends ZU{constructor(e,n){super(new Lee(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Nee(this.scrollController.el)}}class vre extends ZU{constructor(e){super(new jee,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const hR=typeof performance=="function"?performance.now:Date.now;class yre{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=hR();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,a=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(hR()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,a=i-e.distance,o=a*a/(i*i)*this.maxVelocity*n,s=1;switch(e.name){case"left":s=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*s);break;case"top":s=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*s);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,a=this.scrollCaches||[];for(let o of a){let s=o.clientRect,l=e-s.left,c=s.right-e,u=n-s.top,d=s.bottom-n;l>=0&&c>=0&&u>=0&&d>=0&&(u<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"top",distance:u}),d<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>d)&&(i={scrollCache:o,name:"bottom",distance:d}),l<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:o,name:"left",distance:l}),c<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"right",distance:c}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new vre(!1):new JU(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class Ff extends Uee{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,fZ(document.body),pZ(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let a=this.minDistance,o,{deltaX:s,deltaY:l}=i;o=s*s+l*l,o>=a*a&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,hZ(document.body),mZ(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new QU(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new gre,this.autoScroller=new yre}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Ere{constructor(e){this.el=e,this.origRect=gx(e),this.scrollCaches=fU(e).map(n=>new JU(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!bre(i.getEventTarget())&&!wee(r,i.clientRect))return!1;return!0}}function bre(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class ly{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new ay}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,a;i instanceof HTMLElement&&(a=gx(i),r=_ee(r,a));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&a){let s=uU(a,o.rect);s&&(r=See(s))}this.coordAdjust=Aee(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!cy(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=Aa(this.droppableStore,e=>(e.component.prepareHits(),new Ere(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,a=null;for(let o in r){let s=r[o].component,l=i[o];if(l&&l.isWithinClipping(e,n)){let c=l.computeLeft(),u=l.computeTop(),d=e-c,h=n-u,{origRect:m}=l,g=m.right-m.left,y=m.bottom-m.top;if(d>=0&&d<g&&h>=0&&h<y){let E=s.queryHit(d,h,g,y);E&&ry(E.dateProfile.activeRange,E.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(d+c-window.scrollX,h+u-window.scrollY)))&&(!a||E.layer>a.layer)&&(E.componentId=o,E.context=s.context,E.rect.left+=c,E.rect.right+=c,E.rect.top+=u,E.rect.bottom+=u,a=E)}}}return a}}function cy(t,e){return!t&&!e?!0:!!t!=!!e?!1:uee(t.dateSpan,e.dateSpan)}function ez(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,wre(t,e.dateEnv)),n}function wre(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class _re extends Zc{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,a=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:o,finalHit:s}=this.hitDragging;if(o&&s&&cy(o,s)){let{context:l}=i,c=Object.assign(Object.assign({},ez(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new Ff(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new ly(this.dragging,px(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Sre extends Zc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:s,dragging:l}=this,{options:c}=s.context,u=c.selectable&&s.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!u),l.delay=o.isTouch?Are(s):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,s)=>{let{context:l}=this.component,c=null,u=!1;if(o){let d=this.hitDragging.initialHit;o.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,o)||(c=xre(d,o,l.pluginHooks.dateSelectionTransformers)),(!c||!qee(c,o.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):s||l.dispatch({type:"UNSELECT_DATES"}),u?QA():XA(),s||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(rU(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new Ff(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new ly(this.dragging,px(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Are(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function xre(t,e,n){let r=t.dateSpan,i=e.dateSpan,a=[r.range.start,r.range.end,i.range.start,i.range.end];a.sort(bZ);let o={};for(let s of n){let l=s(t,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:a[0],end:a[3]},o.allDay=r.allDay,o}class Vf extends Zc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let s=o.origEvent.target,{component:l,dragging:c}=this,{mirror:u}=c,{options:d}=l.context,h=l.context;this.subjectEl=o.subjectEl;let m=this.subjectSeg=Rc(o.subjectEl),y=(this.eventRange=m.eventRange).instance.instanceId;this.relevantEvents=lx(h.getCurrentData().eventStore,y),c.minDistance=o.isTouch?0:d.eventDragMinDistance,c.delay=o.isTouch&&y!==l.props.eventSelection?Cre(l):null,d.fixedMirrorParent?u.parentNode=d.fixedMirrorParent:u.parentNode=Vn(s,".fc"),u.revertDuration=d.dragRevertDuration;let E=l.isValidSegDownEl(s)&&!Vn(s,".fc-event-resizer");c.setIgnoreMove(!E),this.isDragging=E&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let s=this.component.context,l=this.eventRange,c=l.instance.instanceId;o.isTouch?c!==this.component.props.eventSelection&&s.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):s.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(s.calendarApi.unselect(o),s.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new bt(s,l.def,l.instance),jsEvent:o.origEvent,view:s.viewApi}))},this.handleHitUpdate=(o,s)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,u=this.component.context,d=null,h=null,m=null,g=!1,y={affectedEvents:l,mutatedEvents:kr(),isEvent:!0};if(o){d=o.context;let E=d.options;u===d||E.editable&&E.droppable?(h=Tre(c,o,this.eventRange.instance.range.start,d.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(m=dx(l,d.getCurrentData().eventUiBases,h,d),y.mutatedEvents=m,bU(y,o.dateProfile,d)||(g=!0,h=null,m=null,y.mutatedEvents=kr()))):d=null}this.displayDrag(d,y),g?QA():XA(),s||(u===d&&cy(c,o)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=h,this.mutatedRelevantEvents=m)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let s=this.component.context,l=s.viewApi,{receivingContext:c,validMutation:u}=this,d=this.eventRange.def,h=this.eventRange.instance,m=new bt(s,d,h),g=this.relevantEvents,y=this.mutatedRelevantEvents,{finalHit:E}=this.hitDragging;if(this.clearDrag(),s.emitter.trigger("eventDragStop",{el:this.subjectEl,event:m,jsEvent:o.origEvent,view:l}),u){if(c===s){let b=new bt(s,y.defs[d.defId],h?y.instances[h.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:y});let w={oldEvent:m,event:b,relatedEvents:Is(y,s,h),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:g})}},T={};for(let A of s.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(T,A(u,s));s.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},w),T),{el:o.subjectEl,delta:u.datesDelta,jsEvent:o.origEvent,view:l})),s.emitter.trigger("eventChange",w)}else if(c){let b={event:m,relatedEvents:Is(g,s,h),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:g})}};s.emitter.trigger("eventLeave",Object.assign(Object.assign({},b),{draggedEl:o.subjectEl,view:l})),s.dispatch({type:"REMOVE_EVENTS",eventStore:g}),s.emitter.trigger("eventRemove",b);let w=y.defs[d.defId],T=y.instances[h.instanceId],A=new bt(c,w,T);c.dispatch({type:"MERGE_EVENTS",eventStore:y});let P={event:A,relatedEvents:Is(y,c,T),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:y})}};c.emitter.trigger("eventAdd",P),o.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},ez(E.dateSpan,c)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:E.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},P),{draggedEl:o.subjectEl,view:E.context.viewApi}))}}else s.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new Ff(e.el);i.pointer.selector=Vf.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new ly(this.dragging,Dw);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:kr(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Vf.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Tre(t,e,n,r){let i=t.dateSpan,a=e.dateSpan,o=i.range.start,s=a.range.start,l={};i.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?o=nt(n):o=n);let c=Gl(o,s,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let d of r)d(u,t,e);return u}function Cre(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class kre extends Zc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:o}=this,s=this.querySegEl(a),l=Rc(s),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=a=>{let{context:o}=this.component,s=this.eventRange;this.relevantEvents=lx(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(a);this.draggingSegEl=l,this.draggingSeg=Rc(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new bt(o,s.def,s.instance),jsEvent:a.origEvent,view:o.viewApi})},this.handleHitUpdate=(a,o,s)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.eventRange.instance,h=null,m=null,g=!1,y={affectedEvents:c,mutatedEvents:kr(),isEvent:!0};a&&(a.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,a)||(h=Ire(u,a,s.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),h&&(m=dx(c,l.getCurrentData().eventUiBases,h,l),y.mutatedEvents=m,bU(y,a.dateProfile,l)||(g=!0,h=null,m=null,y.mutatedEvents=null)),m?l.dispatch({type:"SET_EVENT_RESIZE",state:y}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),g?QA():XA(),o||(h&&cy(u,a)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=m)},this.handleDragEnd=a=>{let{context:o}=this.component,s=this.eventRange.def,l=this.eventRange.instance,c=new bt(o,s,l),u=this.relevantEvents,d=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:a.origEvent,view:o.viewApi}),this.validMutation){let h=new bt(o,d.defs[s.defId],l?d.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:d});let m={oldEvent:c,event:h,relatedEvents:Is(d,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},m),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Fe(0),endDelta:this.validMutation.endDelta||Fe(0),jsEvent:a.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",m)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Ff(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new ly(this.dragging,px(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Vn(e.subjectEl,".fc-event")}}function Ire(t,e,n,r){let i=t.context.dateEnv,a=t.dateSpan.range.start,o=e.dateSpan.range.start,s=Gl(a,o,i,t.largeUnit);if(n){if(i.add(r.start,s)<r.end)return{startDelta:s}}else if(i.add(r.end,s)>r.start)return{endDelta:s};return null}class Pre{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,a=MV(r.origEvent);this.matchesCancel=!!Vn(a,i),this.matchesEvent=!!Vn(a,Vf.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:a}=this,o=i.getCurrentData();if(!a.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let s=i.options.unselectAuto;s&&(!s||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new QU(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Rre={fixedMirrorParent:B},Dre={dateClick:B,eventDragStart:B,eventDragStop:B,eventDrop:B,eventResizeStart:B,eventResizeStop:B,eventResize:B,drop:B,eventReceive:B,eventLeave:B};Ex.dataAttrPrefix="";var Ore=Hi({name:"@fullcalendar/interaction",componentInteractions:[_re,Sre,Vf,kre],calendarInteractions:[Pre],elementDraggingImpl:Ff,optionRefiners:Rre,listenerRefiners:Dre});class Nre extends Ge{constructor(){super(...arguments),this.state={textId:Io()}}render(){let{theme:e,dateEnv:n,options:r,viewApi:i}=this.context,{cellId:a,dayDate:o,todayRange:s}=this.props,{textId:l}=this.state,c=mx(o,s),u=r.listDayFormat?n.format(o,r.listDayFormat):"",d=r.listDaySideFormat?n.format(o,r.listDaySideFormat):"",h=Object.assign({date:n.toDate(o),view:i,textId:l,text:u,sideText:d,navLinkAttrs:Dc(this.context,o),sideNavLinkAttrs:Dc(this.context,o,"day",!1)},c);return L(Wn,{elTag:"tr",elClasses:["fc-list-day",...oy(c,e)],elAttrs:{"data-date":Lf(o)},renderProps:h,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:Mre,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},m=>L("th",{scope:"colgroup",colSpan:3,id:a,"aria-labelledby":l},L(m,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function Mre(t){return L(Je,null,t.text&&L("a",Object.assign({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&L("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}const Lre=pt({hour:"numeric",minute:"2-digit",meridiem:"short"});class jre extends Ge{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i,timeHeaderId:a,eventHeaderId:o,dateHeaderId:s}=e,l=r.eventTimeFormat||Lre;return L(sy,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",i.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>Fre(i,n),seg:i,timeText:"",disableDragging:!0,disableResizing:!0}),(c,u)=>L(Je,null,Vre(i,l,n,a,s),L("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},L("span",{className:"fc-list-event-dot",style:{borderColor:u.borderColor||u.backgroundColor}})),L(c,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${o} ${s}`}})))}}function Fre(t,e){let n=hx(t,e);return L("a",Object.assign({},n),t.eventRange.def.title)}function Vre(t,e,n,r,i){let{options:a}=n;if(a.displayEventTime!==!1){let o=t.eventRange.def,s=t.eventRange.instance,l=!1,c;if(o.allDay?l=!0:kJ(t.eventRange.range)?t.isStart?c=wd(t,e,n,null,null,s.range.start,t.end):t.isEnd?c=wd(t,e,n,null,null,t.start,s.range.end):l=!0:c=wd(t,e,n),l){let u={text:n.options.allDayText,view:n.viewApi};return L(Wn,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${r} ${i}`},renderProps:u,generatorName:"allDayContent",customGenerator:a.allDayContent,defaultGenerator:Ure,classNameGenerator:a.allDayClassNames,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount})}return L("td",{className:"fc-list-event-time"},c)}return null}function Ure(t){return t.text}class zre extends gi{constructor(){super(...arguments),this.computeDateVars=ve($re),this.eventStoreToSegs=ve(this._eventStoreToSegs),this.state={timeHeaderId:Io(),eventHeaderId:Io(),dateHeaderIdRoot:Io()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:n}=this,{dayDates:r,dayRanges:i}=this.computeDateVars(e.dateProfile),a=this.eventStoreToSegs(e.eventStore,e.eventUiBases,i);return L(Xd,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},L(SU,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},a.length>0?this.renderSegList(a,r):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:n}=this.context,r={text:e.noEventsText,view:n};return L(Wn,{elTag:"div",elClasses:["fc-list-empty"],renderProps:r,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:Bre,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},i=>L(i,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,n){let{theme:r,options:i}=this.context,{timeHeaderId:a,eventHeaderId:o,dateHeaderIdRoot:s}=this.state,l=Wre(e);return L(ml,{unit:"day"},(c,u)=>{let d=[];for(let h=0;h<l.length;h+=1){let m=l[h];if(m){let g=Lf(n[h]),y=s+"-"+g;d.push(L(Nre,{key:g,cellId:y,dayDate:n[h],todayRange:u})),m=fx(m,i.eventOrder);for(let E of m)d.push(L(jre,Object.assign({key:g+":"+E.eventRange.instance.instanceId,seg:E,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:a,eventHeaderId:o,dateHeaderId:y},fa(E,u,c))))}}return L("table",{className:"fc-list-table "+r.getClass("table")},L("thead",null,L("tr",null,L("th",{scope:"col",id:a},i.timeHint),L("th",{scope:"col","aria-hidden":!0}),L("th",{scope:"col",id:o},i.eventHint))),L("tbody",null,d))})}_eventStoreToSegs(e,n,r){return this.eventRangesToSegs(Rw(e,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,r)}eventRangesToSegs(e,n){let r=[];for(let i of e)r.push(...this.eventRangeToSegs(i,n));return r}eventRangeToSegs(e,n){let{dateEnv:r}=this.context,{nextDayThreshold:i}=this.context.options,a=e.range,o=e.def.allDay,s,l,c,u=[];for(s=0;s<n.length;s+=1)if(l=Uo(a,n[s]),l&&(c={component:this,eventRange:e,start:l.start,end:l.end,isStart:e.isStart&&l.start.valueOf()===a.start.valueOf(),isEnd:e.isEnd&&l.end.valueOf()===a.end.valueOf(),dayIndex:s},u.push(c),!c.isEnd&&!o&&s+1<n.length&&a.end<r.add(n[s+1].start,i))){c.end=a.end,c.isEnd=!0;break}return u}}function Bre(t){return t.text}function $re(t){let e=nt(t.renderRange.start),n=t.renderRange.end,r=[],i=[];for(;e<n;)r.push(e),i.push({start:e,end:Gt(e,1)}),e=Gt(e,1);return{dayDates:r,dayRanges:i}}function Wre(t){let e=[],n,r;for(n=0;n<t.length;n+=1)r=t[n],(e[r.dayIndex]||(e[r.dayIndex]=[])).push(r);return e}var Hre=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';ty(Hre);const qre={listDayFormat:pR,listDaySideFormat:pR,noEventsClassNames:B,noEventsContent:B,noEventsDidMount:B,noEventsWillUnmount:B};function pR(t){return t===!1?null:pt(t)}var Gre=Hi({name:"@fullcalendar/list",optionRefiners:qre,views:{list:{component:zre,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});class Kre extends xee{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?tee(e)?["timed","allDay"]:["allDay"]:["timed"]}}const Yre=pt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function tz(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return L(Ma.Consumer,null,n=>{if(!t.isLabeled)return L("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:i,viewApi:a}=n,o=i.slotLabelFormat==null?Yre:Array.isArray(i.slotLabelFormat)?pt(i.slotLabelFormat[0]):pt(i.slotLabelFormat),s={level:0,time:t.time,date:r.toDate(t.date),view:a,text:r.format(t.date,o)};return L(Wn,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:s,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:Qre,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},l=>L("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},L(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Qre(t){return t.text}class Xre extends Ge{render(){return this.props.slatMetas.map(e=>L("tr",{key:e.key},L(tz,Object.assign({},e))))}}const Zre=pt({week:"short"}),Jre=5;class eie extends gi{constructor(){super(...arguments),this.allDaySplitter=new Kre,this.headerElRef=er(),this.rootElRef=er(),this.scrollerElRef=er(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,a=i.renderRange,s=Qo(a.start,a.end)===1?Dc(this.context,a.start,"week"):{};return r.weekNumbers&&e==="day"?L(kU,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:a.start,defaultFormat:Zre},l=>L("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},L(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:s}))):L("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},L("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return L(Wn,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:tie,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},a=>L("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},L(a,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:i,props:a}=this,o=[],s=mg(i.options);return e&&o.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:L("tr",{role:"presentation",className:"fc-scrollgrid-section"},L("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),L(Xd,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},L(bx,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,r,i,a,o,s){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:c,props:u}=this,d=!u.forPrint&&mg(c.options),h=!u.forPrint&&xU(c.options),m=[];e&&m.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>L("tr",{role:"presentation"},this.renderHeadAxis("day",y.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>L("tr",{role:"presentation"},this.renderTableRowAxis(y.rowSyncHeights[0]))},{key:"cols",content:n}]}),m.push({key:"all-day-divider",type:"body",outerContent:L("tr",{role:"presentation",className:"fc-scrollgrid-section"},L("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let g=c.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:y=>L("div",{className:"fc-timegrid-axis-chunk"},L("table",{"aria-hidden":!0,style:{height:y.expandRows?y.clientHeight:""}},y.tableColGroupNode,L("tbody",null,L(Xre,{slatMetas:o}))),L("div",{className:"fc-timegrid-now-indicator-container"},L(ml,{unit:g?"minute":"day"},E=>{let b=g&&s&&s.safeComputeTop(E);return typeof b=="number"?L(_x,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:b},isAxis:!0,date:E}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),h&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Mw},{key:"cols",content:Mw}]}),L(Xd,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},L(l,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:a}]}],sections:m}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=Jre),{dayMaxEvents:e,dayMaxEventRows:n}}}function tie(t){return t.text}class nie{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(da(n.currentRange,e)){let r=nt(e),i=e.valueOf()-r.valueOf();if(i>=oi(n.slotMinTime)&&i<oi(n.slotMaxTime))return this.computeTimeTop(Fe(i))}return null}computeDateTop(e,n){return n||(n=nt(e)),this.computeTimeTop(Fe(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,i=n.els.length,a=(e.milliseconds-oi(r.slotMinTime))/oi(this.slotDuration),o,s;return a=Math.max(0,a),a=Math.min(i,a),o=Math.floor(a),o=Math.min(o,i-1),s=a-o,n.tops[o]+n.getHeight(o)*s}}class rie extends Ge{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:i}=e;return L("tbody",null,e.slatMetas.map((a,o)=>{let s={time:a.time,date:n.dateEnv.toDate(a.date),view:n.viewApi};return L("tr",{key:a.key,ref:i.createRef(a.key)},e.axis&&L(tz,Object.assign({},a)),L(Wn,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!a.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":a.isoTimeStr},renderProps:s,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class iie extends Ge{constructor(){super(...arguments),this.rootElRef=er(),this.slatElRefs=new aa}render(){let{props:e,context:n}=this;return L("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},L("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,L(rie,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new nie(new Oc(this.rootElRef.current,aie(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function aie(t,e){return e.map(n=>t[n.key])}function Mu(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function mR(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class oie extends Ge{render(){let{props:e}=this;return L(IU,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>rz(e.hiddenSegs,e),defaultGenerator:sie,forceTimed:!0},n=>L(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function sie(t){return t.shortText}function lie(t,e,n){let r=new hU;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(t),a=Fee(i),o=cie(r);return o=hie(o,1),{segRects:pie(o),hiddenGroups:a}}function cie(t){const{entriesByLevel:e}=t,n=Tx((r,i)=>r+":"+i,(r,i)=>{let a=fie(t,r,i),o=gR(a,n),s=e[r][i];return[Object.assign(Object.assign({},s),{nextLevelNodes:o[0]}),s.thickness+o[1]]});return gR(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function gR(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=t,a=r,o=[];for(;a<i;)o.push(e(n,a)),a+=1;return o.sort(uie),[o.map(die),o[0][1]]}function uie(t,e){return e[1]-t[1]}function die(t){return t[0]}function fie(t,e,n){let{levelCoords:r,entriesByLevel:i}=t,a=i[e][n],o=r[e]+a.thickness,s=r.length,l=e;for(;l<s&&r[l]<o;l+=1);for(;l<s;l+=1){let c=i[l],u,d=Nw(c,a.span.start,Ow),h=d[0]+d[1],m=h;for(;(u=c[m])&&u.span.start<a.span.end;)m+=1;if(h<m)return{level:l,lateralStart:h,lateralEnd:m}}return null}function hie(t,e){const n=Tx((r,i,a)=>Ps(r),(r,i,a)=>{let{nextLevelNodes:o,thickness:s}=r,l=s+a,c=s/l,u,d=[];if(!o.length)u=e;else for(let m of o)if(u===void 0){let g=n(m,i,l);u=g[0],d.push(g[1])}else{let g=n(m,u,0);d.push(g[1])}let h=(u-i)*c;return[u-h,Object.assign(Object.assign({},r),{thickness:h,nextLevelNodes:d})]});return t.map(r=>n(r,0,0)[1])}function pie(t){let e=[];const n=Tx((i,a,o)=>Ps(i),(i,a,o)=>{let s=Object.assign(Object.assign({},i),{levelCoord:a,stackDepth:o,stackForward:0});return e.push(s),s.stackForward=r(i.nextLevelNodes,a+i.thickness,o+1)+1});function r(i,a,o){let s=0;for(let l of i)s=Math.max(n(l,a,o),s);return s}return r(t,0,0),e}function Tx(t,e){const n={};return(...r)=>{let i=t(...r);return i in n?n[i]:n[i]=e(...r)}}function vR(t,e,n=null,r=0){let i=[];if(n)for(let a=0;a<t.length;a+=1){let o=t[a],s=n.computeDateTop(o.start,e),l=Math.max(s+(r||0),n.computeDateTop(o.end,e));i.push({start:Math.round(s),end:Math.round(l)})}return i}function mie(t,e,n,r){let i=[],a=[];for(let c=0;c<t.length;c+=1){let u=e[c];u?i.push({index:c,thickness:1,span:u}):a.push(t[c])}let{segRects:o,hiddenGroups:s}=lie(i,n,r),l=[];for(let c of o)l.push({seg:t[c.index],rect:c});for(let c of a)l.push({seg:c,rect:null});return{segPlacements:l,hiddenGroups:s}}const gie=pt({hour:"numeric",minute:"2-digit",meridiem:!1});class nz extends Ge{render(){return L(wx,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:gie}))}}class vie extends Ge{constructor(){super(...arguments),this.sortEventSegs=ve(fx)}render(){let{props:e,context:n}=this,{options:r}=n,i=r.selectMirror,a=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},s=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return L(Sx,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>L("div",{className:"fc-timegrid-col-frame"},L("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),L("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,o,!1,!1,!1)),L("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),L("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Ax(r)&&L(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,i,a,o){let{props:s}=this;return s.forPrint?rz(e,s):this.renderPositionedFgSegs(e,n,r,i,a,o)}renderPositionedFgSegs(e,n,r,i,a,o){let{eventMaxStack:s,eventShortHeight:l,eventOrderStrict:c,eventMinHeight:u}=this.context.options,{date:d,slatCoords:h,eventSelection:m,todayRange:g,nowDate:y}=this.props,E=r||i||a,b=vR(e,d,h,u),{segPlacements:w,hiddenGroups:T}=mie(e,b,c,s);return L(Je,null,this.renderHiddenGroups(T,e),w.map(A=>{let{seg:P,rect:k}=A,S=P.eventRange.instance.instanceId,x=E||!!(!n[S]&&k),I=CE(k&&k.span),D=!E&&k?this.computeSegHStyle(k):{left:0,right:0},R=!!k&&k.stackForward>0,O=!!k&&k.span.end-k.span.start<l;return L("div",{className:"fc-timegrid-event-harness"+(R?" fc-timegrid-event-harness-inset":""),key:o||S,style:Object.assign(Object.assign({visibility:x?"":"hidden"},I),D)},L(nz,Object.assign({seg:P,isDragging:r,isResizing:i,isDateSelecting:a,isSelected:S===m,isShort:O},fa(P,g,y))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:i,todayRange:a,nowDate:o,eventSelection:s,eventDrag:l,eventResize:c}=this.props;return L(Je,null,e.map(u=>{let d=CE(u.span),h=yie(u.entries,n);return L(oie,{key:UV(PU(h)),hiddenSegs:h,top:d.top,bottom:d.bottom,extraDateSpan:r,dateProfile:i,todayRange:a,nowDate:o,eventSelection:s,eventDrag:l,eventResize:c})}))}renderFillSegs(e,n){let{props:r,context:i}=this,o=vR(e,r.date,r.slatCoords,i.options.eventMinHeight).map((s,l)=>{let c=e[l];return L("div",{key:oU(c.eventRange),className:"fc-timegrid-bg-harness",style:CE(s)},n==="bg-event"?L(TU,Object.assign({seg:c},fa(c,r.todayRange,r.nowDate))):CU(n))});return L(Je,null,o)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((i,a)=>L(_x,{key:a,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,a=e.levelCoord,o=e.levelCoord+e.thickness,s,l;i&&(o=Math.min(1,a+(o-a)*2)),n?(s=1-o,l=a):(s=a,l=1-o);let c={zIndex:e.stackDepth+1,left:s*100+"%",right:l*100+"%"};return i&&!e.stackForward&&(c[n?"marginLeft":"marginRight"]=10*2),c}}function rz(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:i,eventResize:a}){let o=(i?i.affectedInstances:null)||(a?a.affectedInstances:null)||{};return L(Je,null,t.map(s=>{let l=s.eventRange.instance.instanceId;return L("div",{key:l,style:{visibility:o[l]?"hidden":""}},L(nz,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===r,isShort:!1},fa(s,e,n))))}))}function CE(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function yie(t,e){return t.map(n=>e[n.index])}class Eie extends Ge{constructor(){super(...arguments),this.splitFgEventSegs=ve(Mu),this.splitBgEventSegs=ve(Mu),this.splitBusinessHourSegs=ve(Mu),this.splitNowIndicatorSegs=ve(Mu),this.splitDateSelectionSegs=ve(Mu),this.splitEventDrag=ve(mR),this.splitEventResize=ve(mR),this.rootElRef=er(),this.cellElRefs=new aa}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,a=this.splitFgEventSegs(e.fgEventSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),s=this.splitBusinessHourSegs(e.businessHourSegs,i),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),c=this.splitDateSelectionSegs(e.dateSelectionSegs,i),u=this.splitEventDrag(e.eventDrag,i),d=this.splitEventResize(e.eventResize,i);return L("div",{className:"fc-timegrid-cols",ref:this.rootElRef},L("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,L("tbody",{role:"presentation"},L("tr",{role:"row"},e.axis&&L("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},L("div",{className:"fc-timegrid-col-frame"},L("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&L(_x,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((h,m)=>L(vie,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:a[m],bgEventSegs:o[m],businessHourSegs:s[m],nowIndicatorSegs:l[m],dateSelectionSegs:c[m],eventDrag:u[m],eventResize:d[m],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Oc(this.rootElRef.current,bie(this.cellElRefs.currentMap,e.cells),!0,!1))}}function bie(t,e){return e.map(n=>t[n.key])}class wie extends gi{constructor(){super(...arguments),this.processSlotOptions=ve(_ie),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let i=r.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return L("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},L(iie,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),L(Eie,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:i}=this.context,{colCoords:a}=this,{dateProfile:o}=this.props,{slatCoords:s}=this.state,{snapDuration:l,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),u=a.leftToIndex(e),d=s.positions.topToIndex(n);if(u!=null&&d!=null){let h=this.props.cells[u],m=s.positions.tops[d],g=s.positions.getHeight(d),y=(n-m)/g,E=Math.floor(y*c),b=d*c+E,w=this.props.cells[u].date,T=Tw(o.slotMinTime,TZ(l,b)),A=r.add(w,T),P=r.add(A,l);return{dateProfile:o,dateSpan:Object.assign({range:{start:A,end:P},allDay:!1},h.extraDateSpan),dayEl:a.els[u],rect:{left:a.lefts[u],right:a.rights[u],top:m,bottom:m+g},layer:0}}return null}}function _ie(t,e){let n=e||t,r=ZA(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class Sie extends EU{sliceRange(e,n){let r=[];for(let i=0;i<n.length;i+=1){let a=Uo(e,n[i]);a&&r.push({start:a.start,end:a.end,isStart:a.start.valueOf()===e.start.valueOf(),isEnd:a.end.valueOf()===e.end.valueOf(),col:i})}return r}}class Aie extends gi{constructor(){super(...arguments),this.buildDayRanges=ve(xie),this.slicer=new Sie,this.timeColsRef=er()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:i}=e,{nowIndicator:a,nextDayThreshold:o}=n.options,s=this.buildDayRanges(i,r,n.dateEnv);return L(ml,{unit:a?"minute":"day"},(l,c)=>L(wie,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,s),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:a&&this.slicer.sliceNowDate(l,r,o,n,s),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function xie(t,e,n){let r=[];for(let i of t.headerDates)r.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return r}const yR=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Tie(t,e,n,r,i){let a=new Date(0),o=t,s=Fe(0),l=n||Cie(r),c=[];for(;oi(o)<oi(e);){let u=i.add(a,o),d=ZA(s,l)!==null;c.push({date:u,time:o,key:u.toISOString(),isoTimeStr:BZ(u),isLabeled:d}),o=Tw(o,r),s=Tw(s,r)}return c}function Cie(t){let e,n,r;for(e=yR.length-1;e>=0;e-=1)if(n=Fe(yR[e]),r=ZA(n,t),r!==null&&r>1)return n;return t}class kie extends eie{constructor(){super(...arguments),this.buildTimeColsModel=ve(Iie),this.buildSlatMetas=ve(Tie)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:a}=i,o=this.buildTimeColsModel(a,r),s=this.allDaySplitter.splitProps(i),l=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:c}=e,u=!c,d=c,h=e.dayHeaders&&L(gU,{dates:o.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),m=e.allDaySlot!==!1&&(y=>L(YU,Object.assign({},s.allDay,{dateProfile:a,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:y.tableMinWidth,colGroupNode:y.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:y.clientWidth,clientHeight:y.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),g=y=>L(Aie,Object.assign({},s.timed,{dayTableModel:o,dateProfile:a,axis:u,slotDuration:e.slotDuration,slatMetas:l,forPrint:i.forPrint,tableColGroupNode:y.tableColGroupNode,tableMinWidth:y.tableMinWidth,clientWidth:y.clientWidth,clientHeight:y.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:y.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return d?this.renderHScrollLayout(h,m,g,o.colCnt,c,l,this.state.slatCoords):this.renderSimpleLayout(h,m,g)}}function Iie(t,e){let n=new vU(t.renderRange,e);return new yU(n,!1)}var Pie='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';ty(Pie);const Rie={allDaySlot:Boolean};var Die=Hi({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Rie,views:{timeGrid:{component:kie,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});function Oie({user:t,searchFilter:e="",filteredProjects:n=null}){const[r,i]=v.useState([]),[a,o]=v.useState(""),[s,l]=v.useState(""),[c,u]=v.useState(""),[d,h]=v.useState(null),[m,g]=v.useState(null),y=n??r,E=e.trim().length>0;v.useEffect(()=>{if(!t)return;const R=t.uid,O=t.email.toLowerCase(),N=An(Ee,"projects"),Q=ko(N,oe=>{const he=[];oe.forEach(Z=>{const W=Z.data();((W.members||[]).includes(R)||(W.invites||[]).includes(O))&&he.push({id:Z.id,...W})}),i(he)});return()=>Q()},[t]);const b=async()=>{if(!a.trim()||!t)return;const R=t.uid,O=R+"_"+Date.now(),N={name:a,owner:R,members:[R],invites:[],deadline:s||null,createdAt:Date.now()};await Fi(Ie(Ee,"projects",O),N),o(""),l("")},w=async R=>{if(!c.trim())return alert("Please enter an email");const O=Ie(Ee,"projects",R),N=await Xc(O);if(!N.exists())return alert("Project not found");const oe=N.data().invites||[],he=c.toLowerCase();oe.includes(he)||oe.push(he),await _n(O,{invites:oe}),u(""),alert("Invitation sent successfully")},T=async R=>{if(!t)return;const O=Ie(Ee,"projects",R.id);await _n(O,{members:ww(t.uid),invites:gd(t.email.toLowerCase())}),alert(`You joined "${R.name}"`)},A=async R=>{if(!t)return;const O=Ie(Ee,"projects",R.id);await _n(O,{invites:gd(t.email.toLowerCase())}),alert(`Invitation from "${R.name}" declined`)},P=async R=>{if(t&&window.confirm(`Leave "${R.name}"?`))try{const O=Ie(Ee,"projects",R.id);await _n(O,{members:gd(t.uid)}),h(null),alert(`Left "${R.name}"`)}catch(O){alert("Error leaving project"),console.error(O)}},k=async R=>{if(t){if(R.owner!==t.uid)return alert("Only project owner can delete");if(window.confirm(`Delete "${R.name}"? This cannot be undone.`))try{await jo(Ie(Ee,"projects",R.id)),h(null),alert("Project deleted")}catch(O){alert("Error deleting project"),console.error(O)}}},S=async(R,O)=>{try{const N=Ie(Ee,"projects",R);await _n(N,{deadline:O||null}),alert("Deadline updated")}catch(N){alert("Error updating deadline"),console.error(N)}},x=R=>R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",I=R=>{if(!R)return"";const O=new Date;O.setHours(0,0,0,0);const N=new Date(R);N.setHours(0,0,0,0);const Q=Math.floor((N-O)/(1e3*60*60*24));return Q<0?"expired":Q===0?"today":Q<=3?"urgent":"normal"},D=(R,O)=>{R.key==="Enter"&&O()};return f.createElement("div",{className:"team-panel"},f.createElement("div",{className:"panel-header"},f.createElement("h3",{className:"panel-title"}," Projects"),f.createElement("span",{className:"project-count"},y.length)),!E&&f.createElement("div",{className:"create-section"},f.createElement("div",{className:"create-row"},f.createElement("input",{placeholder:"New project name...",value:a,onChange:R=>o(R.target.value),onKeyPress:R=>D(R,b),className:"input-field"}),f.createElement("button",{className:"btn btn-primary",onClick:b}," Create")),f.createElement("div",{className:"deadline-row"},f.createElement("input",{type:"date",value:s,onChange:R=>l(R.target.value),className:"input-field deadline-input",title:"Set deadline"}),f.createElement("span",{className:"deadline-label"},""))),E&&y.length===0&&f.createElement("div",{className:"filter-empty"},f.createElement("p",null,' No projects match "',e,'"')),f.createElement("div",{className:"project-list scrollable"},y.length===0&&!E&&f.createElement("div",{className:"empty-state"},f.createElement("p",null,"No projects yet"),f.createElement("span",null,"Create one to get started!")),y.map(R=>{var O,N;return f.createElement("div",{key:R.id,className:`project-card ${d===R.id?"selected":""}`,onClick:()=>h(R.id)},f.createElement("div",{className:"project-info"},f.createElement("div",{className:"project-name"},R.name),f.createElement("div",{className:"project-meta"},f.createElement("span",{className:"member-badge"}," ",(R.members||[]).length))),R.deadline&&f.createElement("div",{className:`deadline-badge ${I(R.deadline)}`},x(R.deadline)),((O=R.invites)==null?void 0:O.length)>0&&f.createElement("div",{className:"invite-badge"}," ",R.invites.length," pending"),f.createElement("div",{className:"project-actions"},(R.invites||[]).includes((N=t==null?void 0:t.email)==null?void 0:N.toLowerCase())&&f.createElement("div",{className:"action-group"},f.createElement("button",{className:"btn btn-small btn-accept",onClick:Q=>{Q.stopPropagation(),T(R)},title:"Accept invitation"},""),f.createElement("button",{className:"btn btn-small btn-reject",onClick:Q=>{Q.stopPropagation(),A(R)},title:"Reject invitation"},"")),R.owner===(t==null?void 0:t.uid)&&f.createElement("div",{className:"action-group"},f.createElement("button",{className:"btn btn-small btn-edit",onClick:Q=>{Q.stopPropagation();const oe=prompt("Deadline (YYYY-MM-DD):",R.deadline||"");oe!==null&&S(R.id,oe)},title:"Edit deadline"},""),f.createElement("button",{className:"btn btn-small btn-delete",onClick:Q=>{Q.stopPropagation(),k(R)},title:"Delete project"},"")),R.owner!==(t==null?void 0:t.uid)&&(R.members||[]).includes(t==null?void 0:t.uid)&&f.createElement("button",{className:"btn btn-small btn-leave",onClick:Q=>{Q.stopPropagation(),P(R)},title:"Leave project"}," Leave")))})),!E&&f.createElement("div",{className:"share-section"},f.createElement("div",{className:"share-row"},f.createElement("input",{placeholder:"Email to share...",value:c,onChange:R=>u(R.target.value),onKeyPress:R=>D(R,()=>{var N;const O=d||((N=r[0])==null?void 0:N.id);O?w(O):alert("Create a project first")}),className:"input-field"}),f.createElement("button",{className:"btn btn-primary",onClick:()=>{var O;const R=d||((O=r[0])==null?void 0:O.id);R?w(R):alert("Create a project first")}}," Share"))))}function Nie({user:t,filter:e}){const[n,r]=v.useState([]),[i,a]=v.useState(""),[o,s]=v.useState({}),[l,c]=v.useState(null),u=v.useRef(null);v.useEffect(()=>{if(!t)return;const k=t.uid,S=Mi(An(Ee,"tasks"),Co("owner","==",k)),x=ko(S,I=>{const D=I.docs.map(R=>({id:R.id,...R.data()}));r(D)});return()=>x()},[t]),v.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[n]);const d=async()=>{if(!i.trim()||!t)return;const k=t.uid,S=Ie(Ee,"tasks",`${k}_${Date.now()}`);await Fi(S,{owner:k,title:i,items:[],date:null,completed:!1}),a("")},h=async k=>{window.confirm("Delete this task?")&&(await jo(Ie(Ee,"tasks",k)),c(null))},m=async(k,S)=>{await _n(Ie(Ee,"tasks",k),{completed:!S})},g=async k=>{const S=prompt("Enter date (YYYY-MM-DD):");S&&await _n(Ie(Ee,"tasks",k),{date:S})},y=async k=>{var x;const S=(x=o[k.id])==null?void 0:x.trim();S&&(await _n(Ie(Ee,"tasks",k.id),{items:ww({text:S,done:!1})}),s(I=>({...I,[k.id]:""})))},E=async(k,S)=>{const x=k.items[S];await _n(Ie(Ee,"tasks",k.id),{items:gd(x)}),await _n(Ie(Ee,"tasks",k.id),{items:ww({...x,done:!x.done})})},b=async(k,S)=>{const x=k.items[S];await _n(Ie(Ee,"tasks",k.id),{items:gd(x)})},w=n.filter(k=>k.title.toLowerCase().includes((e||"").toLowerCase())),T=k=>{if(!k.items||k.items.length===0)return 0;const S=k.items.filter(x=>x.done).length;return Math.round(S/k.items.length*100)},A=k=>k?new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"No date",P=(k,S)=>{k.key==="Enter"&&S()};return f.createElement("div",{className:"todo-panel"},f.createElement("div",{className:"panel-header"},f.createElement("h3",{className:"panel-title"}," Tasks"),f.createElement("span",{className:"task-count"},w.length)),f.createElement("div",{className:"add-task-section"},f.createElement("div",{className:"task-input-row"},f.createElement("input",{placeholder:"New task...",value:i,onChange:k=>a(k.target.value),onKeyPress:k=>P(k,d),className:"input-field"}),f.createElement("button",{className:"btn btn-primary",onClick:d}," Add"))),f.createElement("div",{className:"todo-list scrollable",ref:u},w.length===0&&f.createElement("div",{className:"empty-state"},f.createElement("p",null," No tasks yet"),f.createElement("span",null,"Create one to get started!")),w.map(k=>{const S=T(k),x=l===k.id;return f.createElement("div",{key:k.id,className:`todo-card ${x?"expanded":""} ${k.completed?"completed":""}`,onClick:()=>c(x?null:k.id)},f.createElement("div",{className:"task-header"},f.createElement("div",{className:"task-info"},f.createElement("button",{className:"task-complete-btn",onClick:I=>{I.stopPropagation(),m(k.id,k.completed)},title:k.completed?"Mark as incomplete":"Mark as complete"},k.completed?"":""),f.createElement("div",{className:`task-title ${k.completed?"completed":""}`},k.title),k.items&&k.items.length>0&&f.createElement("div",{className:"task-progress"},f.createElement("div",{className:"progress-bar"},f.createElement("div",{className:"progress-fill",style:{width:`${S}%`}})),f.createElement("span",{className:"progress-text"},S,"%"))),f.createElement("div",{className:"task-meta"},f.createElement("span",{className:"date-badge"}," ",A(k.date)))),x&&f.createElement("div",{className:"task-content",onClick:I=>I.stopPropagation()},(k.items||[]).length>0&&f.createElement("div",{className:"checklist-section"},f.createElement("div",{className:"checklist-header"},"Subtasks (",S,"%)"),f.createElement("ul",{className:"checklist"},k.items.map((I,D)=>f.createElement("li",{key:D,className:`checklist-item ${I.done?"done":""}`},f.createElement("button",{className:"checkbox-btn",onClick:R=>{R.stopPropagation(),E(k,D)},title:"Toggle completion"},I.done?"":""),f.createElement("span",{className:"item-text"},I.text),f.createElement("button",{className:"btn-delete-item",onClick:R=>{R.stopPropagation(),b(k,D)},title:"Delete item"},""))))),f.createElement("div",{className:"add-item-section"},f.createElement("input",{placeholder:"Add subtask...",value:o[k.id]||"",onChange:I=>s(D=>({...D,[k.id]:I.target.value})),onKeyPress:I=>P(I,()=>y(k)),className:"input-field input-small",onClick:I=>I.stopPropagation()}),f.createElement("button",{className:"btn btn-small btn-add-item",onClick:I=>{I.stopPropagation(),y(k)}},"")),f.createElement("div",{className:"task-actions"},f.createElement("button",{className:"btn btn-small btn-edit",onClick:I=>{I.stopPropagation(),g(k.id)},title:"Edit date"}," Date"),f.createElement("button",{className:`btn btn-small ${k.completed?"btn-incomplete":"btn-complete"}`,onClick:I=>{I.stopPropagation(),m(k.id,k.completed)},title:k.completed?"Mark as incomplete":"Mark as complete"},k.completed?" Undo":" Complete"),f.createElement("button",{className:"btn btn-small btn-delete",onClick:I=>{I.stopPropagation(),h(k.id)},title:"Delete task"}," Delete"))))})))}const pp={title:"",description:"",priority:"medium",category:"work"};function Mie({isOpen:t,taskForm:e,setTaskForm:n,onClose:r,onSubmit:i,isLoading:a}){return t?f.createElement("div",{className:"modal-overlay",onClick:r},f.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},f.createElement("div",{className:"modal-header"},f.createElement("h3",null,"Create New Task"),f.createElement("button",{onClick:r,"aria-label":"Close modal"},"")),f.createElement("div",{className:"modal-body"},f.createElement("input",{type:"text",placeholder:"Task title...",value:e.title,onChange:o=>n({...e,title:o.target.value}),className:"modal-input",autoFocus:!0}),f.createElement("textarea",{placeholder:"Description (optional)...",value:e.description,onChange:o=>n({...e,description:o.target.value}),className:"modal-textarea",rows:"3"}),f.createElement("select",{value:e.priority,onChange:o=>n({...e,priority:o.target.value}),className:"modal-select"},f.createElement("option",{value:"low"},"Low Priority"),f.createElement("option",{value:"medium"},"Medium Priority"),f.createElement("option",{value:"high"},"High Priority")),f.createElement("select",{value:e.category,onChange:o=>n({...e,category:o.target.value}),className:"modal-select"},f.createElement("option",{value:"work"},"Work"),f.createElement("option",{value:"personal"},"Personal"),f.createElement("option",{value:"meeting"},"Meeting"),f.createElement("option",{value:"other"},"Other"))),f.createElement("div",{className:"modal-footer"},f.createElement("button",{className:"btn-secondary",onClick:r,disabled:a},"Cancel"),f.createElement("button",{className:"btn-primary",onClick:i,disabled:a},a?"Creating...":"Create Task")))):null}function Lie({isOpen:t,event:e,onClose:n,onToggleComplete:r,onDelete:i,isLoading:a}){var m,g,y,E,b,w,T;if(!t||!e)return null;const o=e.title||((m=e.extendedProps)==null?void 0:m.title)||"Untitled",s=e.start||((g=e.extendedProps)==null?void 0:g.date),l=(y=e.extendedProps)==null?void 0:y.description,c=((E=e.extendedProps)==null?void 0:E.priority)||"medium",u=((b=e.extendedProps)==null?void 0:b.category)||"work",d=((w=e.extendedProps)==null?void 0:w.completed)||!1,h=e.id||((T=e.extendedProps)==null?void 0:T.taskId);return f.createElement("div",{className:"modal-overlay",onClick:n},f.createElement("div",{className:"modal-content",onClick:A=>A.stopPropagation()},f.createElement("div",{className:"modal-header"},f.createElement("h3",null,o),f.createElement("button",{onClick:n,"aria-label":"Close modal"},"")),f.createElement("div",{className:"modal-body"},f.createElement("div",{className:"event-detail"},f.createElement("strong",null,"Date:")," ",s),l&&f.createElement("div",{className:"event-detail"},f.createElement("strong",null,"Description:")," ",l),f.createElement("div",{className:"event-detail"},f.createElement("strong",null,"Priority:"),f.createElement("span",{className:`priority-badge ${c}`},c)),f.createElement("div",{className:"event-detail"},f.createElement("strong",null,"Category:")," ",u),f.createElement("div",{className:"event-detail"},f.createElement("strong",null,"Status:"),f.createElement("span",{className:d?"status-done":"status-pending"},d?"Completed":"Pending"))),f.createElement("div",{className:"modal-footer"},f.createElement("button",{className:"btn-secondary",onClick:()=>r(h,d),disabled:a},d?"Mark Incomplete":"Mark Complete"),f.createElement("button",{className:"btn-danger",onClick:()=>i(h),disabled:a},a?"Deleting...":"Delete"))))}function jie({isOpen:t,onAction:e}){return t?f.createElement("div",{className:"quick-actions-menu"},f.createElement("button",{onClick:()=>e("task")}," New Task"),f.createElement("button",{onClick:()=>e("meeting")}," Schedule Meeting"),f.createElement("button",{onClick:()=>e("note")}," Quick Note")):null}function Fie({isOpen:t,notifications:e,onClose:n,onNotificationClick:r}){return t?f.createElement("div",{className:"notifications-panel"},f.createElement("div",{className:"panel-header"},f.createElement("strong",null,"Notifications"),f.createElement("button",{onClick:n,"aria-label":"Close notifications"},"")),e.length>0?e.map(i=>f.createElement("div",{key:i.id,className:`notif-item ${i.read?"read":"unread"}`,onClick:()=>r(i.id),role:"button",tabIndex:0},f.createElement("div",{className:"notif-message"},i.message),f.createElement("div",{className:"notif-time"},i.time))):f.createElement("div",{style:{padding:"16px",textAlign:"center"}},"No notifications")):null}function Vie({isOpen:t,onClose:e,events:n,projects:r,stats:i,user:a,plans:o}){const[s,l]=v.useState([]),[c,u]=v.useState(""),[d,h]=v.useState(!1),m=v.useRef(null),g=()=>{var E;(E=m.current)==null||E.scrollIntoView({behavior:"smooth"})};v.useEffect(()=>{g()},[s]);const y=async()=>{if(d||!c.trim())return;const E=c.trim(),b={role:"user",content:E};l(w=>[...w,b]),u(""),h(!0);try{const w={tasks:n.map(k=>{var S,x,I,D;return{id:k.id,title:k.title,date:k.start,description:(S=k.extendedProps)==null?void 0:S.description,priority:(x=k.extendedProps)==null?void 0:x.priority,category:(I=k.extendedProps)==null?void 0:I.category,completed:(D=k.extendedProps)==null?void 0:D.completed}}),plans:(o==null?void 0:o.map(k=>({id:k.id,title:k.title,description:k.description,dueDate:k.dueDate,priority:k.priority,status:k.status,category:k.category})))||[],projects:r.map(k=>{var S;return{id:k.id,name:k.name,description:k.description,members:((S=k.members)==null?void 0:S.length)||0,status:k.status}}),stats:i,userEmail:a==null?void 0:a.email},T=await fetch("https://dayzy.onrender.com/api/ai-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:E,context:w,userId:a==null?void 0:a.uid})});if(!T.ok)throw T.status===429?new Error("AI  "):new Error("Failed to get AI response");const P={role:"assistant",content:(await T.json()).response||"I couldn't process that request."};l(k=>[...k,P])}catch(w){console.error("Error:",w.message);const T={role:"assistant",content:w.message||" "};l(A=>[...A,T])}finally{h(!1)}};return t?f.createElement("div",{className:"ai-chat-modal-overlay",onClick:e},f.createElement("div",{className:"ai-chat-modal",onClick:E=>E.stopPropagation()},f.createElement("div",{className:"ai-chat-header"},f.createElement("h3",null," AI Assistant"),f.createElement("button",{onClick:e,"aria-label":"Close AI chat"},"")),f.createElement("div",{className:"ai-chat-messages"},s.length===0?f.createElement("div",{className:"ai-chat-welcome"},f.createElement("p",null," Hello! I'm your AI Assistant"),f.createElement("p",null,"I can help you with:"),f.createElement("ul",null,f.createElement("li",null," Analyze your tasks and projects"),f.createElement("li",null," Schedule and plan your work"),f.createElement("li",null," Get suggestions and insights"),f.createElement("li",null," Set priorities and goals"))):s.map((E,b)=>f.createElement("div",{key:b,className:`ai-chat-message ${E.role}`},f.createElement("div",{className:"ai-chat-avatar"},E.role==="user"?"":""),f.createElement("div",{className:"ai-chat-text"},E.content))),d&&f.createElement("div",{className:"ai-chat-message assistant"},f.createElement("div",{className:"ai-chat-avatar"},""),f.createElement("div",{className:"ai-chat-text"},f.createElement("span",{className:"typing-indicator"},f.createElement("span",null),f.createElement("span",null),f.createElement("span",null)))),f.createElement("div",{ref:m})),f.createElement("div",{className:"ai-chat-input-area"},f.createElement("input",{type:"text",placeholder:"Ask me anything about your tasks...",value:c,onChange:E=>u(E.target.value),className:"ai-chat-input",disabled:d}),f.createElement("button",{onClick:y,disabled:d||!c.trim(),className:"ai-chat-send-btn"},d?"":"")))):null}function ER({user:t,theme:e,setTheme:n}){const r=pn(),i=v.useRef(null),[a,o]=v.useState([]),[s,l]=v.useState([]),[c,u]=v.useState(!1),[d,h]=v.useState(typeof window<"u"&&window.innerWidth<720?"listWeek":"dayGridMonth"),[m,g]=v.useState(""),[y,E]=v.useState([]),[b,w]=v.useState(!1),[T,A]=v.useState(!1),[P,k]=v.useState(!1),[S,x]=v.useState(null),[I,D]=v.useState(null),[R,O]=v.useState(!1),[N,Q]=v.useState({totalTasks:0,completedTasks:0,totalProjects:0,upcomingEvents:0}),[oe,he]=v.useState([]),[Z,W]=v.useState(0),[q,ne]=v.useState(pp),[we,z]=v.useState(!1),[re,pe]=v.useState(!1),{filteredEvents:Me,filteredProjects:te,searchResults:Oe}=v.useMemo(()=>{if(!m.trim())return{filteredEvents:a,filteredProjects:y,searchResults:{tasks:[],projects:[]}};const ie=m.toLowerCase(),xe=a.filter(Ze=>{var lt,Vt;return Ze.title.toLowerCase().includes(ie)||((Vt=(lt=Ze.extendedProps)==null?void 0:lt.description)==null?void 0:Vt.toLowerCase().includes(ie))}),Pe=y.filter(Ze=>{var lt,Vt;return((lt=Ze.name)==null?void 0:lt.toLowerCase().includes(ie))||((Vt=Ze.description)==null?void 0:Vt.toLowerCase().includes(ie))});return{filteredEvents:xe,filteredProjects:Pe,searchResults:{tasks:xe,projects:Pe}}},[m,a,y]),qn=m.trim().length>0;v.useEffect(()=>{if(e)try{localStorage.setItem("dayzy_theme",e)}catch(ie){console.warn("Failed to save theme:",ie.message)}},[e]),v.useEffect(()=>{const ie=()=>{var Pe,Ze;const xe=window.innerWidth<720?"listWeek":"dayGridMonth";xe!==d&&(h(xe),(Ze=(Pe=i.current)==null?void 0:Pe.getApi())==null||Ze.changeView(xe))};return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[d]),v.useEffect(()=>{if(!(t!=null&&t.uid))return;const ie=Mi(An(Ee,"tasks"),Co("owner","==",t.uid)),xe=ko(ie,Pe=>{const Ze=Pe.docs.map(De=>{const Te=De.data();return{id:De.id,title:(Te==null?void 0:Te.title)||"Task",start:Te==null?void 0:Te.date,extendedProps:{taskId:De.id,description:(Te==null?void 0:Te.description)||"",priority:(Te==null?void 0:Te.priority)||"medium",category:(Te==null?void 0:Te.category)||"work",completed:(Te==null?void 0:Te.completed)||!1,createdAt:(Te==null?void 0:Te.createdAt)||new Date().toISOString()}}});o(Ze);const lt=Ze.filter(De=>De.extendedProps.completed).length,Vt=Ze.filter(De=>new Date(De.start)>new Date).length;Q(De=>({...De,totalTasks:Ze.length,completedTasks:lt,upcomingEvents:Vt}))},Pe=>console.error("Error loading tasks:",Pe));return()=>xe()},[t==null?void 0:t.uid]),v.useEffect(()=>{if(!(t!=null&&t.uid))return;const ie=Mi(An(Ee,"plans"),Co("userId","==",t.uid)),xe=ko(ie,Pe=>{const Ze=Pe.docs.map(lt=>({id:lt.id,...lt.data()}));l(Ze)},Pe=>console.error("Error loading plans:",Pe));return()=>xe()},[t==null?void 0:t.uid]),v.useEffect(()=>{if(!(t!=null&&t.uid)||!(t!=null&&t.email))return;const ie=t.uid,xe=t.email.toLowerCase(),Pe=ko(An(Ee,"projects"),Ze=>{const lt=[];Ze.forEach(Vt=>{const De=Vt.data(),Te=De.members||[],$a=De.invites||[];(Te.includes(ie)||$a.includes(xe))&&lt.push({id:Vt.id,...De})}),E(lt),Q(Vt=>({...Vt,totalProjects:lt.length}))},Ze=>console.error("Error loading projects:",Ze));return()=>Pe()},[t==null?void 0:t.uid,t==null?void 0:t.email]),v.useEffect(()=>{if(!(t!=null&&t.uid))return;const ie=[{id:1,type:"task",message:"Task 'Project Review' is due tomorrow",time:"2h ago",read:!1},{id:2,type:"project",message:"New member joined 'Website Redesign'",time:"5h ago",read:!1},{id:3,type:"reminder",message:"Weekly meeting at 3 PM",time:"1d ago",read:!0}];he(ie),W(ie.filter(xe=>!xe.read).length)},[t==null?void 0:t.uid]),v.useEffect(()=>{const ie=()=>{w(!1),O(!1)};return document.addEventListener("click",ie),()=>document.removeEventListener("click",ie)},[]);const H=v.useCallback(()=>{A(!1),ne(pp),x(null)},[]),be=v.useCallback(()=>{k(!1),D(null)},[]),Ae=v.useCallback(ie=>{x(ie.dateStr),ne(pp),A(!0)},[]),j=v.useCallback(ie=>{const xe=a.find(Pe=>Pe.id===ie.event.id)||ie.event;D(xe),k(!0)},[a]),ee=v.useCallback(async()=>{if(!q.title.trim()||!(t!=null&&t.uid)||!S){alert("Please fill in all required fields");return}z(!0);try{const ie=t.uid,xe=`${ie}_${S}_${Date.now()}`,Pe={owner:ie,title:q.title.trim(),description:q.description.trim(),date:S,priority:q.priority,category:q.category,completed:!1,items:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await Fi(Ie(Ee,"tasks",xe),Pe),H(),g("")}catch(ie){console.error("Error creating task:",ie),alert("Failed to create task. Please try again.")}finally{z(!1)}},[q,t==null?void 0:t.uid,S,H]),ae=v.useCallback(async ie=>{if(window.confirm("Are you sure you want to delete this task?")){z(!0);try{await jo(Ie(Ee,"tasks",ie)),be()}catch(xe){console.error("Error deleting task:",xe),alert("Failed to delete task. Please try again.")}finally{z(!1)}}},[be]),Re=v.useCallback(async(ie,xe)=>{z(!0);try{await _n(Ie(Ee,"tasks",ie),{completed:!xe,updatedAt:new Date().toISOString()}),D(Pe=>Pe&&{...Pe,extendedProps:{...Pe.extendedProps,completed:!xe}})}catch(Pe){console.error("Error updating task:",Pe),alert("Failed to update task. Please try again.")}finally{z(!1)}},[]),gt=v.useCallback(()=>{n(ie=>{const xe=ie==="dark"?"light":"dark";try{localStorage.setItem("dayzy_theme",xe)}catch(Pe){console.warn("Failed to save theme:",Pe.message)}return xe})},[n]),an=v.useCallback(async()=>{try{await ZS(Xn),r("/Login",{replace:!0})}catch(ie){console.error("Logout failed:",ie),alert("Failed to logout. Please try again.")}},[r]);v.useCallback(async()=>{if(t!=null&&t.uid){z(!0);try{const xe=(await qs(Mi(An(Ee,"tasks"),Co("owner","==",t.uid)))).docs.map(Te=>({id:Te.id,...Te.data()})),Pe={exportDate:new Date().toISOString(),tasks:xe,projects:y,stats:N},Ze=JSON.stringify(Pe,null,2),lt=new Blob([Ze],{type:"application/json"}),Vt=URL.createObjectURL(lt),De=document.createElement("a");De.href=Vt,De.download=`dayzy-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(De),De.click(),document.body.removeChild(De),URL.revokeObjectURL(Vt),alert("Data exported successfully!")}catch(ie){console.error("Export failed:",ie),alert("Failed to export data. Please try again.")}finally{z(!1),u(!1)}}},[t==null?void 0:t.uid,y,N]);const qi=v.useCallback(ie=>{w(!1);const xe=new Date().toISOString().split("T")[0];switch(ie){case"task":x(xe),ne(pp),A(!0);break;case"project":r("/projects/new");break;case"meeting":x(xe),ne({title:"",description:"",priority:"medium",category:"meeting"}),A(!0);break;case"note":r("/notes/new");break}},[r]),bl=v.useCallback(ie=>{he(xe=>xe.map(Pe=>Pe.id===ie?{...Pe,read:!0}:Pe)),W(xe=>Math.max(0,xe-1))},[]);return f.createElement("div",{className:`dash-app ${e==="dark"?"dark-mode":"light-mode"}`},f.createElement("header",{className:"dash-header"},f.createElement("div",{className:"left-header"},f.createElement("button",{className:"hamburger-btn","aria-label":"Open menu",onClick:()=>u(!0)},f.createElement("span",{className:"hamburger-lines"},"")),f.createElement("div",{className:"brand",onClick:()=>r("/"),style:{cursor:"pointer"},role:"button",tabIndex:0,onKeyDown:ie=>ie.key==="Enter"&&r("/")},"DayZy")),f.createElement("div",{className:"right-header"},f.createElement("div",{className:"search-container"},f.createElement("input",{type:"text",placeholder:" Search tasks & projects...",value:m,onChange:ie=>g(ie.target.value),className:"search-input","aria-label":"Search tasks and projects"}),m&&f.createElement("button",{className:"search-clear-btn",onClick:()=>g(""),title:"Clear search","aria-label":"Clear search"},""),qn&&f.createElement("div",{className:"search-dropdown"},Oe.tasks.length===0&&Oe.projects.length===0?f.createElement("div",{className:"search-empty"},"No results found"):f.createElement(f.Fragment,null,Oe.tasks.length>0&&f.createElement("div",{className:"search-section"},f.createElement("div",{className:"search-section-title"}," Tasks (",Oe.tasks.length,")"),Oe.tasks.map(ie=>f.createElement("div",{key:ie.id,className:"search-result-item",onClick:()=>{D(ie),k(!0),g("")},role:"button",tabIndex:0},f.createElement("div",{className:"result-title"},ie.title),f.createElement("div",{className:"result-meta"},ie.start,"  ",ie.extendedProps.priority)))),Oe.projects.length>0&&f.createElement("div",{className:"search-section"},f.createElement("div",{className:"search-section-title"}," Projects (",Oe.projects.length,")"),Oe.projects.map(ie=>f.createElement("div",{key:ie.id,className:"search-result-item",onClick:()=>r(`/projects/${ie.id}`),role:"button",tabIndex:0},f.createElement("div",{className:"result-title"},ie.name),f.createElement("div",{className:"result-meta"},(ie.members||[]).length," members"))))))),f.createElement("div",{className:"header-actions"},f.createElement("div",{className:"quick-actions-wrapper",onClick:ie=>ie.stopPropagation()},f.createElement("button",{className:"icon-btn",title:"Quick Actions","aria-label":"Quick actions",onClick:()=>w(!b)},""),f.createElement(jie,{isOpen:b,onAction:qi})),f.createElement("div",{className:"notifications-wrapper",onClick:ie=>ie.stopPropagation()},f.createElement("button",{className:"icon-btn",title:"Notifications","aria-label":"Notifications",onClick:()=>O(!R)},"",Z>0&&f.createElement("span",{className:"notification-badge"},Z)),f.createElement(Fie,{isOpen:R,notifications:oe,onClose:()=>O(!1),onNotificationClick:bl})),f.createElement("button",{className:"icon-btn",title:"Toggle theme","aria-label":"Toggle theme",onClick:gt},e==="dark"?"":""),f.createElement("div",{className:"user-badge"},(t==null?void 0:t.email)||"User"),f.createElement("button",{className:"logout-small",onClick:an,"aria-label":"Logout"},"Logout")))),f.createElement("div",{className:`drawer ${c?"open":""}`,role:"dialog","aria-label":"Navigation menu"},f.createElement("div",{className:"drawer-header"},f.createElement("div",{className:"drawer-title"},"Menu"),f.createElement("button",{className:"close-drawer",onClick:()=>u(!1),"aria-label":"Close menu"},"")),f.createElement("div",{className:"drawer-body"},f.createElement("div",{className:"stats-section"},f.createElement("h4",null," Overview"),f.createElement("div",{className:"stat-item"},f.createElement("span",null,"Total Tasks:"),f.createElement("strong",null,N.totalTasks)),f.createElement("div",{className:"stat-item"},f.createElement("span",null,"Completed:"),f.createElement("strong",null,N.completedTasks)),f.createElement("div",{className:"stat-item"},f.createElement("span",null,"Projects:"),f.createElement("strong",null,N.totalProjects)),f.createElement("div",{className:"stat-item"},f.createElement("span",null,"Upcoming:"),f.createElement("strong",null,N.upcomingEvents))),f.createElement("div",{className:"drawer-divider"}),f.createElement("button",{className:"drawer-item",onClick:()=>{r("/profile"),u(!1)}}," Profile"),f.createElement("button",{className:"drawer-item",onClick:()=>{r("/notifications"),u(!1)}}," Notifications"),f.createElement("button",{className:"drawer-item",onClick:()=>{r("/settings"),u(!1)}}," Settings"),f.createElement("button",{className:"drawer-item",onClick:()=>{r("/developer"),u(!1)}}," Developer"),f.createElement("div",{className:"drawer-divider"}),f.createElement("button",{className:"drawer-item",onClick:()=>{r("/analytics"),u(!1)}}," Analytics"),f.createElement("button",{className:"drawer-item",onClick:()=>{r("/help"),u(!1)}}," Help & Support"),f.createElement("button",{className:"drawer-item",onClick:()=>{r("/about"),u(!1)}}," About"),f.createElement("button",{className:"drawer-item",onClick:gt}," Toggle Theme"),f.createElement("button",{className:"drawer-item",onClick:()=>{r("/notes"),u(!1)}}," Quick Note"),f.createElement("button",{className:"drawer-item",onClick:()=>{r("/plan"),u(!1)}}," Plan"),f.createElement("div",{className:"drawer-divider"}),f.createElement("button",{className:"drawer-item",onClick:()=>{pe(!0),u(!1)}}," AI Assistant"),f.createElement("div",{className:"drawer-divider"}),f.createElement("button",{className:"drawer-item destructive",onClick:an}," Logout"))),f.createElement("div",{className:`drawer-backdrop ${c?"visible":""}`,onClick:()=>u(!1),role:"presentation"}),f.createElement(Mie,{isOpen:T,taskForm:q,setTaskForm:ne,onClose:H,onSubmit:ee,isLoading:we}),f.createElement(Lie,{isOpen:P,event:I,onClose:be,onToggleComplete:Re,onDelete:ae,isLoading:we}),f.createElement(Vie,{isOpen:re,onClose:()=>pe(!1),events:a,projects:y,stats:N,user:t,plans:s,db:Ee}),f.createElement("main",{className:"dash-main"},f.createElement("aside",{className:"left-panels"},qn&&f.createElement("div",{className:"filter-badge"},f.createElement("span",null,' Searching: "',m,'"'),f.createElement("button",{onClick:()=>g(""),className:"badge-close","aria-label":"Clear filter"},"")),f.createElement("div",{className:"panel-card"},f.createElement(Oie,{user:t,searchFilter:m,filteredProjects:te})),f.createElement("div",{className:"panel-card"},f.createElement(Nie,{user:t,filter:m}))),f.createElement("section",{className:"calendar-area"},f.createElement(UU,{plugins:[dre,Ore,Gre,Die],initialView:d,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,listWeek"},events:qn?Me:a,dateClick:Ae,eventClick:j,ref:i,height:"auto",dayMaxEventRows:3,weekNumbers:!1,eventDisplay:"block",editable:!0,selectable:!0,eventDidMount:ie=>{var xe;(xe=ie.event.extendedProps)!=null&&xe.completed&&(ie.el.style.opacity="0.6")}}))))}function iz(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=iz(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function He(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=iz(t))&&(r&&(r+=" "),r+=e);return r}var Uie=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Cx(t){if(typeof t!="string")return!1;var e=Uie;return e.includes(t)}var zie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Bie=new Set(zie);function az(t){return typeof t!="string"?!1:Bie.has(t)}function oz(t){return typeof t=="string"&&t.startsWith("data-")}function Rr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(az(n)||oz(n))&&(e[n]=t[n]);return e}function Qs(t){if(t==null)return null;if(v.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Rr(e)}return typeof t=="object"&&!Array.isArray(t)?Rr(t):null}function tr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(az(n)||oz(n)||Cx(n))&&(e[n]=t[n]);return e}function $ie(t){return t==null?null:v.isValidElement(t)?tr(t.props):typeof t=="object"&&!Array.isArray(t)?tr(t):null}var Wie=["children","width","height","viewBox","className","style","title","desc"];function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(null,arguments)}function Hie(t,e){if(t==null)return{};var n,r,i=qie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kx=v.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=t,u=Hie(t,Wie),d=a||{width:r,height:i,x:0,y:0},h=He("recharts-surface",o);return v.createElement("svg",Vw({},tr(u),{className:h,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),Gie=["children","className"];function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uw.apply(null,arguments)}function Kie(t,e){if(t==null)return{};var n,r,i=Yie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hn=v.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Kie(t,Gie),a=He("recharts-layer",r);return v.createElement("g",Uw({className:a},tr(i),{ref:e}),n)}),sz=v.createContext(null),Qie=()=>v.useContext(sz);function at(t){return function(){return t}}const lz=Math.cos,vg=Math.sin,vi=Math.sqrt,yg=Math.PI,uy=2*yg,zw=Math.PI,Bw=2*zw,fs=1e-6,Xie=Bw-fs;function cz(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Zie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cz;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Jie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cz:Zie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,c=i-n,u=o-e,d=s-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>fs)if(!(Math.abs(d*l-c*u)>fs)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,g=i-s,y=l*l+c*c,E=m*m+g*g,b=Math.sqrt(y),w=Math.sqrt(h),T=a*Math.tan((zw-Math.acos((y+h-E)/(2*b*w)))/2),A=T/w,P=T/b;Math.abs(A-1)>fs&&this._append`L${e+A*u},${n+A*d}`,this._append`A${a},${a},0,0,${+(d*m>u*g)},${this._x1=e+P*l},${this._y1=n+P*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>fs||Math.abs(this._y1-u)>fs)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%Bw+Bw),h>Xie?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>fs&&this._append`A${r},${r},0,${+(h>=zw)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ix(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Jie(e)}function Px(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function uz(t){this._context=t}uz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function dy(t){return new uz(t)}function dz(t){return t[0]}function fz(t){return t[1]}function hz(t,e){var n=at(!0),r=null,i=dy,a=null,o=Ix(s);t=typeof t=="function"?t:t===void 0?dz:at(t),e=typeof e=="function"?e:e===void 0?fz:at(e);function s(l){var c,u=(l=Px(l)).length,d,h=!1,m;for(r==null&&(a=i(m=o())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:at(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:at(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:at(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function mp(t,e,n){var r=null,i=at(!0),a=null,o=dy,s=null,l=Ix(c);t=typeof t=="function"?t:t===void 0?dz:at(+t),e=typeof e=="function"?e:at(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?fz:at(+n);function c(d){var h,m,g,y=(d=Px(d)).length,E,b=!1,w,T=new Array(y),A=new Array(y);for(a==null&&(s=o(w=l())),h=0;h<=y;++h){if(!(h<y&&i(E=d[h],h,d))===b)if(b=!b)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(T[g],A[g]);s.lineEnd(),s.areaEnd()}b&&(T[h]=+t(E,h,d),A[h]=+e(E,h,d),s.point(r?+r(E,h,d):T[h],n?+n(E,h,d):A[h]))}if(w)return s=null,w+""||null}function u(){return hz().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:at(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:at(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:at(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:at(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:at(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:at(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:at(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class pz{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function eae(t){return new pz(t,!0)}function tae(t){return new pz(t,!1)}const Rx={draw(t,e){const n=vi(e/yg);t.moveTo(n,0),t.arc(0,0,n,0,uy)}},nae={draw(t,e){const n=vi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mz=vi(1/3),rae=mz*2,iae={draw(t,e){const n=vi(e/rae),r=n*mz;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},aae={draw(t,e){const n=vi(e),r=-n/2;t.rect(r,r,n,n)}},oae=.8908130915292852,gz=vg(yg/10)/vg(7*yg/10),sae=vg(uy/10)*gz,lae=-lz(uy/10)*gz,cae={draw(t,e){const n=vi(e*oae),r=sae*n,i=lae*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=uy*a/5,s=lz(o),l=vg(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},kE=vi(3),uae={draw(t,e){const n=-vi(e/(kE*3));t.moveTo(0,n*2),t.lineTo(-kE*n,-n),t.lineTo(kE*n,-n),t.closePath()}},Mr=-.5,Lr=vi(3)/2,$w=1/vi(12),dae=($w/2+1)*3,fae={draw(t,e){const n=vi(e/dae),r=n/2,i=n*$w,a=r,o=n*$w+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Mr*r-Lr*i,Lr*r+Mr*i),t.lineTo(Mr*a-Lr*o,Lr*a+Mr*o),t.lineTo(Mr*s-Lr*l,Lr*s+Mr*l),t.lineTo(Mr*r+Lr*i,Mr*i-Lr*r),t.lineTo(Mr*a+Lr*o,Mr*o-Lr*a),t.lineTo(Mr*s+Lr*l,Mr*l-Lr*s),t.closePath()}};function hae(t,e){let n=null,r=Ix(i);t=typeof t=="function"?t:at(t||Rx),e=typeof e=="function"?e:at(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:at(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:at(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Eg(){}function bg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function vz(t){this._context=t}vz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pae(t){return new vz(t)}function yz(t){this._context=t}yz.prototype={areaStart:Eg,areaEnd:Eg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mae(t){return new yz(t)}function Ez(t){this._context=t}Ez.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gae(t){return new Ez(t)}function bz(t){this._context=t}bz.prototype={areaStart:Eg,areaEnd:Eg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function vae(t){return new bz(t)}function bR(t){return t<0?-1:1}function wR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(bR(a)+bR(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function _R(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function IE(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function wg(t){this._context=t}wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:IE(this,this._t0,_R(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,IE(this,_R(this,n=wR(this,t,e)),n);break;default:IE(this,this._t0,n=wR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function wz(t){this._context=new _z(t)}(wz.prototype=Object.create(wg.prototype)).point=function(t,e){wg.prototype.point.call(this,e,t)};function _z(t){this._context=t}_z.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function yae(t){return new wg(t)}function Eae(t){return new wz(t)}function Sz(t){this._context=t}Sz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=SR(t),i=SR(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function SR(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function bae(t){return new Sz(t)}function fy(t,e){this._context=t,this._t=e}fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function wae(t){return new fy(t,.5)}function _ae(t){return new fy(t,0)}function Sae(t){return new fy(t,1)}function Xs(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ww(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Aae(t,e){return t[e]}function xae(t){const e=[];return e.key=t,e}function Tae(){var t=at([]),e=Ww,n=Xs,r=Aae;function i(a){var o=Array.from(t.apply(this,arguments),xae),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(d,o[s].key,c,a)]).data=d;for(s=0,u=Px(e(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:at(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:at(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Ww:typeof a=="function"?a:at(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Xs,i):n},i}function Cae(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Xs(t,e)}}function kae(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Xs(t,e)}}function Iae(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],d=u[r][1]||0,h=u[r-1][1]||0,m=(d-h)/2,g=0;g<s;++g){var y=t[e[g]],E=y[r][1]||0,b=y[r-1][1]||0;m+=E-b}l+=d,c+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Xs(t,e)}}var hy={},Az={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Az);var Dx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Dx);var py={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(py);var my={},xz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(xz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xz,n=py;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const d=i[s];c?d==="\\"&&s+1<o?(s++,l+=i[s]):d===c?c="":l+=d:u?d==='"'||d==="'"?c=d:d==="]"?(u=!1,a.push(l),l=""):l+=d:d==="["?(u=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,s++}return l&&a.push(l),a}t.toPath=r})(my);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Az,n=Dx,r=py,i=my;function a(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?n.isDeepKey(l)?a(s,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=s[l];return u===void 0?c:u}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?c:u}}}function o(s,l,c){if(l.length===0)return c;let u=s;for(let d=0;d<l.length;d++){if(u==null||e.isUnsafeProperty(l[d]))return c;u=u[l[d]]}return u===void 0?c:u}t.get=a})(hy);var Pae=hy.get;const Zs=Da(Pae);var Rae=4;function mo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rae,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Rt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,o)=>{var s=n[o-1];return typeof s=="string"?i+s+a:s!==void 0?i+mo(s)+a:i+a},"")}var dn=t=>t===0?0:t>0?1:-1,hi=t=>typeof t=="number"&&t!=+t,xa=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ue=t=>(typeof t=="number"||t instanceof Number)&&!hi(t),Ui=t=>ue(t)||typeof t=="string",Dae=0,Jd=t=>{var e=++Dae;return"".concat(t||"").concat(e)},zn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(e)&&typeof e!="string")return r;var a;if(xa(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return hi(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},Tz=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function yt(t,e,n){return ue(t)&&ue(e)?mo(t+n*(e-t)):e}function Cz(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Zs(r,e))===n)}var _t=t=>t===null||typeof t>"u",Uf=t=>_t(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Oae(t){return t!=null}function zf(){}var Nae=["type","size","sizeType"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(null,arguments)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=jae(t,"string");return typeof e=="symbol"?e:e+""}function jae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fae(t,e){if(t==null)return{};var n,r,i=Vae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kz={symbolCircle:Rx,symbolCross:nae,symbolDiamond:iae,symbolSquare:aae,symbolStar:cae,symbolTriangle:uae,symbolWye:fae},Uae=Math.PI/180,zae=t=>{var e="symbol".concat(Uf(t));return kz[e]||Rx},Bae=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Uae;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$ae=(t,e)=>{kz["symbol".concat(Uf(t))]=e},Ox=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Fae(t,Nae),a=xR(xR({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var s=()=>{var h=zae(o),m=hae().type(h).size(Bae(n,r,o)),g=m();if(g!==null)return g},{className:l,cx:c,cy:u}=a,d=tr(a);return ue(c)&&ue(u)&&ue(n)?v.createElement("path",Hw({},d,{className:He("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:s()})):null};Ox.registerSymbol=$ae;var Iz=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Nx=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Cx(i)&&(r[i]=a=>n[i](n,a))}),r},Wae=(t,e,n)=>r=>(t(e,n,r),null),Bf=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];Cx(i)&&typeof a=="function"&&(r||(r={}),r[i]=Wae(a,e,n))}),r};function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qae(t,e,n){return(e=Gae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gae(t){var e=Kae(t,"string");return typeof e=="symbol"?e:e+""}function Kae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yt(t,e){var n=Hae({},t),r=e,i=Object.keys(e),a=i.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return a}function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(null,arguments)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){Qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qae(t,e,n){return(e=Xae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xae(t){var e=Zae(t,"string");return typeof e=="symbol"?e:e+""}function Zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fr=32,Jae={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function eoe(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Fr/2,a=Fr/6,o=Fr/3,s=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline"){var c;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(c=e.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:Fr,y2:i,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Fr,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Fr/8,"h").concat(Fr,"v").concat(Fr*3/4,"h").concat(-Fr,"z"),className:"recharts-legend-icon"});if(v.isValidElement(e.legendIcon)){var u=Yae({},e);return delete u.legendIcon,v.cloneElement(e.legendIcon,u)}return v.createElement(Ox,{fill:s,cx:i,cy:i,size:Fr,sizeType:"diameter",type:l})}function toe(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=t,s={x:0,y:0,width:Fr,height:Fr},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,d)=>{var h=u.formatter||i,m=He({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?a:u.color,y=h?h(u.value,u,d):u.value;return v.createElement("li",_g({className:m,style:l,key:"legend-item-".concat(d)},Bf(t,u,d)),v.createElement(kx,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(y," legend icon")},v.createElement(eoe,{data:u,iconType:o,inactiveColor:a})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var noe=t=>{var e=Yt(t,Jae),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},v.createElement(toe,_g({},e,{payload:n})))},Pz={},Rz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],s=r(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}t.uniqBy=e})(Rz);var Mx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Mx);var Dz={},gy={},Oz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Oz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oz;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(gy);var Nz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Nz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gy,n=Nz;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Dz);var Mz={},Lz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hy;function n(r){return function(i){return e.get(i,r)}}t.property=n})(Lz);var jz={},Lx={},Fz={},jx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(jx);var Fx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Fx);var Vx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Vx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jx,n=Fx,r=Vx;function i(u,d,h){return typeof h!="function"?i(u,d,()=>{}):a(u,d,function m(g,y,E,b,w,T){const A=h(g,y,E,b,w,T);return A!==void 0?!!A:a(g,y,m,T)},new Map)}function a(u,d,h,m){if(d===u)return!0;switch(typeof d){case"object":return o(u,d,h,m);case"function":return Object.keys(d).length>0?a(u,{...d},h,m):r.eq(u,d);default:return e.isObject(u)?typeof d=="string"?d==="":!0:r.eq(u,d)}}function o(u,d,h,m){if(d==null)return!0;if(Array.isArray(d))return l(u,d,h,m);if(d instanceof Map)return s(u,d,h,m);if(d instanceof Set)return c(u,d,h,m);const g=Object.keys(d);if(u==null||n.isPrimitive(u))return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===u;m==null||m.set(d,u);try{for(let y=0;y<g.length;y++){const E=g[y];if(!n.isPrimitive(u)&&!(E in u)||d[E]===void 0&&u[E]!==void 0||d[E]===null&&u[E]!==null||!h(u[E],d[E],E,u,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function s(u,d,h,m){if(d.size===0)return!0;if(!(u instanceof Map))return!1;for(const[g,y]of d.entries()){const E=u.get(g);if(h(E,y,g,u,d,m)===!1)return!1}return!0}function l(u,d,h,m){if(d.length===0)return!0;if(!Array.isArray(u))return!1;const g=new Set;for(let y=0;y<d.length;y++){const E=d[y];let b=!1;for(let w=0;w<u.length;w++){if(g.has(w))continue;const T=u[w];let A=!1;if(h(T,E,y,u,d,m)&&(A=!0),A){g.add(w),b=!0;break}}if(!b)return!1}return!0}function c(u,d,h,m){return d.size===0?!0:u instanceof Set?l([...u],[...d],h,m):!1}t.isMatchWith=i,t.isSetMatch=c})(Fz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fz;function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Lx);var Vz={},Ux={},Uz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Uz);var zx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(zx);var Bx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",d="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",E="[object Uint8Array]",b="[object Uint8ClampedArray]",w="[object Uint16Array]",T="[object Uint32Array]",A="[object BigUint64Array]",P="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",x="[object BigInt64Array]",I="[object Float32Array]",D="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=h,t.arrayTag=u,t.bigInt64ArrayTag=x,t.bigUint64ArrayTag=A,t.booleanTag=i,t.dataViewTag=y,t.dateTag=s,t.errorTag=g,t.float32ArrayTag=I,t.float64ArrayTag=D,t.functionTag=d,t.int16ArrayTag=k,t.int32ArrayTag=S,t.int8ArrayTag=P,t.mapTag=l,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=w,t.uint32ArrayTag=T,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=b})(Bx);var zz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(zz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uz,n=zx,r=Bx,i=Fx,a=zz;function o(u,d){return s(u,void 0,u,new Map,d)}function s(u,d,h,m=new Map,g=void 0){const y=g==null?void 0:g(u,d,h,m);if(y!==void 0)return y;if(i.isPrimitive(u))return u;if(m.has(u))return m.get(u);if(Array.isArray(u)){const E=new Array(u.length);m.set(u,E);for(let b=0;b<u.length;b++)E[b]=s(u[b],b,h,m,g);return Object.hasOwn(u,"index")&&(E.index=u.index),Object.hasOwn(u,"input")&&(E.input=u.input),E}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const E=new RegExp(u.source,u.flags);return E.lastIndex=u.lastIndex,E}if(u instanceof Map){const E=new Map;m.set(u,E);for(const[b,w]of u)E.set(b,s(w,b,h,m,g));return E}if(u instanceof Set){const E=new Set;m.set(u,E);for(const b of u)E.add(s(b,void 0,h,m,g));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const E=new(Object.getPrototypeOf(u)).constructor(u.length);m.set(u,E);for(let b=0;b<u.length;b++)E[b]=s(u[b],b,h,m,g);return E}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const E=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return m.set(u,E),l(E,u,h,m,g),E}if(typeof File<"u"&&u instanceof File){const E=new File([u],u.name,{type:u.type});return m.set(u,E),l(E,u,h,m,g),E}if(typeof Blob<"u"&&u instanceof Blob){const E=new Blob([u],{type:u.type});return m.set(u,E),l(E,u,h,m,g),E}if(u instanceof Error){const E=new u.constructor;return m.set(u,E),E.message=u.message,E.name=u.name,E.stack=u.stack,E.cause=u.cause,l(E,u,h,m,g),E}if(u instanceof Boolean){const E=new Boolean(u.valueOf());return m.set(u,E),l(E,u,h,m,g),E}if(u instanceof Number){const E=new Number(u.valueOf());return m.set(u,E),l(E,u,h,m,g),E}if(u instanceof String){const E=new String(u.valueOf());return m.set(u,E),l(E,u,h,m,g),E}if(typeof u=="object"&&c(u)){const E=Object.create(Object.getPrototypeOf(u));return m.set(u,E),l(E,u,h,m,g),E}return u}function l(u,d,h=u,m,g){const y=[...Object.keys(d),...e.getSymbols(d)];for(let E=0;E<y.length;E++){const b=y[E],w=Object.getOwnPropertyDescriptor(u,b);(w==null||w.writable)&&(u[b]=s(d[b],b,h,m,g))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=s,t.copyProperties=l})(Ux);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ux;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Vz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lx,n=Vz;function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(jz);var Bz={},$z={},Wz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ux,n=Bx;function r(i,a){return e.cloneDeepWith(i,(o,s,l,c)=>{const u=a==null?void 0:a(o,s,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(d,i),d}case n.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}t.cloneDeepWith=r})(Wz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wz;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})($z);var Hz={},$x={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})($x);var qz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zx;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(qz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dx,n=$x,r=qz,i=my;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&e.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let u=0;u<l.length;u++){const d=l[u];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}t.has=a})(Hz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lx,n=py,r=$z,i=hy,a=Hz;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,s);return u===void 0?a.has(c,s):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=o})(Bz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mx,n=Lz,r=jz,i=Bz;function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(Mz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rz,n=Mx,r=Dz,i=Mz;function a(o,s=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(s)):[]}t.uniqBy=a})(Pz);var roe=Pz.uniqBy;const kR=Da(roe);function Gz(t,e,n){return e===!0?kR(t,n):typeof e=="function"?kR(t,e):t}var Kz={exports:{}},Yz={},Qz={exports:{}},Xz={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nc=v;function ioe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var aoe=typeof Object.is=="function"?Object.is:ioe,ooe=Nc.useState,soe=Nc.useEffect,loe=Nc.useLayoutEffect,coe=Nc.useDebugValue;function uoe(t,e){var n=e(),r=ooe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return loe(function(){i.value=n,i.getSnapshot=e,PE(i)&&a({inst:i})},[t,n,e]),soe(function(){return PE(i)&&a({inst:i}),t(function(){PE(i)&&a({inst:i})})},[t]),coe(n),n}function PE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!aoe(t,n)}catch{return!0}}function doe(t,e){return e()}var foe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?doe:uoe;Xz.useSyncExternalStore=Nc.useSyncExternalStore!==void 0?Nc.useSyncExternalStore:foe;Qz.exports=Xz;var hoe=Qz.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy=v,poe=hoe;function moe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var goe=typeof Object.is=="function"?Object.is:moe,voe=poe.useSyncExternalStore,yoe=vy.useRef,Eoe=vy.useEffect,boe=vy.useMemo,woe=vy.useDebugValue;Yz.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=yoe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=boe(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,goe(u,m))return g;var y=r(m);return i!==void 0&&i(g,y)?(u=m,g):(u=m,d=y)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var s=voe(t,a[0],a[1]);return Eoe(function(){o.hasValue=!0,o.value=s},[s]),woe(s),s};Kz.exports=Yz;var _oe=Kz.exports,Wx=v.createContext(null),Soe=t=>t,st=()=>{var t=v.useContext(Wx);return t?t.store.dispatch:Soe},sm=()=>{},Aoe=()=>sm,xoe=(t,e)=>t===e;function de(t){var e=v.useContext(Wx);return _oe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Aoe,e?e.store.getState:sm,e?e.store.getState:sm,e?t:sm,xoe)}function Toe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Coe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function koe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var IR=t=>Array.isArray(t)?t:[t];function Ioe(t){const e=Array.isArray(t[0])?t[0]:t;return koe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Poe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Roe=class{constructor(t){this.value=t}deref(){return this.value}},Doe=typeof WeakRef<"u"?WeakRef:Roe,Ooe=0,PR=1;function gp(){return{s:Ooe,v:void 0,o:null,p:null}}function Zz(t,e={}){let n=gp();const{resultEqualityCheck:r}=e;let i,a=0;function o(){var d;let s=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=s.o;y===null&&(s.o=y=new WeakMap);const E=y.get(g);E===void 0?(s=gp(),y.set(g,s)):s=E}else{let y=s.p;y===null&&(s.p=y=new Map);const E=y.get(g);E===void 0?(s=gp(),y.set(g,s)):s=E}}const c=s;let u;if(s.s===PR)u=s.v;else if(u=t.apply(null,arguments),a++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,u)&&(u=h,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Doe(u):u}return c.s=PR,c.v=u,u}return o.clearCache=()=>{n=gp(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Noe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),Toe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:m=Zz,argsMemoizeOptions:g=[]}=u,y=IR(h),E=IR(g),b=Ioe(i),w=d(function(){return a++,c.apply(null,arguments)},...y),T=m(function(){o++;const P=Poe(b,arguments);return s=w.apply(null,P),s},...E);return Object.assign(T,{resultFunc:c,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var V=Noe(Zz),Moe=Object.assign((t,e=V)=>{Coe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,s,l)=>(o[n[l]]=s,o),{}))},{withTypes:()=>Moe}),Jz={},eB={},tB={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),s=e(i);if(o===s&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};t.compareValues=n})(tB);var nB={},Hx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Hx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hx,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(nB);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tB,n=nB,r=my;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const c=(m,g)=>{let y=m;for(let E=0;E<g.length&&y!=null;++E)y=y[g[E]];return y},u=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:c(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?c(g,m):typeof g=="object"?g[m]:g,d=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:d.map(g=>u(g,m))})).slice().sort((m,g)=>{for(let y=0;y<d.length;y++){const E=e.compareValues(m.criteria[y],g.criteria[y],s[y]);if(E!==0)return E}return 0}).map(m=>m.original)}t.orderBy=i})(eB);var rB={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(s,l)=>{for(let c=0;c<s.length;c++){const u=s[c];Array.isArray(u)&&l<a?o(u,l+1):i.push(u)}};return o(n,0),i}t.flatten=e})(rB);var qx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$x,n=gy,r=jx,i=Vx;function a(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&e.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}t.isIterateeCall=a})(qx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eB,n=rB,r=qx;function i(a,...o){const s=o.length;return s>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(Jz);var Loe=Jz.sortBy;const yy=Da(Loe);var iB=t=>t.legend.settings,joe=t=>t.legend.size,Foe=t=>t.legend.payload,Voe=V([Foe,iB],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?yy(r,n):r});function Uoe(){return de(Voe)}var vp=1;function aB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>vp||Math.abs(o.left-e.left)>vp||Math.abs(o.top-e.top)>vp||Math.abs(o.width-e.width)>vp)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function yn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zoe=typeof Symbol=="function"&&Symbol.observable||"@@observable",RR=zoe,RE=()=>Math.random().toString(36).substring(7).split("").join("."),Boe={INIT:`@@redux/INIT${RE()}`,REPLACE:`@@redux/REPLACE${RE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${RE()}`},Sg=Boe;function Gx(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function oB(t,e,n){if(typeof t!="function")throw new Error(yn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(yn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(yn(1));return n(oB)(t,e)}let r=t,i=e,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((E,b)=>{o.set(b,E)}))}function u(){if(l)throw new Error(yn(3));return i}function d(E){if(typeof E!="function")throw new Error(yn(4));if(l)throw new Error(yn(5));let b=!0;c();const w=s++;return o.set(w,E),function(){if(b){if(l)throw new Error(yn(6));b=!1,c(),o.delete(w),a=null}}}function h(E){if(!Gx(E))throw new Error(yn(7));if(typeof E.type>"u")throw new Error(yn(8));if(typeof E.type!="string")throw new Error(yn(17));if(l)throw new Error(yn(9));try{l=!0,i=r(i,E)}finally{l=!1}return(a=o).forEach(w=>{w()}),E}function m(E){if(typeof E!="function")throw new Error(yn(10));r=E,h({type:Sg.REPLACE})}function g(){const E=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(yn(11));function w(){const A=b;A.next&&A.next(u())}return w(),{unsubscribe:E(w)}},[RR](){return this}}}return h({type:Sg.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:m,[RR]:g}}function $oe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Sg.INIT})>"u")throw new Error(yn(12));if(typeof n(void 0,{type:Sg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yn(13))})}function sB(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{$oe(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],h=n[d],m=o[d],g=h(m,s);if(typeof g>"u")throw s&&s.type,new Error(yn(14));c[d]=g,l=l||g!==m}return l=l||r.length!==Object.keys(o).length,l?c:o}}function Ag(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Woe(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(yn(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=t.map(l=>l(o));return a=Ag(...s)(i.dispatch),{...i,dispatch:a}}}function lB(t){return Gx(t)&&"type"in t&&typeof t.type=="string"}var cB=Symbol.for("immer-nothing"),DR=Symbol.for("immer-draftable"),nr=Symbol.for("immer-state");function ri(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xr=Object,Mc=xr.getPrototypeOf,xg="constructor",Ey="prototype",qw="configurable",Tg="enumerable",lm="writable",ef="value",Ta=t=>!!t&&!!t[nr];function pi(t){var e;return t?uB(t)||wy(t)||!!t[DR]||!!((e=t[xg])!=null&&e[DR])||_y(t)||Sy(t):!1}var Hoe=xr[Ey][xg].toString(),OR=new WeakMap;function uB(t){if(!t||!Kx(t))return!1;const e=Mc(t);if(e===null||e===xr[Ey])return!0;const n=xr.hasOwnProperty.call(e,xg)&&e[xg];if(n===Object)return!0;if(!Ol(n))return!1;let r=OR.get(n);return r===void 0&&(r=Function.toString.call(n),OR.set(n,r)),r===Hoe}function by(t,e,n=!0){$f(t)===0?(n?Reflect.ownKeys(t):xr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function $f(t){const e=t[nr];return e?e.type_:wy(t)?1:_y(t)?2:Sy(t)?3:0}var NR=(t,e,n=$f(t))=>n===2?t.has(e):xr[Ey].hasOwnProperty.call(t,e),Gw=(t,e,n=$f(t))=>n===2?t.get(e):t[e],Cg=(t,e,n,r=$f(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function qoe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var wy=Array.isArray,_y=t=>t instanceof Map,Sy=t=>t instanceof Set,Kx=t=>typeof t=="object",Ol=t=>typeof t=="function",DE=t=>typeof t=="boolean";function Goe(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Xi=t=>t.copy_||t.base_,Yx=t=>t.modified_?t.copy_:t.base_;function Kw(t,e){if(_y(t))return new Map(t);if(Sy(t))return new Set(t);if(wy(t))return Array[Ey].slice.call(t);const n=uB(t);if(e===!0||e==="class_only"&&!n){const r=xr.getOwnPropertyDescriptors(t);delete r[nr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s[lm]===!1&&(s[lm]=!0,s[qw]=!0),(s.get||s.set)&&(r[o]={[qw]:!0,[lm]:!0,[Tg]:s[Tg],[ef]:t[o]})}return xr.create(Mc(t),r)}else{const r=Mc(t);if(r!==null&&n)return{...t};const i=xr.create(r);return xr.assign(i,t)}}function Qx(t,e=!1){return Ay(t)||Ta(t)||!pi(t)||($f(t)>1&&xr.defineProperties(t,{set:yp,add:yp,clear:yp,delete:yp}),xr.freeze(t),e&&by(t,(n,r)=>{Qx(r,!0)},!1)),t}function Koe(){ri(2)}var yp={[ef]:Koe};function Ay(t){return t===null||!Kx(t)?!0:xr.isFrozen(t)}var kg="MapSet",Yw="Patches",MR="ArrayMethods",dB={};function Js(t){const e=dB[t];return e||ri(0,t),e}var LR=t=>!!dB[t],tf,fB=()=>tf,Yoe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:LR(kg)?Js(kg):void 0,arrayMethodsPlugin_:LR(MR)?Js(MR):void 0});function jR(t,e){e&&(t.patchPlugin_=Js(Yw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Qw(t){Xw(t),t.drafts_.forEach(Qoe),t.drafts_=null}function Xw(t){t===tf&&(tf=t.parent_)}var FR=t=>tf=Yoe(tf,t);function Qoe(t){const e=t[nr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function VR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[nr].modified_&&(Qw(e),ri(4)),pi(t)&&(t=UR(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[nr].base_,t,e)}else t=UR(e,n);return Xoe(e,t,!0),Qw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==cB?t:void 0}function UR(t,e){if(Ay(e))return e;const n=e[nr];if(!n)return Ig(e,t.handledSet_,t);if(!xy(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);mB(n,t)}return n.copy_}function Xoe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Qx(e,n)}function hB(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var xy=(t,e)=>t.scope_===e,Zoe=[];function pB(t,e,n,r){const i=Xi(t),a=t.type_;if(r!==void 0&&Gw(i,r,a)===e){Cg(i,r,n,a);return}if(!t.draftLocations_){const s=t.draftLocations_=new Map;by(i,(l,c)=>{if(Ta(c)){const u=s.get(c)||[];u.push(l),s.set(c,u)}})}const o=t.draftLocations_.get(e)??Zoe;for(const s of o)Cg(i,s,n,a)}function Joe(t,e,n){t.callbacks_.push(function(i){var s;const a=e;if(!a||!xy(a,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(a);const o=Yx(a);pB(t,a.draft_??a,o,n),mB(a,i)})}function mB(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}hB(t)}}function ese(t,e,n){const{scope_:r}=t;if(Ta(n)){const i=n[nr];xy(i,r)&&i.callbacks_.push(function(){cm(t);const o=Yx(i);pB(t,n,o,e)})}else pi(n)&&t.callbacks_.push(function(){const a=Xi(t);t.type_===3?a.has(n)&&Ig(n,r.handledSet_,r):Gw(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Ig(Gw(t.copy_,e,t.type_),r.handledSet_,r)})}function Ig(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ta(t)||e.has(t)||!pi(t)||Ay(t)||(e.add(t),by(t,(r,i)=>{if(Ta(i)){const a=i[nr];if(xy(a,n)){const o=Yx(a);Cg(t,r,o,t.type_),hB(a)}}else pi(i)&&Ig(i,e,n)})),t}function tse(t,e){const n=wy(t),r={type_:n?1:0,scope_:e?e.scope_:fB(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Pg;n&&(i=[r],a=nf);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,[s,r]}var Pg={get(t,e){if(e===nr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Xi(t);if(!NR(i,e,t.type_))return nse(t,i,e);const a=i[e];if(t.finalized_||!pi(a)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&Goe(e))return a;if(a===OE(t.base_,e)){cm(t);const o=t.type_===1?+e:e,s=Jw(t.scope_,a,t,o);return t.copy_[o]=s}return a},has(t,e){return e in Xi(t)},ownKeys(t){return Reflect.ownKeys(Xi(t))},set(t,e,n){const r=gB(Xi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=OE(Xi(t),e),a=i==null?void 0:i[nr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(qoe(n,i)&&(n!==void 0||NR(t.base_,e,t.type_)))return!0;cm(t),Zw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),ese(t,e,n)),!0},deleteProperty(t,e){return cm(t),OE(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),Zw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Xi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[lm]:!0,[qw]:t.type_!==1||e!=="length",[Tg]:r[Tg],[ef]:n[e]}},defineProperty(){ri(11)},getPrototypeOf(t){return Mc(t.base_)},setPrototypeOf(){ri(12)}},nf={};for(let t in Pg){let e=Pg[t];nf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}nf.deleteProperty=function(t,e){return nf.set.call(this,t,e,void 0)};nf.set=function(t,e,n){return Pg.set.call(this,t[0],e,n,t[0])};function OE(t,e){const n=t[nr];return(n?Xi(n):t)[e]}function nse(t,e,n){var i;const r=gB(e,n);return r?ef in r?r[ef]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function gB(t,e){if(!(e in t))return;let n=Mc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Mc(n)}}function Zw(t){t.modified_||(t.modified_=!0,t.parent_&&Zw(t.parent_))}function cm(t){t.copy_||(t.assigned_=new Map,t.copy_=Kw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var rse=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ol(n)&&!Ol(r)){const o=r;r=n;const s=this;return function(c=o,...u){return s.produce(c,d=>r.call(this,d,...u))}}Ol(r)||ri(6),i!==void 0&&!Ol(i)&&ri(7);let a;if(pi(n)){const o=FR(this),s=Jw(o,n,void 0);let l=!0;try{a=r(s),l=!1}finally{l?Qw(o):Xw(o)}return jR(o,i),VR(a,o)}else if(!n||!Kx(n)){if(a=r(n),a===void 0&&(a=n),a===cB&&(a=void 0),this.autoFreeze_&&Qx(a,!0),i){const o=[],s=[];Js(Yw).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else ri(1,n)},this.produceWithPatches=(n,r)=>{if(Ol(n))return(s,...l)=>this.produceWithPatches(s,c=>n(c,...l));let i,a;return[this.produce(n,r,(s,l)=>{i=s,a=l}),i,a]},DE(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),DE(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),DE(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){pi(e)||ri(8),Ta(e)&&(e=ci(e));const n=FR(this),r=Jw(n,e,void 0);return r[nr].isManual_=!0,Xw(n),r}finishDraft(e,n){const r=e&&e[nr];(!r||!r.isManual_)&&ri(9);const{scope_:i}=r;return jR(i,n),VR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Js(Yw).applyPatches_;return Ta(e)?i(e,n):this.produce(e,a=>i(a,n))}};function Jw(t,e,n,r){const[i,a]=_y(e)?Js(kg).proxyMap_(e,n):Sy(e)?Js(kg).proxySet_(e,n):tse(e,n);return((n==null?void 0:n.scope_)??fB()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?Joe(n,a,r):a.callbacks_.push(function(l){var u;(u=l.mapSetPlugin_)==null||u.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function ci(t){return Ta(t)||ri(10,t),vB(t)}function vB(t){if(!pi(t)||Ay(t))return t;const e=t[nr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Kw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Kw(t,!0);return by(n,(i,a)=>{Cg(n,i,vB(a))},r),e&&(e.finalized_=!1),n}var ise=new rse,yB=ise.produce;function EB(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var ase=EB(),ose=EB,sse=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ag:Ag.apply(null,arguments)};function Kr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ir(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>lB(r)&&r.type===t,n}var bB=class ed extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ed.prototype)}static get[Symbol.species](){return ed}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ed(...e[0].concat(this)):new ed(...e.concat(this))}};function zR(t){return pi(t)?yB(t,()=>{}):t}function Ep(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function lse(t){return typeof t=="boolean"}var cse=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new bB;return n&&(lse(n)?o.push(ase):o.push(ose(n.extraArgument))),o},wB="RTK_autoBatch",vt=()=>t=>({payload:t,meta:{[wB]:!0}}),BR=t=>e=>{setTimeout(e,t)},_B=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const s=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BR(10):t.type==="callback"?t.queueNotification:BR(t.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),h=r.subscribe(d);return s.add(u),()=>{h(),s.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[wB]),a=!i,a&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},use=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new bB(t);return r&&i.push(_B(typeof r=="object"?r:void 0)),i};function dse(t){const e=cse(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let s;if(typeof n=="function")s=n;else if(Gx(n))s=sB(n);else throw new Error(Ir(1));let l;typeof r=="function"?l=r(e):l=e();let c=Ag;i&&(c=sse({trace:!1,...typeof i=="object"&&i}));const u=Woe(...l),d=use(u);let h=typeof o=="function"?o(d):d();const m=c(...h);return oB(s,a,m)}function SB(t){const e={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Ir(28));if(s in e)throw new Error(Ir(29));return e[s]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function fse(t){return typeof t=="function"}function hse(t,e){let[n,r,i]=SB(e),a;if(fse(t))a=()=>zR(t());else{const s=zR(t);a=()=>s}function o(s=a(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Ta(u)){const m=d(u,l);return m===void 0?u:m}else{if(pi(u))return yB(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},s)}return o.getInitialState=a,o}var pse="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mse=(t=21)=>{let e="",n=t;for(;n--;)e+=pse[Math.random()*64|0];return e},gse=Symbol.for("rtk-slice-createasyncthunk");function vse(t,e){return`${t}/${e}`}function yse({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[gse];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Ir(11));const s=(typeof i.reducers=="function"?i.reducers(bse()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(A,P){const k=typeof A=="string"?A:A.type;if(!k)throw new Error(Ir(12));if(k in c.sliceCaseReducersByType)throw new Error(Ir(13));return c.sliceCaseReducersByType[k]=P,u},addMatcher(A,P){return c.sliceMatchers.push({matcher:A,reducer:P}),u},exposeAction(A,P){return c.actionCreators[A]=P,u},exposeCaseReducer(A,P){return c.sliceCaseReducersByName[A]=P,u}};l.forEach(A=>{const P=s[A],k={reducerName:A,type:vse(a,A),createNotation:typeof i.reducers=="function"};_se(P)?Ase(k,P,u,e):wse(k,P,u)});function d(){const[A={},P=[],k=void 0]=typeof i.extraReducers=="function"?SB(i.extraReducers):[i.extraReducers],S={...A,...c.sliceCaseReducersByType};return hse(i.initialState,x=>{for(let I in S)x.addCase(I,S[I]);for(let I of c.sliceMatchers)x.addMatcher(I.matcher,I.reducer);for(let I of P)x.addMatcher(I.matcher,I.reducer);k&&x.addDefaultCase(k)})}const h=A=>A,m=new Map,g=new WeakMap;let y;function E(A,P){return y||(y=d()),y(A,P)}function b(){return y||(y=d()),y.getInitialState()}function w(A,P=!1){function k(x){let I=x[A];return typeof I>"u"&&P&&(I=Ep(g,k,b)),I}function S(x=h){const I=Ep(m,P,()=>new WeakMap);return Ep(I,x,()=>{const D={};for(const[R,O]of Object.entries(i.selectors??{}))D[R]=Ese(O,x,()=>Ep(g,x,b),P);return D})}return{reducerPath:A,getSelectors:S,get selectors(){return S(k)},selectSlice:k}}const T={name:a,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...w(o),injectInto(A,{reducerPath:P,...k}={}){const S=P??o;return A.inject({reducerPath:S,reducer:E},k),{...T,...w(S,!0)}}};return T}}function Ese(t,e,n,r){function i(a,...o){let s=e(a);return typeof s>"u"&&r&&(s=n()),t(s,...o)}return i.unwrapped=t,i}var mr=yse();function bse(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function wse({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Sse(r))throw new Error(Ir(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?Kr(t,o):Kr(t))}function _se(t){return t._reducerDefinitionType==="asyncThunk"}function Sse(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ase({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ir(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=n,d=i(t,a,u);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),s&&r.addCase(d.pending,s),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||bp,pending:s||bp,rejected:l||bp,settled:c||bp})}function bp(){}var xse="task",AB="listener",xB="completed",Xx="cancelled",Tse=`task-${Xx}`,Cse=`task-${xB}`,e_=`${AB}-${Xx}`,kse=`${AB}-${xB}`,Ty=class{constructor(t){A0(this,"name","TaskAbortError");A0(this,"message");this.code=t,this.message=`${xse} ${Xx} (reason: ${t})`}},Zx=(t,e)=>{if(typeof t!="function")throw new TypeError(Ir(32))},Rg=()=>{},TB=(t,e=Rg)=>(t.catch(e),t),CB=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Rs=t=>{if(t.aborted)throw new Ty(t.reason)};function kB(t,e){let n=Rg;return new Promise((r,i)=>{const a=()=>i(new Ty(t.reason));if(t.aborted){a();return}n=CB(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Rg})}var Ise=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Ty?"cancelled":"rejected",error:n}}finally{e==null||e()}},Dg=t=>e=>TB(kB(t,e).then(n=>(Rs(t),n))),IB=t=>{const e=Dg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:uc}=Object,$R={},Cy="listenerMiddleware",Pse=(t,e)=>{const n=r=>CB(t,()=>r.abort(t.reason));return(r,i)=>{Zx(r);const a=new AbortController;n(a);const o=Ise(async()=>{Rs(t),Rs(a.signal);const s=await r({pause:Dg(a.signal),delay:IB(a.signal),signal:a.signal});return Rs(a.signal),s},()=>a.abort(Cse));return i!=null&&i.autoJoin&&e.push(o.catch(Rg)),{result:Dg(t)(o),cancel(){a.abort(Tse)}}}},Rse=(t,e)=>{const n=async(r,i)=>{Rs(e);let a=()=>{};const s=[new Promise((l,c)=>{let u=t({predicate:r,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await kB(e,Promise.race(s));return Rs(e),l}finally{a()}};return(r,i)=>TB(n(r,i))},PB=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Kr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ir(21));return Zx(a),{predicate:i,type:e,effect:a}},RB=uc(t=>{const{type:e,predicate:n,effect:r}=PB(t);return{id:mse(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ir(22))}}},{withTypes:()=>RB}),WR=(t,e)=>{const{type:n,effect:r,predicate:i}=PB(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},t_=t=>{t.pending.forEach(e=>{e.abort(e_)})},Dse=(t,e)=>()=>{for(const n of e.keys())t_(n);t.clear()},HR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},DB=uc(Kr(`${Cy}/add`),{withTypes:()=>DB}),Ose=Kr(`${Cy}/removeAll`),OB=uc(Kr(`${Cy}/remove`),{withTypes:()=>OB}),Nse=(...t)=>{console.error(`${Cy}/error`,...t)},Wf=(t={})=>{const e=new Map,n=new Map,r=m=>{const g=n.get(m)??0;n.set(m,g+1)},i=m=>{const g=n.get(m)??1;g===1?n.delete(m):n.set(m,g-1)},{extra:a,onError:o=Nse}=t;Zx(o);const s=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&t_(m)}),l=m=>{const g=WR(e,m)??RB(m);return s(g)};uc(l,{withTypes:()=>l});const c=m=>{const g=WR(e,m);return g&&(g.unsubscribe(),m.cancelActive&&t_(g)),!!g};uc(c,{withTypes:()=>c});const u=async(m,g,y,E)=>{const b=new AbortController,w=Rse(l,b.signal),T=[];try{m.pending.add(b),r(m),await Promise.resolve(m.effect(g,uc({},y,{getOriginalState:E,condition:(A,P)=>w(A,P).then(Boolean),take:w,delay:IB(b.signal),pause:Dg(b.signal),extra:a,signal:b.signal,fork:Pse(b.signal,T),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((A,P,k)=>{A!==b&&(A.abort(e_),k.delete(A))})},cancel:()=>{b.abort(e_),m.pending.delete(b)},throwIfCancelled:()=>{Rs(b.signal)}})))}catch(A){A instanceof Ty||HR(o,A,{raisedBy:"effect"})}finally{await Promise.all(T),b.abort(kse),i(m),m.pending.delete(b)}},d=Dse(e,n);return{middleware:m=>g=>y=>{if(!lB(y))return g(y);if(DB.match(y))return l(y.payload);if(Ose.match(y)){d();return}if(OB.match(y))return c(y.payload);let E=m.getState();const b=()=>{if(E===$R)throw new Error(Ir(23));return E};let w;try{if(w=g(y),e.size>0){const T=m.getState(),A=Array.from(e.values());for(const P of A){let k=!1;try{k=P.predicate(y,T,E)}catch(S){k=!1,HR(o,S,{raisedBy:"predicate"})}k&&u(P,y,m,b)}}}finally{E=$R}return w},startListening:l,stopListening:c,clearListeners:d}};function Ir(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Mse={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},NB=mr({name:"chartLayout",initialState:Mse,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Lse,setLayout:jse,setChartSize:Fse,setScale:Vse}=NB.actions,Use=NB.reducer;function MB(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function kt(t){return Number.isFinite(t)}function zi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zse(t,e,n){return(e=Bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bse(t){var e=$se(t,"string");return typeof e=="symbol"?e:e+""}function $se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function et(t,e,n){return _t(t)||_t(e)?n:Ui(e)?Zs(t,e,n):typeof e=="function"?e(t):n}var Wse=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=e;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&ue(t[a]))return Kl(Kl({},t),{},{[a]:t[a]+(r||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&ue(t[o]))return Kl(Kl({},t),{},{[o]:t[o]+(i||0)})}return t},Zo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",LB=(t,e,n,r)=>{if(r)return t.map(s=>s.coordinate);var i,a,o=t.map(s=>(s.coordinate===e&&(i=!0),s.coordinate===n&&(a=!0),s.coordinate));return i||o.push(e),a||o.push(n),o},jB=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:m}=t;if(!o)return null;var g=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=i==="category"&&o.bandwidth?o.bandwidth()/g:0;if(y=m==="angleAxis"&&a&&a.length>=2?dn(a[0]-a[1])*2*y:y,d||h){var E=(d||h||[]).map((b,w)=>{var T=r?r.indexOf(b):b;return{coordinate:o(T)+y,value:b,offset:y,index:w}});return E.filter(b=>!hi(b.coordinate))}return l&&c?c.map((b,w)=>({coordinate:o(b)+y,value:b,index:w,offset:y})):o.ticks&&u!=null?o.ticks(u).map((b,w)=>({coordinate:o(b)+y,value:b,offset:y,index:w})):o.domain().map((b,w)=>({coordinate:o(b)+y,value:r?r[b]:b,index:w,offset:y}))},GR=1e-4,Hse=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-GR,a=Math.max(r[0],r[1])+GR,o=t(e[0]),s=t(e[n-1]);(o<i||o>a||s<i||s>a)&&t.domain([e[0],e[n-1]])}},qse=(t,e)=>{if(!e||e.length!==2||!ue(e[0])||!ue(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ue(t[0])||t[0]<n)&&(i[0]=n),(!ue(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Gse=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0,s=0;s<n;++s){var l=t[s],c=l==null?void 0:l[i];if(c!=null){var u=c[1],d=c[0],h=hi(u)?d:u;h>=0?(c[0]=a,c[1]=a+h,a=u):(c[0]=o,c[1]=o+h,o=u)}}}},Kse=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0;o<n;++o){var s=t[o],l=s==null?void 0:s[i];if(l!=null){var c=hi(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},Yse={sign:Gse,expand:Cae,none:Xs,silhouette:kae,wiggle:Iae,positive:Kse},Qse=(t,e,n)=>{var r,i=(r=Yse[n])!==null&&r!==void 0?r:Xs,a=Tae().keys(e).value((s,l)=>Number(et(s,l,0))).order(Ww).offset(i),o=a(t);return o.forEach((s,l)=>{s.forEach((c,u)=>{var d=et(t[u],e[l],0);Array.isArray(d)&&d.length===2&&ue(d[0])&&ue(d[1])&&(c[0]=d[0],c[1]=d[1])})}),o};function Xse(t){return t==null?void 0:String(t)}function KR(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_t(i[e.dataKey])){var s=Cz(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=et(i,_t(o)?e.dataKey:o);return _t(l)?null:e.scale(l)}var YR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var s=et(a,e.dataKey,e.scale.domain()[o]);return _t(s)?null:e.scale(s)-i/2+r},Zse=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Jse=t=>{var e=t.flat(2).filter(ue);return[Math.min(...e),Math.max(...e)]},ele=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],tle=(t,e,n)=>{if(t!=null)return ele(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:o}=a,s=o.reduce((l,c)=>{var u=MB(c,e,n),d=Jse(u);return!kt(d[0])||!kt(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},QR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lc=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=yy(e,u=>u.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function ZR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Kl(Kl({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Jc(t,e){if(t)return String(t);if(typeof e=="string")return e}var nle=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},rle=(t,e)=>e==="centric"?t.angle:t.radius,La=t=>t.layout.width,ja=t=>t.layout.height,ile=t=>t.layout.scale,FB=t=>t.layout.margin,ky=V(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Iy=V(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),VB="data-recharts-item-index",UB="data-recharts-item-id",Hf=60;function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){ale(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ale(t,e,n){return(e=ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ole(t){var e=sle(t,"string");return typeof e=="symbol"?e:e+""}function sle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lle=t=>t.brush.height;function cle(t){var e=Iy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Hf;return n+i}return n},0)}function ule(t){var e=Iy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Hf;return n+i}return n},0)}function dle(t){var e=ky(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function fle(t){var e=ky(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var en=V([La,ja,FB,lle,cle,ule,dle,fle,iB,joe],(t,e,n,r,i,a,o,s,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},d={top:(n.top||0)+o,bottom:(n.bottom||0)+s},h=wp(wp({},d),u),m=h.bottom;h.bottom+=r,h=Wse(h,l,c);var g=t-h.left-h.right,y=e-h.top-h.bottom;return wp(wp({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(y,0)})}),hle=V(en,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Jx=V(La,ja,(t,e)=>({x:0,y:0,width:t,height:e})),ple=v.createContext(null),Hn=()=>v.useContext(ple)!=null,Py=t=>t.brush,Ry=V([Py,en,FB],(t,e,n)=>({height:t.height,x:ue(t.x)?t.x:e.left,y:ue(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ue(t.width)?t.width:e.width})),zB={},BB={},$B={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},d=()=>{c&&u(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},r)},g=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{g(),o=void 0,s=null},E=()=>{u()},b=function(...w){if(i!=null&&i.aborted)return;o=this,s=w;const T=h==null;m(),l&&T&&u()};return b.schedule=m,b.cancel=y,b.flush=E,i==null||i.addEventListener("abort",y,{once:!0}),b}t.debounce=e})($B);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$B;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let u,d=null;const h=e.debounce(function(...y){u=r.apply(this,y),d=null},i,{edges:c}),m=function(...y){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(u=r.apply(this,y),d=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,y),u)},g=()=>(h.flush(),u);return m.cancel=h.cancel,m.flush=g,m}t.debounce=n})(BB);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BB;function n(r,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:s})}t.throttle=n})(zB);var mle=zB.throttle;const gle=Da(mle);var Og=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},WB=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,s=xa(r)?t:Number(r),l=xa(i)?e:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},vle={width:0,height:0,overflow:"visible"},yle={width:0,overflowX:"visible"},Ele={height:0,overflowY:"visible"},ble={},wle=t=>{var{width:e,height:n}=t,r=xa(e),i=xa(n);return r&&i?vle:r?yle:i?Ele:ble};function _le(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(null,arguments)}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){Sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sle(t,e,n){return(e=Ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ale(t){var e=xle(t,"string");return typeof e=="symbol"?e:e+""}function xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HB=v.createContext({width:-1,height:-1});function Tle(t){return zi(t.width)&&zi(t.height)}function qB(t){var{children:e,width:n,height:r}=t,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return Tle(i)?v.createElement(HB.Provider,{value:i},e):null}var eT=()=>v.useContext(HB),Cle=v.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:d,className:h,onResize:m,style:g={}}=t,y=v.useRef(null),E=v.useRef();E.current=m,v.useImperativeHandle(e,()=>y.current);var[b,w]=v.useState({containerWidth:r.width,containerHeight:r.height}),T=v.useCallback((x,I)=>{w(D=>{var R=Math.round(x),O=Math.round(I);return D.containerWidth===R&&D.containerHeight===O?D:{containerWidth:R,containerHeight:O}})},[]);v.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return zf;var x=O=>{var N,{width:Q,height:oe}=O[0].contentRect;T(Q,oe),(N=E.current)===null||N===void 0||N.call(E,Q,oe)};u>0&&(x=gle(x,u,{trailing:!0,leading:!1}));var I=new ResizeObserver(x),{width:D,height:R}=y.current.getBoundingClientRect();return T(D,R),I.observe(y.current),()=>{I.disconnect()}},[T,u]);var{containerWidth:A,containerHeight:P}=b;Og(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:S}=WB(A,P,{width:i,height:a,aspect:n,maxHeight:l});return Og(k!=null&&k>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,S,i,a,o,s,n),v.createElement("div",{id:d?"".concat(d):void 0,className:He("recharts-responsive-container",h),style:tD(tD({},g),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:y},v.createElement("div",{style:wle({width:i,height:a})},v.createElement(qB,{width:k,height:S},c)))}),_p=v.forwardRef((t,e)=>{var n=eT();if(zi(n.width)&&zi(n.height))return t.children;var{width:r,height:i}=_le({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:o}=WB(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ue(a)&&ue(o)?v.createElement(qB,{width:a,height:o},t.children):v.createElement(Cle,n_({},t,{width:r,height:i,ref:e}))});function GB(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Dy=()=>{var t,e=Hn(),n=de(hle),r=de(Ry),i=(t=de(Py))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},kle={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},KB=()=>{var t;return(t=de(en))!==null&&t!==void 0?t:kle},tT=()=>de(La),nT=()=>de(ja),Ile=()=>de(t=>t.layout.margin),Ue=t=>t.layout.layoutType,eu=()=>de(Ue),Ple=()=>{var t=eu();return t!==void 0},Oy=t=>{var e=st(),n=Hn(),{width:r,height:i}=t,a=eT(),o=r,s=i;return a&&(o=a.width>0?a.width:r,s=a.height>0?a.height:i),v.useEffect(()=>{!n&&zi(o)&&zi(s)&&e(Fse({width:o,height:s}))},[e,n,o,s]),null},YB=Symbol.for("immer-nothing"),nD=Symbol.for("immer-draftable"),Dr=Symbol.for("immer-state");function ii(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var rf=Object.getPrototypeOf;function jc(t){return!!t&&!!t[Dr]}function el(t){var e;return t?QB(t)||Array.isArray(t)||!!t[nD]||!!((e=t.constructor)!=null&&e[nD])||qf(t)||My(t):!1}var Rle=Object.prototype.constructor.toString(),rD=new WeakMap;function QB(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=rD.get(n);return r===void 0&&(r=Function.toString.call(n),rD.set(n,r)),r===Rle}function Ng(t,e,n=!0){Ny(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Ny(t){const e=t[Dr];return e?e.type_:Array.isArray(t)?1:qf(t)?2:My(t)?3:0}function r_(t,e){return Ny(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function XB(t,e,n){const r=Ny(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Dle(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function qf(t){return t instanceof Map}function My(t){return t instanceof Set}function hs(t){return t.copy_||t.base_}function i_(t,e){if(qf(t))return new Map(t);if(My(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=QB(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Dr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(rf(t),r)}else{const r=rf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function rT(t,e=!1){return Ly(t)||jc(t)||!el(t)||(Ny(t)>1&&Object.defineProperties(t,{set:Sp,add:Sp,clear:Sp,delete:Sp}),Object.freeze(t),e&&Object.values(t).forEach(n=>rT(n,!0))),t}function Ole(){ii(2)}var Sp={value:Ole};function Ly(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Nle={};function tl(t){const e=Nle[t];return e||ii(0,t),e}var af;function ZB(){return af}function Mle(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iD(t,e){e&&(tl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function a_(t){o_(t),t.drafts_.forEach(Lle),t.drafts_=null}function o_(t){t===af&&(af=t.parent_)}function aD(t){return af=Mle(af,t)}function Lle(t){const e=t[Dr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function oD(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Dr].modified_&&(a_(e),ii(4)),el(t)&&(t=Mg(e,t),e.parent_||Lg(e,t)),e.patches_&&tl("Patches").generateReplacementPatches_(n[Dr].base_,t,e.patches_,e.inversePatches_)):t=Mg(e,n,[]),a_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==YB?t:void 0}function Mg(t,e,n){if(Ly(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Dr];if(!i)return Ng(e,(a,o)=>sD(t,i,e,a,o,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Lg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),Ng(o,(l,c)=>sD(t,i,a,l,c,n,s),r),Lg(t,a,!1),n&&t.patches_&&tl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function sD(t,e,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=Ly(i);if(!(s&&!o)){if(jc(i)){const l=a&&e&&e.type_!==3&&!r_(e.assigned_,r)?a.concat(r):void 0,c=Mg(t,i,l);if(XB(n,r,c),jc(c))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(el(i)&&!s){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&s)return;Mg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(qf(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Lg(t,i)}}}function Lg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&rT(e,n)}function jle(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:ZB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=iT;n&&(i=[r],a=of);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var iT={get(t,e){if(e===Dr)return t;const n=hs(t);if(!r_(n,e))return Fle(t,n,e);const r=n[e];return t.finalized_||!el(r)?r:r===NE(t.base_,e)?(ME(t),t.copy_[e]=l_(r,t)):r},has(t,e){return e in hs(t)},ownKeys(t){return Reflect.ownKeys(hs(t))},set(t,e,n){const r=JB(hs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=NE(hs(t),e),a=i==null?void 0:i[Dr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Dle(n,i)&&(n!==void 0||r_(t.base_,e)))return!0;ME(t),s_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return NE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ME(t),s_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=hs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ii(11)},getPrototypeOf(t){return rf(t.base_)},setPrototypeOf(){ii(12)}},of={};Ng(iT,(t,e)=>{of[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});of.deleteProperty=function(t,e){return of.set.call(this,t,e,void 0)};of.set=function(t,e,n){return iT.set.call(this,t[0],e,n,t[0])};function NE(t,e){const n=t[Dr];return(n?hs(n):t)[e]}function Fle(t,e,n){var i;const r=JB(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function JB(t,e){if(!(e in t))return;let n=rf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=rf(n)}}function s_(t){t.modified_||(t.modified_=!0,t.parent_&&s_(t.parent_))}function ME(t){t.copy_||(t.copy_=i_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Vle=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(l=a,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&ii(6),r!==void 0&&typeof r!="function"&&ii(7);let i;if(el(e)){const a=aD(this),o=l_(e,void 0);let s=!0;try{i=n(o),s=!1}finally{s?a_(a):o_(a)}return iD(a,r),oD(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===YB&&(i=void 0),this.autoFreeze_&&rT(i,!0),r){const a=[],o=[];tl("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else ii(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,l=>e(l,...s));let r,i;return[this.produce(e,n,(o,s)=>{r=o,i=s}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){el(t)||ii(8),jc(t)&&(t=Ule(t));const e=aD(this),n=l_(t,void 0);return n[Dr].isManual_=!0,o_(e),n}finishDraft(t,e){const n=t&&t[Dr];(!n||!n.isManual_)&&ii(9);const{scope_:r}=n;return iD(r,e),oD(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=tl("Patches").applyPatches_;return jc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function l_(t,e){const n=qf(t)?tl("MapSet").proxyMap_(t,e):My(t)?tl("MapSet").proxySet_(t,e):jle(t,e);return(e?e.scope_:ZB()).drafts_.push(n),n}function Ule(t){return jc(t)||ii(10,t),e$(t)}function e$(t){if(!el(t)||Ly(t))return t;const e=t[Dr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=i_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=i_(t,!0);return Ng(n,(i,a)=>{XB(n,i,e$(a))},r),e&&(e.finalized_=!1),n}var zle=new Vle;zle.produce;var Ble={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},t$=mr({name:"legend",initialState:Ble,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:vt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ci(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:vt()},removeLegendPayload:{reducer(t,e){var n=ci(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:vt()}}}),{setLegendSize:lD,setLegendSettings:$le,addLegendPayload:n$,replaceLegendPayload:r$,removeLegendPayload:i$}=t$.actions,Wle=t$.reducer,Hle=["contextPayload"];function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(null,arguments)}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qle(t,e,n){return(e=Gle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gle(t){var e=Kle(t,"string");return typeof e=="symbol"?e:e+""}function Kle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yle(t,e){if(t==null)return{};var n,r,i=Qle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xle(t){return t.value}function Zle(t){var{contextPayload:e}=t,n=Yle(t,Hle),r=Gz(e,t.payloadUniqBy,Xle),i=Fc(Fc({},n),{},{payload:r});return v.isValidElement(t.content)?v.cloneElement(t.content,i):typeof t.content=="function"?v.createElement(t.content,i):v.createElement(noe,i)}function Jle(t,e,n,r,i,a){var{layout:o,align:s,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(s==="center"&&o==="vertical"?c={left:((r||0)-a.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Fc(Fc({},c),u)}function ece(t){var e=st();return v.useEffect(()=>{e($le(t))},[e,t]),null}function tce(t){var e=st();return v.useEffect(()=>(e(lD(t)),()=>{e(lD({width:0,height:0}))}),[e,t]),null}function nce(t,e,n,r){return t==="vertical"&&ue(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var rce={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function u_(t){var e=Yt(t,rce),n=Uoe(),r=Qie(),i=Ile(),{width:a,height:o,wrapperStyle:s,portal:l}=e,[c,u]=aB([n]),d=tT(),h=nT();if(d==null||h==null)return null;var m=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=nce(e.layout,o,a,m),y=l?s:Fc(Fc({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||o||"auto"},Jle(s,e,i,d,h,c)),s),E=l??r;if(E==null||n==null)return null;var b=v.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},v.createElement(ece,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&v.createElement(tce,{width:c.width,height:c.height}),v.createElement(Zle,c_({},e,g,{margin:i,chartWidth:d,chartHeight:h,contextPayload:n})));return Vs.createPortal(b,E)}u_.displayName="Legend";function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(null,arguments)}function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ice(t,e,n){return(e=ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=oce(t,"string");return typeof e=="symbol"?e:e+""}function oce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sce(t){return Array.isArray(t)&&Ui(t[0])&&Ui(t[1])?t.join(" ~ "):t}var lce=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:h=!1}=t,m=()=>{if(a&&a.length){var P={padding:0,margin:0},k=(s?yy(a,s):a).map((S,x)=>{if(S.type==="none")return null;var I=S.formatter||o||sce,{value:D,name:R}=S,O=D,N=R;if(I){var Q=I(D,R,S,x,a);if(Array.isArray(Q))[O,N]=Q;else if(Q!=null)O=Q;else return null}var oe=LE({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(x),style:oe},Ui(N)?v.createElement("span",{className:"recharts-tooltip-item-name"},N):null,Ui(N)?v.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,v.createElement("span",{className:"recharts-tooltip-item-value"},O),v.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:P},k)}return null},g=LE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=LE({margin:0},i),E=!_t(u),b=E?u:"",w=He("recharts-default-tooltip",l),T=He("recharts-tooltip-label",c);E&&d&&a!==void 0&&a!==null&&(b=d(u,a));var A=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",d_({className:w,style:g},A),v.createElement("p",{className:T,style:y},v.isValidElement(b)?b:"".concat(b)),m())},Lu="recharts-tooltip-wrapper",cce={visibility:"hidden"};function uce(t){var{coordinate:e,translateX:n,translateY:r}=t;return He(Lu,{["".concat(Lu,"-right")]:ue(n)&&e&&ue(e.x)&&n>=e.x,["".concat(Lu,"-left")]:ue(n)&&e&&ue(e.x)&&n<e.x,["".concat(Lu,"-bottom")]:ue(r)&&e&&ue(e.y)&&r>=e.y,["".concat(Lu,"-top")]:ue(r)&&e&&ue(e.y)&&r<e.y})}function dD(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=t;if(a&&ue(a[r]))return a[r];var u=n[r]-s-(i>0?i:0),d=n[r]+i;if(e[r])return o[r]?u:d;var h=l[r];if(h==null)return 0;if(o[r]){var m=u,g=h;return m<g?Math.max(d,h):Math.max(u,h)}if(c==null)return 0;var y=d+s,E=h+c;return y>E?Math.max(u,h):Math.max(d,h)}function dce(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function fce(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=t,c,u,d;return o.height>0&&o.width>0&&n?(u=dD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=dD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=dce({translateX:u,translateY:d,useTranslate3d:s})):c=cce,{cssProperties:c,cssClasses:uce({translateX:u,translateY:d,coordinate:n})}}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ap(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){f_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f_(t,e,n){return(e=hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hce(t){var e=pce(t,"string");return typeof e=="symbol"?e:e+""}function pce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mce extends v.PureComponent{constructor(){super(...arguments),f_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),f_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:E,hasPortalFromProps:b}=this.props,{cssClasses:w,cssProperties:T}=fce({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),A=b?{}:Ap(Ap({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),P=Ap(Ap({},A),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},g);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:P,ref:E},a)}}var a$=()=>{var t;return(t=de(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(null,arguments)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gce(t,e,n){return(e=vce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vce(t){var e=yce(t,"string");return typeof e=="symbol"?e:e+""}function yce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mD={curveBasisClosed:mae,curveBasisOpen:gae,curveBasis:pae,curveBumpX:eae,curveBumpY:tae,curveLinearClosed:vae,curveLinear:dy,curveMonotoneX:yae,curveMonotoneY:Eae,curveNatural:bae,curveStep:wae,curveStepAfter:Sae,curveStepBefore:_ae},jg=t=>kt(t.x)&&kt(t.y),gD=t=>t.base!=null&&jg(t.base)&&jg(t),ju=t=>t.x,Fu=t=>t.y,Ece=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Uf(t));return(n==="curveMonotone"||n==="curveBump")&&e?mD["".concat(n).concat(e==="vertical"?"Y":"X")]:mD[n]||dy},bce=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=Ece(e,i),s=a?n.filter(jg):n,l;if(Array.isArray(r)){var c=n.map((m,g)=>pD(pD({},m),{},{base:r[g]}));i==="vertical"?l=mp().y(Fu).x1(ju).x0(m=>m.base.x):l=mp().x(ju).y1(Fu).y0(m=>m.base.y);var u=l.defined(gD).curve(o),d=a?c.filter(gD):c;return u(d)}i==="vertical"&&ue(r)?l=mp().y(Fu).x1(ju).x0(r):ue(r)?l=mp().x(ju).y1(Fu).y0(r):l=hz().x(ju).y(Fu);var h=l.defined(jg).curve(o);return h(s)},aT=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=eu();if((!n||!n.length)&&!r)return null;var o={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},s=n&&n.length?bce(o):r;return v.createElement("path",h_({},Rr(t),Nx(t),{className:He("recharts-curve",e),d:s===null?void 0:s,ref:i}))},wce=["x","y","top","left","width","height","className"];function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(null,arguments)}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){Sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sce(t,e,n){return(e=Ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ace(t){var e=xce(t,"string");return typeof e=="symbol"?e:e+""}function xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tce(t,e){if(t==null)return{};var n,r,i=Cce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kce=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Ice=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:s}=t,l=Tce(t,wce),c=_ce({x:e,y:n,top:r,left:i,width:a,height:o},l);return!ue(e)||!ue(n)||!ue(a)||!ue(o)||!ue(r)||!ue(i)?null:v.createElement("path",p_({},tr(c),{className:He("recharts-cross",s),d:kce(e,n,a,o,r,i)}))};function Pce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ED(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){Rce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rce(t,e,n){return(e=Dce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dce(t){var e=Oce(t,"string");return typeof e=="symbol"?e:e+""}function Oce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nce=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),o$=(t,e,n)=>t.map(r=>"".concat(Nce(r)," ").concat(e,"ms ").concat(n)).join(","),Mce=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),sf=(t,e)=>Object.keys(e).reduce((n,r)=>ED(ED({},n),{},{[r]:t(r,e[r])}),{});function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){Lce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lce(t,e,n){return(e=jce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jce(t){var e=Fce(t,"string");return typeof e=="symbol"?e:e+""}function Fce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fg=(t,e,n)=>t+(e-t)*n,m_=t=>{var{from:e,to:n}=t;return e!==n},s$=(t,e,n)=>{var r=sf((i,a)=>{if(m_(a)){var[o,s]=t(a.from,a.to,a.velocity);return Xt(Xt({},a),{},{from:o,velocity:s})}return a},e);return n<1?sf((i,a)=>m_(a)&&r[i]!=null?Xt(Xt({},a),{},{velocity:Fg(a.velocity,r[i].velocity,n),from:Fg(a.from,r[i].from,n)}):a,e):s$(t,r,n-1)};function Vce(t,e,n,r,i,a){var o,s=r.reduce((h,m)=>Xt(Xt({},h),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),l=()=>sf((h,m)=>m.from,s),c=()=>!Object.values(s).filter(m_).length,u=null,d=h=>{o||(o=h);var m=h-o,g=m/n.dt;s=s$(n,s,g),i(Xt(Xt(Xt({},t),e),l())),o=h,c()||(u=a.setTimeout(d))};return()=>(u=a.setTimeout(d),()=>{var h;(h=u)===null||h===void 0||h()})}function Uce(t,e,n,r,i,a,o){var s=null,l=i.reduce((d,h)=>{var m=t[h],g=e[h];return m==null||g==null?d:Xt(Xt({},d),{},{[h]:[m,g]})},{}),c,u=d=>{c||(c=d);var h=(d-c)/r,m=sf((y,E)=>Fg(...E,n(h)),l);if(a(Xt(Xt(Xt({},t),e),m)),h<1)s=o.setTimeout(u);else{var g=sf((y,E)=>Fg(...E,n(1)),l);a(Xt(Xt(Xt({},t),e),g))}};return()=>(s=o.setTimeout(u),()=>{var d;(d=s)===null||d===void 0||d()})}const zce=(t,e,n,r,i,a)=>{var o=Mce(t,e);return n==null?()=>(i(Xt(Xt({},t),e)),()=>{}):n.isStepper===!0?Vce(t,e,n,o,i,a):Uce(t,e,n,r,o,i,a)};var Vg=1e-4,l$=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],c$=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),wD=(t,e)=>n=>{var r=l$(t,e);return c$(r,n)},Bce=(t,e)=>n=>{var r=l$(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return c$(i,n)},$ce=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},Wce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=$ce(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Hce=(t,e,n,r)=>{var i=wD(t,n),a=wD(e,r),o=Bce(t,n),s=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,d=u,h=0;h<8;++h){var m=i(d)-u,g=o(d);if(Math.abs(m-u)<Vg||g<Vg)return a(d);d=s(d-m/g)}return a(d)};return l.isStepper=!1,l},_D=function(){return Hce(...Wce(...arguments))},qce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,s,l)=>{var c=-(o-s)*n,u=l*r,d=l+(c-u)*i/1e3,h=l*i/1e3+o;return Math.abs(h-s)<Vg&&Math.abs(d)<Vg?[s,0]:[h,d]};return a.isStepper=!0,a.dt=i,a},Gce=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _D(t);case"spring":return qce();default:if(t.split("(")[0]==="cubic-bezier")return _D(t)}return typeof t=="function"?t:null};function Kce(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){i=t.setTimeout(a.bind(null,c),l);return}a(l),i=t.setTimeout(a.bind(null,c));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class Yce{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Qce(){return Kce(new Yce)}var Xce=v.createContext(Qce);function Zce(t,e){var n=v.useContext(Xce);return v.useMemo(()=>e??n(t),[t,e,n])}var Jce=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),jy={isSsr:Jce()},eue={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SD={t:0},jE={t:1};function Gf(t){var e=Yt(t,eue),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=e,u=n==="auto"?!jy.isSsr:n,d=Zce(e.animationId,e.animationManager),[h,m]=v.useState(u?SD:jE),g=v.useRef(null);return v.useEffect(()=>{u||m(jE)},[u]),v.useEffect(()=>{if(!u||!r)return zf;var y=zce(SD,jE,Gce(a),i,m,d.getTimeoutController()),E=()=>{g.current=y()};return d.start([l,o,E,i,s]),()=>{d.stop(),g.current&&g.current(),s()}},[u,r,i,a,o,l,s,d]),c(h.t)}function Kf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Jd(e)),r=v.useRef(t);return r.current!==t&&(n.current=Jd(e),r.current=t),n.current}var tue=["radius"],nue=["radius"],AD,xD,TD,CD,kD,ID,PD,RD,DD,OD;function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e,n){return(e=iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=aue(t,"string");return typeof e=="symbol"?e:e+""}function aue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(null,arguments)}function LD(t,e){if(t==null)return{};var n,r,i=oue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var jD=(t,e,n,r,i)=>{var a=mo(n),o=mo(r),s=Math.min(Math.abs(a)/2,Math.abs(o)/2),l=o>=0?1:-1,c=a>=0?1:-1,u=o>=0&&a>=0||o<0&&a<0?1:0,d;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=i[m]>s?s:i[m];d=Rt(AD||(AD=bi(["M",",",""])),t,e+l*h[0]),h[0]>0&&(d+=Rt(xD||(xD=bi(["A ",",",",0,0,",",",",",""])),h[0],h[0],u,t+c*h[0],e)),d+=Rt(TD||(TD=bi(["L ",",",""])),t+n-c*h[1],e),h[1]>0&&(d+=Rt(CD||(CD=bi(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],u,t+n,e+l*h[1])),d+=Rt(kD||(kD=bi(["L ",",",""])),t+n,e+r-l*h[2]),h[2]>0&&(d+=Rt(ID||(ID=bi(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],u,t+n-c*h[2],e+r)),d+=Rt(PD||(PD=bi(["L ",",",""])),t+c*h[3],e+r),h[3]>0&&(d+=Rt(RD||(RD=bi(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],u,t,e+r-l*h[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var y=Math.min(s,i);d=Rt(DD||(DD=bi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*y,y,y,u,t+c*y,e,t+n-c*y,e,y,y,u,t+n,e+l*y,t+n,e+r-l*y,y,y,u,t+n-c*y,e+r,t+c*y,e+r,y,y,u,t,e+r-l*y)}else d=Rt(OD||(OD=bi(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return d},FD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},u$=t=>{var e=Yt(t,FD),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=e,E=v.useRef(s),b=v.useRef(l),w=v.useRef(a),T=v.useRef(o),A=v.useMemo(()=>({x:a,y:o,width:s,height:l,radius:c}),[a,o,s,l,c]),P=Kf(A,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var k=He("recharts-rectangle",u);if(!y){var S=tr(e),{radius:x}=S,I=LD(S,tue);return v.createElement("path",Ug({},I,{x:mo(a),y:mo(o),width:mo(s),height:mo(l),radius:typeof c=="number"?c:void 0,className:k,d:jD(a,o,s,l,c)}))}var D=E.current,R=b.current,O=w.current,N=T.current,Q="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),he=o$(["strokeDasharray"],h,typeof d=="string"?d:FD.animationEasing);return v.createElement(Gf,{animationId:P,key:P,canBegin:r>0,duration:h,easing:d,isActive:y,begin:m},Z=>{var W=yt(D,s,Z),q=yt(R,l,Z),ne=yt(O,a,Z),we=yt(N,o,Z);n.current&&(E.current=W,b.current=q,w.current=ne,T.current=we);var z;g?Z>0?z={transition:he,strokeDasharray:oe}:z={strokeDasharray:Q}:z={strokeDasharray:oe};var re=tr(e),{radius:pe}=re,Me=LD(re,nue);return v.createElement("path",Ug({},Me,{radius:typeof c=="number"?c:void 0,className:k,d:jD(ne,we,W,q,c),ref:n,style:MD(MD({},z),e.style)}))})};function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sue(t,e,n){return(e=lue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=cue(t,"string");return typeof e=="symbol"?e:e+""}function cue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zg=Math.PI/180,uue=t=>t*180/Math.PI,Wt=(t,e,n,r)=>({x:t+Math.cos(-zg*r)*n,y:e+Math.sin(-zg*r)*n}),d$=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},due=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},fue=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=due({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:uue(l),angleInRadian:l}},hue=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},pue=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},mue=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=fue({x:n,y:r},e),{innerRadius:o,outerRadius:s}=e;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:c}=hue(e),u=a,d;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}return d?UD(UD({},e),{},{radius:i,angle:pue(u,e)}):null};function f$(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=Wt(e,n,r,i),s=Wt(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var zD,BD,$D,WD,HD,qD,GD;function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(null,arguments)}function bs(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var gue=(t,e)=>{var n=dn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},xp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=t,c=s*(o?1:-1)+r,u=Math.asin(s/c)/zg,d=l?i:i+a*u,h=Wt(e,n,c,d),m=Wt(e,n,r,d),g=l?i-a*u:i,y=Wt(e,n,c*Math.cos(u*zg),g);return{center:h,circleTangency:m,lineTangency:y,theta:u}},h$=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,s=gue(a,o),l=a+s,c=Wt(e,n,i,a),u=Wt(e,n,i,l),d=Rt(zD||(zD=bs(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(s)>180),+(a>l),u.x,u.y);if(r>0){var h=Wt(e,n,r,a),m=Wt(e,n,r,l);d+=Rt(BD||(BD=bs(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(a<=l),h.x,h.y)}else d+=Rt($D||($D=bs(["L ",","," Z"])),e,n);return d},vue=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=t,u=dn(c-l),{circleTangency:d,lineTangency:h,theta:m}=xp({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:g,lineTangency:y,theta:E}=xp({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),b=s?Math.abs(l-c):Math.abs(l-c)-m-E;if(b<0)return o?Rt(WD||(WD=bs(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):h$({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w=Rt(HD||(HD=bs(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(u<0),d.x,d.y,i,i,+(b>180),+(u<0),g.x,g.y,a,a,+(u<0),y.x,y.y);if(r>0){var{circleTangency:T,lineTangency:A,theta:P}=xp({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:k,lineTangency:S,theta:x}=xp({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),I=s?Math.abs(l-c):Math.abs(l-c)-P-x;if(I<0&&a===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+=Rt(qD||(qD=bs(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),S.x,S.y,a,a,+(u<0),k.x,k.y,r,r,+(I>180),+(u>0),T.x,T.y,a,a,+(u<0),A.x,A.y)}else w+=Rt(GD||(GD=bs(["L",",","Z"])),e,n);return w},yue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},p$=t=>{var e=Yt(t,yue),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=e;if(a<i||c===u)return null;var h=He("recharts-sector",d),m=a-i,g=zn(o,m,0,!0),y;return g>0&&Math.abs(c-u)<360?y=vue({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):y=h$({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),v.createElement("path",g_({},tr(e),{className:h,d:y}))};function Eue(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(Iz(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:s}=e,l=Wt(r,i,a,s),c=Wt(r,i,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return f$(e)}}var m$={},g$={},v$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hx;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(v$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v$;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(g$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qx,n=g$;function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=i,i+=o;return l}t.range=r})(m$);var bue=m$.range;const y$=Da(bue);function Po(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wue(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oT(t){let e,n,r;t.length!==2?(e=Po,n=(s,l)=>Po(t(s),l),r=(s,l)=>t(s)-l):(e=t===Po||t===wue?t:_ue,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function _ue(){return 0}function E$(t){return t===null?NaN:+t}function*Sue(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Aue=oT(Po),Yf=Aue.right;oT(E$).center;class KD extends Map{constructor(e,n=Cue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(YD(this,e))}has(e){return super.has(YD(this,e))}set(e,n){return super.set(xue(this,e),n)}delete(e){return super.delete(Tue(this,e))}}function YD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xue({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Tue({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Cue(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kue(t=Po){if(t===Po)return b$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function b$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Iue=Math.sqrt(50),Pue=Math.sqrt(10),Rue=Math.sqrt(2);function Bg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Iue?10:a>=Pue?5:a>=Rue?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Bg(t,e,n*2):[s,l,c]}function v_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Bg(e,t,n):Bg(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function y_(t,e,n){return e=+e,t=+t,n=+n,Bg(t,e,n)[2]}function E_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?y_(e,t,n):y_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function QD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function XD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function w$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?b$:kue(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*d/l+h)),g=Math.min(r,Math.floor(e+(l-c)*d/l+h));w$(t,e,m,g,i)}const a=t[e];let o=n,s=r;for(Vu(t,n,e),i(t[r],a)>0&&Vu(t,n,r);o<s;){for(Vu(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Vu(t,n,s):(++s,Vu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Vu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Due(t,e,n){if(t=Float64Array.from(Sue(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return XD(t);if(e>=1)return QD(t);var r,i=(r-1)*e,a=Math.floor(i),o=QD(w$(t,a).subarray(0,a+1)),s=XD(t.subarray(a+1));return o+(s-o)*(i-a)}}function Oue(t,e,n=E$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Nue(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Qr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const b_=Symbol("implicit");function sT(){var t=new KD,e=[],n=[],r=b_;function i(a){let o=t.get(a);if(o===void 0){if(r!==b_)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new KD;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return sT(e,n).unknown(r)},Qr.apply(i,arguments),i}function lT(){var t=sT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,m=i<r,g=m?i:r,y=m?r:i;a=(y-g)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*u,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var E=Nue(h).map(function(b){return g+a*b});return n(m?E.reverse():E)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return lT(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Qr.apply(d(),arguments)}function _$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _$(e())},t}function Mue(){return _$(lT.apply(null,arguments).paddingInner(1))}function cT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function S$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qf(){}var lf=.7,$g=1/lf,dc="\\s*([+-]?\\d+)\\s*",cf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lue=/^#([0-9a-f]{3,8})$/,jue=new RegExp(`^rgb\\(${dc},${dc},${dc}\\)$`),Fue=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),Vue=new RegExp(`^rgba\\(${dc},${dc},${dc},${cf}\\)$`),Uue=new RegExp(`^rgba\\(${Li},${Li},${Li},${cf}\\)$`),zue=new RegExp(`^hsl\\(${cf},${Li},${Li}\\)$`),Bue=new RegExp(`^hsla\\(${cf},${Li},${Li},${cf}\\)$`),ZD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cT(Qf,uf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:JD,formatHex:JD,formatHex8:$ue,formatHsl:Wue,formatRgb:eO,toString:eO});function JD(){return this.rgb().formatHex()}function $ue(){return this.rgb().formatHex8()}function Wue(){return A$(this).formatHsl()}function eO(){return this.rgb().formatRgb()}function uf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Lue.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tO(e):n===3?new ur(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Tp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Tp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jue.exec(t))?new ur(e[1],e[2],e[3],1):(e=Fue.exec(t))?new ur(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vue.exec(t))?Tp(e[1],e[2],e[3],e[4]):(e=Uue.exec(t))?Tp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zue.exec(t))?iO(e[1],e[2]/100,e[3]/100,1):(e=Bue.exec(t))?iO(e[1],e[2]/100,e[3]/100,e[4]):ZD.hasOwnProperty(t)?tO(ZD[t]):t==="transparent"?new ur(NaN,NaN,NaN,0):null}function tO(t){return new ur(t>>16&255,t>>8&255,t&255,1)}function Tp(t,e,n,r){return r<=0&&(t=e=n=NaN),new ur(t,e,n,r)}function Hue(t){return t instanceof Qf||(t=uf(t)),t?(t=t.rgb(),new ur(t.r,t.g,t.b,t.opacity)):new ur}function w_(t,e,n,r){return arguments.length===1?Hue(t):new ur(t,e,n,r??1)}function ur(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cT(ur,w_,S$(Qf,{brighter(t){return t=t==null?$g:Math.pow($g,t),new ur(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lf:Math.pow(lf,t),new ur(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ur(Ds(this.r),Ds(this.g),Ds(this.b),Wg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nO,formatHex:nO,formatHex8:que,formatRgb:rO,toString:rO}));function nO(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}`}function que(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}${ws((isNaN(this.opacity)?1:this.opacity)*255)}`}function rO(){const t=Wg(this.opacity);return`${t===1?"rgb(":"rgba("}${Ds(this.r)}, ${Ds(this.g)}, ${Ds(this.b)}${t===1?")":`, ${t})`}`}function Wg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ds(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ws(t){return t=Ds(t),(t<16?"0":"")+t.toString(16)}function iO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ai(t,e,n,r)}function A$(t){if(t instanceof ai)return new ai(t.h,t.s,t.l,t.opacity);if(t instanceof Qf||(t=uf(t)),!t)return new ai;if(t instanceof ai)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new ai(o,s,l,t.opacity)}function Gue(t,e,n,r){return arguments.length===1?A$(t):new ai(t,e,n,r??1)}function ai(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cT(ai,Gue,S$(Qf,{brighter(t){return t=t==null?$g:Math.pow($g,t),new ai(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lf:Math.pow(lf,t),new ai(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ur(FE(t>=240?t-240:t+120,i,r),FE(t,i,r),FE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ai(aO(this.h),Cp(this.s),Cp(this.l),Wg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wg(this.opacity);return`${t===1?"hsl(":"hsla("}${aO(this.h)}, ${Cp(this.s)*100}%, ${Cp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aO(t){return t=(t||0)%360,t<0?t+360:t}function Cp(t){return Math.max(0,Math.min(1,t||0))}function FE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const uT=t=>()=>t;function Kue(t,e){return function(n){return t+n*e}}function Yue(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Que(t){return(t=+t)==1?x$:function(e,n){return n-e?Yue(e,n,t):uT(isNaN(e)?n:e)}}function x$(t,e){var n=e-t;return n?Kue(t,n):uT(isNaN(t)?e:t)}const oO=function t(e){var n=Que(e);function r(i,a){var o=n((i=w_(i)).r,(a=w_(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=x$(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Xue(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Zue(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Jue(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=tu(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function ede(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Hg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function tde(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=tu(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var __=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,VE=new RegExp(__.source,"g");function nde(t){return function(){return t}}function rde(t){return function(e){return t(e)+""}}function ide(t,e){var n=__.lastIndex=VE.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=__.exec(t))&&(i=VE.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Hg(r,i)})),n=VE.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?rde(l[0].x):nde(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function tu(t,e){var n=typeof e,r;return e==null||n==="boolean"?uT(e):(n==="number"?Hg:n==="string"?(r=uf(e))?(e=r,oO):ide:e instanceof uf?oO:e instanceof Date?ede:Zue(e)?Xue:Array.isArray(e)?Jue:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tde:Hg)(t,e)}function dT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ade(t,e){e===void 0&&(e=t,t=tu);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function ode(t){return function(){return t}}function qg(t){return+t}var sO=[0,1];function Zn(t){return t}function S_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ode(isNaN(e)?NaN:.5)}function sde(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function lde(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=S_(i,r),a=n(o,a)):(r=S_(r,i),a=n(a,o)),function(s){return a(r(s))}}function cde(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=S_(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Yf(t,s,1,r)-1;return a[l](i[l](s))}}function Xf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fy(){var t=sO,e=sO,n=tu,r,i,a,o=Zn,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==Zn&&(o=sde(t[0],t[h-1])),s=h>2?cde:lde,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(i((c||(c=s(e,t.map(r),Hg)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,qg),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=dT,u()},d.clamp=function(h){return arguments.length?(o=h?!0:Zn,u()):o!==Zn},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,m){return r=h,i=m,u()}}function fT(){return Fy()(Zn,Zn)}function ude(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Vc(t){return t=Gg(Math.abs(t)),t?t[1]:NaN}function dde(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function fde(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function df(t){if(!(e=hde.exec(t)))throw new Error("invalid format: "+t);var e;return new hT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}df.prototype=hT.prototype;function hT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pde(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var T$;function mde(t,e){var n=Gg(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(T$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Gg(t,Math.max(0,e+a-1))[0]}function lO(t,e){var n=Gg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ude,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lO(t*100,e),r:lO,s:mde,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uO(t){return t}var dO=Array.prototype.map,fO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gde(t){var e=t.grouping===void 0||t.thousands===void 0?uO:dde(dO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?uO:fde(dO.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=df(d);var h=d.fill,m=d.align,g=d.sign,y=d.symbol,E=d.zero,b=d.width,w=d.comma,T=d.precision,A=d.trim,P=d.type;P==="n"?(w=!0,P="g"):cO[P]||(T===void 0&&(T=12),A=!0,P="g"),(E||h==="0"&&m==="=")&&(E=!0,h="0",m="=");var k=y==="$"?n:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",S=y==="$"?r:/[%p]/.test(P)?o:"",x=cO[P],I=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function D(R){var O=k,N=S,Q,oe,he;if(P==="c")N=x(R)+N,R="";else{R=+R;var Z=R<0||1/R<0;if(R=isNaN(R)?l:x(Math.abs(R),T),A&&(R=pde(R)),Z&&+R==0&&g!=="+"&&(Z=!1),O=(Z?g==="("?g:s:g==="-"||g==="("?"":g)+O,N=(P==="s"?fO[8+T$/3]:"")+N+(Z&&g==="("?")":""),I){for(Q=-1,oe=R.length;++Q<oe;)if(he=R.charCodeAt(Q),48>he||he>57){N=(he===46?i+R.slice(Q+1):R.slice(Q))+N,R=R.slice(0,Q);break}}}w&&!E&&(R=e(R,1/0));var W=O.length+R.length+N.length,q=W<b?new Array(b-W+1).join(h):"";switch(w&&E&&(R=e(q+R,q.length?b-N.length:1/0),q=""),m){case"<":R=O+R+N+q;break;case"=":R=O+q+R+N;break;case"^":R=q.slice(0,W=q.length>>1)+O+R+N+q.slice(W);break;default:R=q+O+R+N;break}return a(R)}return D.toString=function(){return d+""},D}function u(d,h){var m=c((d=df(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Vc(h)/3)))*3,y=Math.pow(10,-g),E=fO[8+g/3];return function(b){return m(y*b)+E}}return{format:c,formatPrefix:u}}var kp,pT,C$;vde({thousands:",",grouping:[3],currency:["$",""]});function vde(t){return kp=gde(t),pT=kp.format,C$=kp.formatPrefix,kp}function yde(t){return Math.max(0,-Vc(Math.abs(t)))}function Ede(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vc(e)/3)))*3-Vc(Math.abs(t)))}function bde(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vc(e)-Vc(t))+1}function k$(t,e,n,r){var i=E_(t,e,n),a;switch(r=df(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Ede(i,o))&&(r.precision=a),C$(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=bde(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=yde(i))&&(r.precision=a-(r.type==="%")*2);break}}return pT(r)}function Jo(t){var e=t.domain;return t.ticks=function(n){var r=e();return v_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return k$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=y_(o,s,n),c===l)return r[i]=o,r[a]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function I$(){var t=fT();return t.copy=function(){return Xf(t,I$())},Qr.apply(t,arguments),Jo(t)}function P$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,qg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return P$(t).unknown(e)},t=arguments.length?Array.from(t,qg):[0,1],Jo(n)}function R$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function hO(t){return Math.log(t)}function pO(t){return Math.exp(t)}function wde(t){return-Math.log(-t)}function _de(t){return-Math.exp(-t)}function Sde(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ade(t){return t===10?Sde:t===Math.E?Math.exp:e=>Math.pow(t,e)}function xde(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mO(t){return(e,n)=>-t(-e,n)}function mT(t){const e=t(hO,pO),n=e.domain;let r=10,i,a;function o(){return i=xde(r),a=Ade(r),n()[0]<0?(i=mO(i),a=mO(a),t(wde,_de)):t(hO,pO),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),m=i(u),g,y;const E=s==null?10:+s;let b=[];if(!(r%1)&&m-h<E){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(g=1;g<r;++g)if(y=h<0?g/a(-h):g*a(h),!(y<c)){if(y>u)break;b.push(y)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<c)){if(y>u)break;b.push(y)}b.length*2<E&&(b=v_(c,u,E))}else b=v_(h,m,Math.min(m-h,E)).map(a);return d?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=df(l)).precision==null&&(l.trim=!0),l=pT(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(R$(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function D$(){const t=mT(Fy()).domain([1,10]);return t.copy=()=>Xf(t,D$()).base(t.base()),Qr.apply(t,arguments),t}function gO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gT(t){var e=1,n=t(gO(e),vO(e));return n.constant=function(r){return arguments.length?t(gO(e=+r),vO(e)):e},Jo(n)}function O$(){var t=gT(Fy());return t.copy=function(){return Xf(t,O$()).constant(t.constant())},Qr.apply(t,arguments)}function yO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Tde(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Cde(t){return t<0?-t*t:t*t}function vT(t){var e=t(Zn,Zn),n=1;function r(){return n===1?t(Zn,Zn):n===.5?t(Tde,Cde):t(yO(n),yO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Jo(e)}function yT(){var t=vT(Fy());return t.copy=function(){return Xf(t,yT()).exponent(t.exponent())},Qr.apply(t,arguments),t}function kde(){return yT.apply(null,arguments).exponent(.5)}function EO(t){return Math.sign(t)*t*t}function Ide(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function N$(){var t=fT(),e=[0,1],n=!1,r;function i(a){var o=Ide(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(EO(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,qg)).map(EO)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return N$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Qr.apply(i,arguments),Jo(i)}function M$(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Oue(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Yf(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Po),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return M$().domain(t).range(e).unknown(r)},Qr.apply(a,arguments)}function L$(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Yf(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return L$().domain([t,e]).range(i).unknown(a)},Qr.apply(Jo(o),arguments)}function j$(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Yf(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return j$().domain(t).range(e).unknown(n)},Qr.apply(i,arguments)}const UE=new Date,zE=new Date;function tn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>tn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(UE.setTime(+a),zE.setTime(+o),t(UE),t(zE),Math.floor(n(UE,zE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Kg=tn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Kg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?tn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Kg);Kg.range;const oa=1e3,Br=oa*60,sa=Br*60,Ca=sa*24,ET=Ca*7,bO=Ca*30,BE=Ca*365,_s=tn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getUTCSeconds());_s.range;const bT=tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oa)},(t,e)=>{t.setTime(+t+e*Br)},(t,e)=>(e-t)/Br,t=>t.getMinutes());bT.range;const wT=tn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Br)},(t,e)=>(e-t)/Br,t=>t.getUTCMinutes());wT.range;const _T=tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oa-t.getMinutes()*Br)},(t,e)=>{t.setTime(+t+e*sa)},(t,e)=>(e-t)/sa,t=>t.getHours());_T.range;const ST=tn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*sa)},(t,e)=>(e-t)/sa,t=>t.getUTCHours());ST.range;const Zf=tn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Br)/Ca,t=>t.getDate()-1);Zf.range;const Vy=tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ca,t=>t.getUTCDate()-1);Vy.range;const F$=tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ca,t=>Math.floor(t/Ca));F$.range;function gl(t){return tn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Br)/ET)}const Uy=gl(0),Yg=gl(1),Pde=gl(2),Rde=gl(3),Uc=gl(4),Dde=gl(5),Ode=gl(6);Uy.range;Yg.range;Pde.range;Rde.range;Uc.range;Dde.range;Ode.range;function vl(t){return tn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ET)}const zy=vl(0),Qg=vl(1),Nde=vl(2),Mde=vl(3),zc=vl(4),Lde=vl(5),jde=vl(6);zy.range;Qg.range;Nde.range;Mde.range;zc.range;Lde.range;jde.range;const AT=tn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());AT.range;const xT=tn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());xT.range;const ka=tn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ka.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ka.range;const Ia=tn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ia.range;function V$(t,e,n,r,i,a){const o=[[_s,1,oa],[_s,5,5*oa],[_s,15,15*oa],[_s,30,30*oa],[a,1,Br],[a,5,5*Br],[a,15,15*Br],[a,30,30*Br],[i,1,sa],[i,3,3*sa],[i,6,6*sa],[i,12,12*sa],[r,1,Ca],[r,2,2*Ca],[n,1,ET],[e,1,bO],[e,3,3*bO],[t,1,BE]];function s(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const m=d&&typeof d.range=="function"?d:l(c,u,d),g=m?m.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,m=oT(([,,E])=>E).right(o,h);if(m===o.length)return t.every(E_(c/BE,u/BE,d));if(m===0)return Kg.every(Math.max(E_(c,u,d),1));const[g,y]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(y)}return[s,l]}const[Fde,Vde]=V$(Ia,xT,zy,F$,ST,wT),[Ude,zde]=V$(ka,AT,Uy,Zf,_T,bT);function $E(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function WE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Uu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Bde(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=zu(i),u=Bu(i),d=zu(a),h=Bu(a),m=zu(o),g=Bu(o),y=zu(s),E=Bu(s),b=zu(l),w=Bu(l),T={a:Z,A:W,b:q,B:ne,c:null,d:TO,e:TO,f:dfe,g:wfe,G:Sfe,H:lfe,I:cfe,j:ufe,L:U$,m:ffe,M:hfe,p:we,q:z,Q:IO,s:PO,S:pfe,u:mfe,U:gfe,V:vfe,w:yfe,W:Efe,x:null,X:null,y:bfe,Y:_fe,Z:Afe,"%":kO},A={a:re,A:pe,b:Me,B:te,c:null,d:CO,e:CO,f:kfe,g:Ffe,G:Ufe,H:xfe,I:Tfe,j:Cfe,L:B$,m:Ife,M:Pfe,p:Oe,q:qn,Q:IO,s:PO,S:Rfe,u:Dfe,U:Ofe,V:Nfe,w:Mfe,W:Lfe,x:null,X:null,y:jfe,Y:Vfe,Z:zfe,"%":kO},P={a:D,A:R,b:O,B:N,c:Q,d:AO,e:AO,f:ife,g:SO,G:_O,H:xO,I:xO,j:efe,L:rfe,m:Jde,M:tfe,p:I,q:Zde,Q:ofe,s:sfe,S:nfe,u:Gde,U:Kde,V:Yde,w:qde,W:Qde,x:oe,X:he,y:SO,Y:_O,Z:Xde,"%":afe};T.x=k(n,T),T.X=k(r,T),T.c=k(e,T),A.x=k(n,A),A.X=k(r,A),A.c=k(e,A);function k(H,be){return function(Ae){var j=[],ee=-1,ae=0,Re=H.length,gt,an,qi;for(Ae instanceof Date||(Ae=new Date(+Ae));++ee<Re;)H.charCodeAt(ee)===37&&(j.push(H.slice(ae,ee)),(an=wO[gt=H.charAt(++ee)])!=null?gt=H.charAt(++ee):an=gt==="e"?" ":"0",(qi=be[gt])&&(gt=qi(Ae,an)),j.push(gt),ae=ee+1);return j.push(H.slice(ae,ee)),j.join("")}}function S(H,be){return function(Ae){var j=Uu(1900,void 0,1),ee=x(j,H,Ae+="",0),ae,Re;if(ee!=Ae.length)return null;if("Q"in j)return new Date(j.Q);if("s"in j)return new Date(j.s*1e3+("L"in j?j.L:0));if(be&&!("Z"in j)&&(j.Z=0),"p"in j&&(j.H=j.H%12+j.p*12),j.m===void 0&&(j.m="q"in j?j.q:0),"V"in j){if(j.V<1||j.V>53)return null;"w"in j||(j.w=1),"Z"in j?(ae=WE(Uu(j.y,0,1)),Re=ae.getUTCDay(),ae=Re>4||Re===0?Qg.ceil(ae):Qg(ae),ae=Vy.offset(ae,(j.V-1)*7),j.y=ae.getUTCFullYear(),j.m=ae.getUTCMonth(),j.d=ae.getUTCDate()+(j.w+6)%7):(ae=$E(Uu(j.y,0,1)),Re=ae.getDay(),ae=Re>4||Re===0?Yg.ceil(ae):Yg(ae),ae=Zf.offset(ae,(j.V-1)*7),j.y=ae.getFullYear(),j.m=ae.getMonth(),j.d=ae.getDate()+(j.w+6)%7)}else("W"in j||"U"in j)&&("w"in j||(j.w="u"in j?j.u%7:"W"in j?1:0),Re="Z"in j?WE(Uu(j.y,0,1)).getUTCDay():$E(Uu(j.y,0,1)).getDay(),j.m=0,j.d="W"in j?(j.w+6)%7+j.W*7-(Re+5)%7:j.w+j.U*7-(Re+6)%7);return"Z"in j?(j.H+=j.Z/100|0,j.M+=j.Z%100,WE(j)):$E(j)}}function x(H,be,Ae,j){for(var ee=0,ae=be.length,Re=Ae.length,gt,an;ee<ae;){if(j>=Re)return-1;if(gt=be.charCodeAt(ee++),gt===37){if(gt=be.charAt(ee++),an=P[gt in wO?be.charAt(ee++):gt],!an||(j=an(H,Ae,j))<0)return-1}else if(gt!=Ae.charCodeAt(j++))return-1}return j}function I(H,be,Ae){var j=c.exec(be.slice(Ae));return j?(H.p=u.get(j[0].toLowerCase()),Ae+j[0].length):-1}function D(H,be,Ae){var j=m.exec(be.slice(Ae));return j?(H.w=g.get(j[0].toLowerCase()),Ae+j[0].length):-1}function R(H,be,Ae){var j=d.exec(be.slice(Ae));return j?(H.w=h.get(j[0].toLowerCase()),Ae+j[0].length):-1}function O(H,be,Ae){var j=b.exec(be.slice(Ae));return j?(H.m=w.get(j[0].toLowerCase()),Ae+j[0].length):-1}function N(H,be,Ae){var j=y.exec(be.slice(Ae));return j?(H.m=E.get(j[0].toLowerCase()),Ae+j[0].length):-1}function Q(H,be,Ae){return x(H,e,be,Ae)}function oe(H,be,Ae){return x(H,n,be,Ae)}function he(H,be,Ae){return x(H,r,be,Ae)}function Z(H){return o[H.getDay()]}function W(H){return a[H.getDay()]}function q(H){return l[H.getMonth()]}function ne(H){return s[H.getMonth()]}function we(H){return i[+(H.getHours()>=12)]}function z(H){return 1+~~(H.getMonth()/3)}function re(H){return o[H.getUTCDay()]}function pe(H){return a[H.getUTCDay()]}function Me(H){return l[H.getUTCMonth()]}function te(H){return s[H.getUTCMonth()]}function Oe(H){return i[+(H.getUTCHours()>=12)]}function qn(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var be=k(H+="",T);return be.toString=function(){return H},be},parse:function(H){var be=S(H+="",!1);return be.toString=function(){return H},be},utcFormat:function(H){var be=k(H+="",A);return be.toString=function(){return H},be},utcParse:function(H){var be=S(H+="",!0);return be.toString=function(){return H},be}}}var wO={"-":"",_:" ",0:"0"},mn=/^\s*\d+/,$de=/^%/,Wde=/[\\^$*+?|[\]().{}]/g;function qe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Hde(t){return t.replace(Wde,"\\$&")}function zu(t){return new RegExp("^(?:"+t.map(Hde).join("|")+")","i")}function Bu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function qde(t,e,n){var r=mn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Gde(t,e,n){var r=mn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Kde(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Yde(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Qde(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _O(t,e,n){var r=mn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function SO(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Xde(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Zde(t,e,n){var r=mn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Jde(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function AO(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function efe(t,e,n){var r=mn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xO(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tfe(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nfe(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rfe(t,e,n){var r=mn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ife(t,e,n){var r=mn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function afe(t,e,n){var r=$de.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ofe(t,e,n){var r=mn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function sfe(t,e,n){var r=mn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function TO(t,e){return qe(t.getDate(),e,2)}function lfe(t,e){return qe(t.getHours(),e,2)}function cfe(t,e){return qe(t.getHours()%12||12,e,2)}function ufe(t,e){return qe(1+Zf.count(ka(t),t),e,3)}function U$(t,e){return qe(t.getMilliseconds(),e,3)}function dfe(t,e){return U$(t,e)+"000"}function ffe(t,e){return qe(t.getMonth()+1,e,2)}function hfe(t,e){return qe(t.getMinutes(),e,2)}function pfe(t,e){return qe(t.getSeconds(),e,2)}function mfe(t){var e=t.getDay();return e===0?7:e}function gfe(t,e){return qe(Uy.count(ka(t)-1,t),e,2)}function z$(t){var e=t.getDay();return e>=4||e===0?Uc(t):Uc.ceil(t)}function vfe(t,e){return t=z$(t),qe(Uc.count(ka(t),t)+(ka(t).getDay()===4),e,2)}function yfe(t){return t.getDay()}function Efe(t,e){return qe(Yg.count(ka(t)-1,t),e,2)}function bfe(t,e){return qe(t.getFullYear()%100,e,2)}function wfe(t,e){return t=z$(t),qe(t.getFullYear()%100,e,2)}function _fe(t,e){return qe(t.getFullYear()%1e4,e,4)}function Sfe(t,e){var n=t.getDay();return t=n>=4||n===0?Uc(t):Uc.ceil(t),qe(t.getFullYear()%1e4,e,4)}function Afe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qe(e/60|0,"0",2)+qe(e%60,"0",2)}function CO(t,e){return qe(t.getUTCDate(),e,2)}function xfe(t,e){return qe(t.getUTCHours(),e,2)}function Tfe(t,e){return qe(t.getUTCHours()%12||12,e,2)}function Cfe(t,e){return qe(1+Vy.count(Ia(t),t),e,3)}function B$(t,e){return qe(t.getUTCMilliseconds(),e,3)}function kfe(t,e){return B$(t,e)+"000"}function Ife(t,e){return qe(t.getUTCMonth()+1,e,2)}function Pfe(t,e){return qe(t.getUTCMinutes(),e,2)}function Rfe(t,e){return qe(t.getUTCSeconds(),e,2)}function Dfe(t){var e=t.getUTCDay();return e===0?7:e}function Ofe(t,e){return qe(zy.count(Ia(t)-1,t),e,2)}function $$(t){var e=t.getUTCDay();return e>=4||e===0?zc(t):zc.ceil(t)}function Nfe(t,e){return t=$$(t),qe(zc.count(Ia(t),t)+(Ia(t).getUTCDay()===4),e,2)}function Mfe(t){return t.getUTCDay()}function Lfe(t,e){return qe(Qg.count(Ia(t)-1,t),e,2)}function jfe(t,e){return qe(t.getUTCFullYear()%100,e,2)}function Ffe(t,e){return t=$$(t),qe(t.getUTCFullYear()%100,e,2)}function Vfe(t,e){return qe(t.getUTCFullYear()%1e4,e,4)}function Ufe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zc(t):zc.ceil(t),qe(t.getUTCFullYear()%1e4,e,4)}function zfe(){return"+0000"}function kO(){return"%"}function IO(t){return+t}function PO(t){return Math.floor(+t/1e3)}var Tl,W$,H$;Bfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bfe(t){return Tl=Bde(t),W$=Tl.format,Tl.parse,H$=Tl.utcFormat,Tl.utcParse,Tl}function $fe(t){return new Date(t)}function Wfe(t){return t instanceof Date?+t:+new Date(+t)}function TT(t,e,n,r,i,a,o,s,l,c){var u=fT(),d=u.invert,h=u.domain,m=c(".%L"),g=c(":%S"),y=c("%I:%M"),E=c("%I %p"),b=c("%a %d"),w=c("%b %d"),T=c("%B"),A=c("%Y");function P(k){return(l(k)<k?m:s(k)<k?g:o(k)<k?y:a(k)<k?E:r(k)<k?i(k)<k?b:w:n(k)<k?T:A)(k)}return u.invert=function(k){return new Date(d(k))},u.domain=function(k){return arguments.length?h(Array.from(k,Wfe)):h().map($fe)},u.ticks=function(k){var S=h();return t(S[0],S[S.length-1],k??10)},u.tickFormat=function(k,S){return S==null?P:c(S)},u.nice=function(k){var S=h();return(!k||typeof k.range!="function")&&(k=e(S[0],S[S.length-1],k??10)),k?h(R$(S,k)):u},u.copy=function(){return Xf(u,TT(t,e,n,r,i,a,o,s,l,c))},u}function Hfe(){return Qr.apply(TT(Ude,zde,ka,AT,Uy,Zf,_T,bT,_s,W$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qfe(){return Qr.apply(TT(Fde,Vde,Ia,xT,zy,Vy,ST,wT,_s,H$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function By(){var t=0,e=1,n,r,i,a,o=Zn,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(h){var m,g;return arguments.length?([m,g]=h,o=d(m,g),c):[o(0),o(1)]}}return c.range=u(tu),c.rangeRound=u(dT),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function es(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function q$(){var t=Jo(By()(Zn));return t.copy=function(){return es(t,q$())},Fa.apply(t,arguments)}function G$(){var t=mT(By()).domain([1,10]);return t.copy=function(){return es(t,G$()).base(t.base())},Fa.apply(t,arguments)}function K$(){var t=gT(By());return t.copy=function(){return es(t,K$()).constant(t.constant())},Fa.apply(t,arguments)}function CT(){var t=vT(By());return t.copy=function(){return es(t,CT()).exponent(t.exponent())},Fa.apply(t,arguments)}function Gfe(){return CT.apply(null,arguments).exponent(.5)}function Y$(){var t=[],e=Zn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Yf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Po),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Due(t,a/r))},n.copy=function(){return Y$(e).domain(t)},Fa.apply(n,arguments)}function $y(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,c=Zn,u,d=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+u(y))-a)*(r*y<r*a?s:l),c(d?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=u(t=+t),a=u(e=+e),o=u(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(d=!!y,m):d},m.interpolator=function(y){return arguments.length?(c=y,m):c};function g(y){return function(E){var b,w,T;return arguments.length?([b,w,T]=E,c=ade(y,[b,w,T]),m):[c(0),c(.5),c(1)]}}return m.range=g(tu),m.rangeRound=g(dT),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return u=y,i=y(t),a=y(e),o=y(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function Q$(){var t=Jo($y()(Zn));return t.copy=function(){return es(t,Q$())},Fa.apply(t,arguments)}function X$(){var t=mT($y()).domain([.1,1,10]);return t.copy=function(){return es(t,X$()).base(t.base())},Fa.apply(t,arguments)}function Z$(){var t=gT($y());return t.copy=function(){return es(t,Z$()).constant(t.constant())},Fa.apply(t,arguments)}function kT(){var t=vT($y());return t.copy=function(){return es(t,kT()).exponent(t.exponent())},Fa.apply(t,arguments)}function Kfe(){return kT.apply(null,arguments).exponent(.5)}const td=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lT,scaleDiverging:Q$,scaleDivergingLog:X$,scaleDivergingPow:kT,scaleDivergingSqrt:Kfe,scaleDivergingSymlog:Z$,scaleIdentity:P$,scaleImplicit:b_,scaleLinear:I$,scaleLog:D$,scaleOrdinal:sT,scalePoint:Mue,scalePow:yT,scaleQuantile:M$,scaleQuantize:L$,scaleRadial:N$,scaleSequential:q$,scaleSequentialLog:G$,scaleSequentialPow:CT,scaleSequentialQuantile:Y$,scaleSequentialSqrt:Gfe,scaleSequentialSymlog:K$,scaleSqrt:kde,scaleSymlog:O$,scaleThreshold:j$,scaleTime:Hfe,scaleUtc:qfe,tickFormat:k$},Symbol.toStringTag,{value:"Module"}));var Va=t=>t.chartData,Wy=V([Va],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),IT=(t,e,n,r)=>r?Wy(t):Va(t),Yfe=(t,e,n)=>n?Wy(t):Va(t);function zo(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(kt(e)&&kt(n))return!0}return!1}function RO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function J$(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(kt(n))i=n;else if(typeof n=="function")return;if(kt(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(zo(o))return o}}function Qfe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(zo(r))return RO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,s;if(i==="auto")e!=null&&(o=Math.min(...e));else if(ue(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&QR.test(i)){var l=QR.exec(i);if(l==null||l[1]==null||e==null)o=void 0;else{var c=+l[1];o=e[0]-c}}else o=e==null?void 0:e[0];if(a==="auto")e!=null&&(s=Math.max(...e));else if(ue(a))s=a;else if(typeof a=="function")try{e!=null&&(s=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&XR.test(a)){var u=XR.exec(a);if(u==null||u[1]==null||e==null)s=void 0;else{var d=+u[1];s=e[1]+d}}else s=e==null?void 0:e[1];var h=[o,s];if(zo(h))return e==null?h:RO(h,e,n)}}}var nu=1e9,Xfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RT,wt=!0,Yr="[DecimalError] ",Os=Yr+"Invalid argument: ",PT=Yr+"Exponent out of range: ",ru=Math.floor,ps=Math.pow,Zfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,cn=1e7,ft=7,e4=9007199254740991,Xg=ru(e4/ft),ce={};ce.absoluteValue=ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ce.comparedTo=ce.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ce.decimalPlaces=ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ce.dividedBy=ce.div=function(t){return ha(this,new this.constructor(t))};ce.dividedToIntegerBy=ce.idiv=function(t){var e=this,n=e.constructor;return rt(ha(e,new n(t),0,1),n.precision)};ce.equals=ce.eq=function(t){return!this.cmp(t)};ce.exponent=function(){return Kt(this)};ce.greaterThan=ce.gt=function(t){return this.cmp(t)>0};ce.greaterThanOrEqualTo=ce.gte=function(t){return this.cmp(t)>=0};ce.isInteger=ce.isint=function(){return this.e>this.d.length-2};ce.isNegative=ce.isneg=function(){return this.s<0};ce.isPositive=ce.ispos=function(){return this.s>0};ce.isZero=function(){return this.s===0};ce.lessThan=ce.lt=function(t){return this.cmp(t)<0};ce.lessThanOrEqualTo=ce.lte=function(t){return this.cmp(t)<1};ce.logarithm=ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(wr))throw Error(Yr+"NaN");if(n.s<1)throw Error(Yr+(n.s?"NaN":"-Infinity"));return n.eq(wr)?new r(0):(wt=!1,e=ha(ff(n,a),ff(t,a),a),wt=!0,rt(e,i))};ce.minus=ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?r4(e,t):t4(e,(t.s=-t.s,t))};ce.modulo=ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Yr+"NaN");return n.s?(wt=!1,e=ha(n,t,0,1).times(t),wt=!0,n.minus(e)):rt(new r(n),i)};ce.naturalExponential=ce.exp=function(){return n4(this)};ce.naturalLogarithm=ce.ln=function(){return ff(this)};ce.negated=ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ce.plus=ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?t4(e,t):r4(e,(t.s=-t.s,t))};ce.precision=ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Os+t);if(e=Kt(i)+1,r=i.d.length-1,n=r*ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ce.squareRoot=ce.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Yr+"NaN")}for(t=Kt(s),wt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ci(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ru((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(ha(s,a,o+2)).times(.5),Ci(a.d).slice(0,o)===(e=Ci(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(rt(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return wt=!0,rt(r,n)};ce.times=ce.mul=function(t){var e,n,r,i,a,o,s,l,c,u=this,d=u.constructor,h=u.d,m=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=m.length,l<c&&(a=h,h=m,m=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+m[r]*h[i-r-1]+e,a[i--]=s%cn|0,e=s/cn|0;a[i]=(a[i]+e)%cn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,wt?rt(t,d.precision):t};ce.toDecimalPlaces=ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Bi(t,0,nu),e===void 0?e=r.rounding:Bi(e,0,8),rt(n,t+Kt(n)+1,e))};ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=nl(r,!0):(Bi(t,0,nu),e===void 0?e=i.rounding:Bi(e,0,8),r=rt(new i(r),t+1,e),n=nl(r,!0,t+1)),n};ce.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?nl(i):(Bi(t,0,nu),e===void 0?e=a.rounding:Bi(e,0,8),r=rt(new a(i),t+Kt(i)+1,e),n=nl(r.abs(),!1,t+Kt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ce.toInteger=ce.toint=function(){var t=this,e=t.constructor;return rt(new e(t),Kt(t)+1,e.rounding)};ce.toNumber=function(){return+this};ce.toPower=ce.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(wr);if(s=new l(s),!s.s){if(t.s<1)throw Error(Yr+"Infinity");return s}if(s.eq(wr))return s;if(r=l.precision,t.eq(wr))return rt(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=u<0?-u:u)<=e4){for(i=new l(wr),e=Math.ceil(r/ft+4),wt=!1;n%2&&(i=i.times(s),OO(i.d,e)),n=ru(n/2),n!==0;)s=s.times(s),OO(s.d,e);return wt=!0,t.s<0?new l(wr).div(i):rt(i,r)}}else if(a<0)throw Error(Yr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,wt=!1,i=t.times(ff(s,r+c)),wt=!0,i=n4(i),i.s=a,i};ce.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Kt(i),r=nl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Bi(t,1,nu),e===void 0?e=a.rounding:Bi(e,0,8),i=rt(new a(i),t,e),n=Kt(i),r=nl(i,t<=n||n<=a.toExpNeg,t)),r};ce.toSignificantDigits=ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Bi(t,1,nu),e===void 0?e=r.rounding:Bi(e,0,8)),rt(new r(n),t,e)};ce.toString=ce.valueOf=ce.val=ce.toJSON=ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Kt(t),n=t.constructor;return nl(t,e<=n.toExpNeg||e>=n.toExpPos)};function t4(t,e){var n,r,i,a,o,s,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),wt?rt(e,d):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(d/ft),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/cn|0,l[a]%=cn;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,wt?rt(e,d):e}function Bi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Os+t)}function Ci(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=ft-r.length,n&&(a+=Xa(n)),a+=r;o=t[e],r=o+"",n=ft-r.length,n&&(a+=Xa(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ha=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%cn|0,o=a/cn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*cn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,u,d,h,m,g,y,E,b,w,T,A,P,k,S,x,I=r.constructor,D=r.s==i.s?1:-1,R=r.d,O=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Yr+"Division by zero");for(l=r.e-i.e,S=O.length,P=R.length,m=new I(D),g=m.d=[],c=0;O[c]==(R[c]||0);)++c;if(O[c]>(R[c]||0)&&--l,a==null?w=a=I.precision:o?w=a+(Kt(r)-Kt(i))+1:w=a,w<0)return new I(0);if(w=w/ft+2|0,c=0,S==1)for(u=0,O=O[0],w++;(c<P||u)&&w--;c++)T=u*cn+(R[c]||0),g[c]=T/O|0,u=T%O|0;else{for(u=cn/(O[0]+1)|0,u>1&&(O=t(O,u),R=t(R,u),S=O.length,P=R.length),A=S,y=R.slice(0,S),E=y.length;E<S;)y[E++]=0;x=O.slice(),x.unshift(0),k=O[0],O[1]>=cn/2&&++k;do u=0,s=e(O,y,S,E),s<0?(b=y[0],S!=E&&(b=b*cn+(y[1]||0)),u=b/k|0,u>1?(u>=cn&&(u=cn-1),d=t(O,u),h=d.length,E=y.length,s=e(d,y,h,E),s==1&&(u--,n(d,S<h?x:O,h))):(u==0&&(s=u=1),d=O.slice()),h=d.length,h<E&&d.unshift(0),n(y,d,E),s==-1&&(E=y.length,s=e(O,y,S,E),s<1&&(u++,n(y,S<E?x:O,E))),E=y.length):s===0&&(u++,y=[0]),g[c++]=u,s&&y[0]?y[E++]=R[A]||0:(y=[R[A]],E=1);while((A++<P||y[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=l,rt(m,o?a+Kt(m)+1:a)}}();function n4(t,e){var n,r,i,a,o,s,l=0,c=0,u=t.constructor,d=u.precision;if(Kt(t)>16)throw Error(PT+Kt(t));if(!t.s)return new u(wr);for(wt=!1,s=d,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(ps(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new u(wr),u.precision=s;;){if(i=rt(i.times(t),s),n=n.times(++l),o=a.plus(ha(i,n,s)),Ci(o.d).slice(0,s)===Ci(a.d).slice(0,s)){for(;c--;)a=rt(a.times(a),s);return u.precision=d,e==null?(wt=!0,rt(a,d)):a}a=o}}function Kt(t){for(var e=t.e*ft,n=t.d[0];n>=10;n/=10)e++;return e}function HE(t,e,n){if(e>t.LN10.sd())throw wt=!0,n&&(t.precision=n),Error(Yr+"LN10 precision limit exceeded");return rt(new t(t.LN10),e)}function Xa(t){for(var e="";t--;)e+="0";return e}function ff(t,e){var n,r,i,a,o,s,l,c,u,d=1,h=10,m=t,g=m.d,y=m.constructor,E=y.precision;if(m.s<1)throw Error(Yr+(m.s?"NaN":"-Infinity"));if(m.eq(wr))return new y(0);if(e==null?(wt=!1,c=E):c=e,m.eq(10))return e==null&&(wt=!0),HE(y,c);if(c+=h,y.precision=c,n=Ci(g),r=n.charAt(0),a=Kt(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Ci(m.d),r=n.charAt(0),d++;a=Kt(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1))}else return l=HE(y,c+2,E).times(a+""),m=ff(new y(r+"."+n.slice(1)),c-h).plus(l),y.precision=E,e==null?(wt=!0,rt(m,E)):m;for(s=o=m=ha(m.minus(wr),m.plus(wr),c),u=rt(m.times(m),c),i=3;;){if(o=rt(o.times(u),c),l=s.plus(ha(o,new y(i),c)),Ci(l.d).slice(0,c)===Ci(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(HE(y,c+2,E).times(a+""))),s=ha(s,new y(d),c),y.precision=E,e==null?(wt=!0,rt(s,E)):s;s=l,i+=2}}function DO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ru(n/ft),t.d=[],r=(n+1)%ft,n<0&&(r+=ft),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ft;r<i;)t.d.push(+e.slice(r,r+=ft));e=e.slice(r),r=ft-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),wt&&(t.e>Xg||t.e<-Xg))throw Error(PT+n)}else t.s=0,t.e=0,t.d=[0];return t}function rt(t,e,n){var r,i,a,o,s,l,c,u,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=ft,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/ft),a=d.length,u>=a)return t;for(c=a=d[u],o=1;a>=10;a/=10)o++;r%=ft,i=r-ft+o}if(n!==void 0&&(a=ps(10,o-i-1),s=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/ps(10,o-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=Kt(t),d.length=1,e=e-a-1,d[0]=ps(10,(ft-e%ft)%ft),t.e=ru(-e/ft)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=ps(10,ft-r),d[u]=i>0?(c/ps(10,o-i)%ps(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==cn&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=cn)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(wt&&(t.e>Xg||t.e<-Xg))throw Error(PT+Kt(t));return t}function r4(t,e){var n,r,i,a,o,s,l,c,u,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),wt?rt(e,m):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,s=d.length):(n=d,r=c,s=l.length),i=Math.max(Math.ceil(m/ft),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=cn-1;--l[a],l[i]+=cn}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,wt?rt(e,m):e):new h(0)}function nl(t,e,n){var r,i=Kt(t),a=Ci(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Xa(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Xa(-i-1)+a,n&&(r=n-o)>0&&(a+=Xa(r))):i>=o?(a+=Xa(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Xa(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Xa(r))),t.s<0?"-"+a:a}function OO(t,e){if(t.length>e)return t.length=e,!0}function i4(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Os+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return DO(o,a.toString())}else if(typeof a!="string")throw Error(Os+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Zfe.test(a))DO(o,a);else throw Error(Os+a)}if(i.prototype=ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=i4,i.config=i.set=Jfe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Jfe(t){if(!t||typeof t!="object")throw Error(Yr+"Object expected");var e,n,r,i=["precision",1,nu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ru(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Os+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Os+n+": "+r);return this}var RT=i4(Xfe);wr=new RT(1);const Ke=RT;var ehe=t=>t,a4={},o4=t=>t===a4,NO=t=>function e(){return arguments.length===0||arguments.length===1&&o4(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},s4=(t,e)=>t===1?e:NO(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==a4).length;return a>=t?e(...r):s4(t-a,NO(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=r.map(u=>o4(u)?s.shift():u);return e(...c,...s)}))}),the=t=>s4(t.length,t),A_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},nhe=the((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),rhe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ehe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}};function l4(t){var e;return t===0?e=1:e=Math.floor(new Ke(t).abs().log(10).toNumber())+1,e}function c4(t,e,n){for(var r=new Ke(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var u4=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},d4=(t,e,n)=>{if(t.lte(0))return new Ke(0);var r=l4(t.toNumber()),i=new Ke(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Ke(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?new Ke(l.toNumber()):new Ke(Math.ceil(l.toNumber()))},ihe=(t,e,n)=>{var r=new Ke(1),i=new Ke(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ke(10).pow(l4(t)-1),i=new Ke(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ke(Math.floor(t)))}else t===0?i=new Ke(Math.floor((e-1)/2)):n||(i=new Ke(Math.floor(t)));var o=Math.floor((e-1)/2),s=rhe(nhe(l=>i.add(new Ke(l-o).mul(r)).toNumber()),A_);return s(0,e)},f4=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ke(0),tickMin:new Ke(0),tickMax:new Ke(0)};var o=d4(new Ke(n).sub(e).div(r-1),i,a),s;e<=0&&n>=0?s=new Ke(0):(s=new Ke(e).add(n).div(2),s=s.sub(new Ke(s).mod(o)));var l=Math.ceil(s.sub(e).div(o).toNumber()),c=Math.ceil(new Ke(n).sub(s).div(o).toNumber()),u=l+c+1;return u>r?f4(e,n,r,i,a+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:o,tickMin:s.sub(new Ke(l).mul(o)),tickMax:s.add(new Ke(c).mul(o))})},ahe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,l]=u4([n,r]);if(s===-1/0||l===1/0){var c=l===1/0?[s,...A_(0,i-1).map(()=>1/0)]:[...A_(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(s===l)return ihe(s,i,a);var{step:u,tickMin:d,tickMax:h}=f4(s,l,o,a,0),m=c4(d,h.add(new Ke(.1).mul(u)),u);return n>r?m.reverse():m},ohe=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=u4([r,i]);if(o===-1/0||s===1/0)return[r,i];if(o===s)return[o];var l=Math.max(n,2),c=d4(new Ke(s).sub(o).div(l-1),a,0),u=[...c4(new Ke(o),new Ke(s),c),s];return a===!1&&(u=u.map(d=>Math.round(d))),r>i?u.reverse():u},h4=t=>t.rootProps.maxBarSize,she=t=>t.rootProps.barGap,p4=t=>t.rootProps.barCategoryGap,lhe=t=>t.rootProps.barSize,Jf=t=>t.rootProps.stackOffset,m4=t=>t.rootProps.reverseStackOrder,DT=t=>t.options.chartName,OT=t=>t.rootProps.syncId,g4=t=>t.rootProps.syncMethod,NT=t=>t.options.eventEmitter,Ht={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Zi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},br={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Hy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},che={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zi.angleAxisId,includeHidden:!1,name:void 0,reversed:Zi.reversed,scale:Zi.scale,tick:Zi.tick,tickCount:void 0,ticks:void 0,type:Zi.type,unit:void 0},uhe={allowDataOverflow:br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:br.scale,tick:br.tick,tickCount:br.tickCount,ticks:void 0,type:br.type,unit:void 0},dhe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zi.scale,tick:Zi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fhe={allowDataOverflow:br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:br.scale,tick:br.tick,tickCount:br.tickCount,ticks:void 0,type:"category",unit:void 0},MT=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?dhe:che,LT=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?fhe:uhe,qy=t=>t.polarOptions,jT=V([La,ja,en],d$),v4=V([qy,jT],(t,e)=>{if(t!=null)return zn(t.innerRadius,e,0)}),y4=V([qy,jT],(t,e)=>{if(t!=null)return zn(t.outerRadius,e,e*.8)}),hhe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},E4=V([qy],hhe);V([MT,E4],Hy);var b4=V([jT,v4,y4],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});V([LT,b4],Hy);var w4=V([Ue,qy,v4,y4,La,ja],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=e;return{cx:zn(o,i,i/2),cy:zn(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),St=(t,e)=>e,eh=(t,e,n)=>n;function FT(t){return t==null?void 0:t.id}function _4(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var u=FT(s);c.forEach((d,h)=>{var m=a==null||i?h:String(et(d,a,null)),g=et(d,s.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[u]:g}),o.set(m,y)})}}),Array.from(o.values())}function Gy(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Ky=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Yy(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function phe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var nn=t=>{var e=Ue(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},iu=t=>t.tooltip.settings.axisId;function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mhe(t,e,n){return(e=ghe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ghe(t){var e=vhe(t,"string");return typeof e=="symbol"?e:e+""}function vhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x_=[0,"auto"],on={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},S4=(t,e)=>t.cartesianAxis.xAxis[e],Ua=(t,e)=>{var n=S4(t,e);return n??on},sn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:x_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Hf},A4=(t,e)=>t.cartesianAxis.yAxis[e],za=(t,e)=>{var n=A4(t,e);return n??sn},yhe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},VT=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??yhe},It=(t,e,n)=>{switch(e){case"xAxis":return Ua(t,n);case"yAxis":return za(t,n);case"zAxis":return VT(t,n);case"angleAxis":return MT(t,n);case"radiusAxis":return LT(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ehe=(t,e,n)=>{switch(e){case"xAxis":return Ua(t,n);case"yAxis":return za(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},th=(t,e,n)=>{switch(e){case"xAxis":return Ua(t,n);case"yAxis":return za(t,n);case"angleAxis":return MT(t,n);case"radiusAxis":return LT(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},x4=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function UT(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Qy=t=>t.graphicalItems.cartesianItems,bhe=V([St,eh],UT),zT=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),nh=V([Qy,It,bhe],zT,{memoizeOptions:{resultEqualityCheck:Yy}}),T4=V([nh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Gy)),C4=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),whe=V([nh],C4),BT=t=>t.map(e=>e.data).filter(Boolean).flat(1),_he=V([nh],BT,{memoizeOptions:{resultEqualityCheck:Yy}}),$T=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},WT=V([_he,IT],$T),HT=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:et(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:et(i,r)}))):t.map(r=>({value:r})),Xy=V([WT,It,nh],HT);function k4(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function um(t){if(Ui(t)||t instanceof Date){var e=Number(t);if(kt(e))return e}}function LO(t){if(Array.isArray(t)){var e=[um(t[0]),um(t[1])];return zo(e)?e:void 0}var n=um(t);if(n!=null)return[n,n]}function Pa(t){return t.map(um).filter(Oae)}function She(t,e,n){return!n||typeof e!="number"||hi(e)?[]:n.length?Pa(n.flatMap(r=>{var i=et(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!kt(a)||!kt(o)))return[e-a,e+o]})):[]}var rn=t=>{var e=nn(t),n=iu(t);return th(t,e,n)},rh=V([rn],t=>t==null?void 0:t.dataKey),Ahe=V([T4,IT,rn],_4),I4=(t,e,n,r)=>{var i={},a=e.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,l]=o,c=r?[...l].reverse():l,u=c.map(FT);return[s,{stackedData:Qse(t,u,n),graphicalItems:c}]}))},T_=V([Ahe,T4,Jf,m4],I4),P4=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var o=tle(t,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},xhe=V([It],t=>t.allowDataOverflow),qT=t=>{var e;if(t==null||!("domain"in t))return x_;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Pa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:x_},GT=V([It],qT),KT=V([GT,xhe],J$),The=V([T_,Va,St,KT],P4,{memoizeOptions:{resultEqualityCheck:Ky}}),Zy=t=>t.errorBars,Che=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>k4(n,r)),Jg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},YT=(t,e,n,r,i)=>{var a,o;if(n.length>0&&t.forEach(s=>{n.forEach(l=>{var c,u,d=(c=r[l.id])===null||c===void 0?void 0:c.filter(b=>k4(i,b)),h=et(s,(u=e.dataKey)!==null&&u!==void 0?u:l.dataKey),m=She(s,h,d);if(m.length>=2){var g=Math.min(...m),y=Math.max(...m);(a==null||g<a)&&(a=g),(o==null||y>o)&&(o=y)}var E=LO(h);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),o=o==null?E[1]:Math.max(o,E[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(s=>{var l=LO(et(s,e.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),kt(a)&&kt(o))return[a,o]},khe=V([WT,It,whe,Zy,St],YT,{memoizeOptions:{resultEqualityCheck:Ky}});function Ihe(t){var{value:e}=t;if(Ui(e)||e instanceof Date)return e}var Phe=(t,e,n)=>{var r=t.map(Ihe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Tz(r))?y$(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},R4=t=>t.referenceElements.dots,au=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Rhe=V([R4,St,eh],au),D4=t=>t.referenceElements.areas,Dhe=V([D4,St,eh],au),O4=t=>t.referenceElements.lines,Ohe=V([O4,St,eh],au),N4=(t,e)=>{if(t!=null){var n=Pa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Nhe=V(Rhe,St,N4),M4=(t,e)=>{if(t!=null){var n=Pa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Mhe=V([Dhe,St],M4);function Lhe(t){var e;if(t.x!=null)return Pa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Pa(n)}function jhe(t){var e;if(t.y!=null)return Pa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Pa(n)}var L4=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Lhe(r):jhe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Fhe=V([Ohe,St],L4),Vhe=V(Nhe,Fhe,Mhe,(t,e,n)=>Jg(t,n,e)),QT=(t,e,n,r,i,a,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=l?Jg(r,a,i):Jg(a,i);return Qfe(e,c,t.allowDataOverflow)},Uhe=V([It,GT,KT,The,khe,Vhe,Ue,St],QT,{memoizeOptions:{resultEqualityCheck:Ky}}),zhe=[0,1],XT=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=t,c=Zo(e,a);if(c&&s==null){var u;return y$(0,(u=n==null?void 0:n.length)!==null&&u!==void 0?u:0)}return l==="category"?Phe(r,t,c):i==="expand"?zhe:o}},ZT=V([It,Ue,WT,Xy,Jf,St,Uhe],XT),j4=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Uf(a));return s in td?s:"point"}}},ou=V([It,Ue,x4,DT,St],j4);function Bhe(t){if(t!=null){if(t in td)return td[t]();var e="scale".concat(Uf(t));if(e in td)return td[e]()}}function JT(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Bhe(e);if(i!=null){var a=i.domain(n).range(r);return Hse(a),a}}}var eC=(t,e,n)=>{var r=qT(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&zo(t))return ahe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&zo(t))return ohe(t,e.tickCount,e.allowDecimals)}},tC=V([ZT,th,ou],eC),nC=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&zo(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return e},$he=V([It,ZT,tC,St],nC),Whe=V(Xy,It,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Pa(t.map(d=>d.value))).sort((d,h)=>d-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],c=r[s+1];if(!(l==null||c==null)){var u=c-l;n=Math.min(n,u)}}return n/o}}),F4=V(Whe,Ue,p4,en,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!kt(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=zn(n,t*a),s=t*a/2;return s-o-(s-o)/a*o}return 0}),Hhe=(t,e,n)=>{var r=Ua(t,e);return r==null||typeof r.padding!="string"?0:F4(t,"xAxis",e,n,r.padding)},qhe=(t,e,n)=>{var r=za(t,e);return r==null||typeof r.padding!="string"?0:F4(t,"yAxis",e,n,r.padding)},Ghe=V(Ua,Hhe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Khe=V(za,qhe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Yhe=V([en,Ghe,Ry,Py,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Qhe=V([en,Ue,Khe,Ry,Py,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ih=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Yhe(t,n,r);case"yAxis":return Qhe(t,n,r);case"zAxis":return(i=VT(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return E4(t);case"radiusAxis":return b4(t,n);default:return}},V4=V([It,ih],Hy),Jy=V([It,ou,$he,V4],JT);V([nh,Zy,St],Che);function U4(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var e0=(t,e)=>e,t0=(t,e,n)=>n,Xhe=V(ky,e0,t0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(U4)),Zhe=V(Iy,e0,t0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(U4)),z4=(t,e)=>({width:t.width,height:e.height}),Jhe=(t,e)=>{var n=typeof e.width=="number"?e.width:Hf;return{width:n,height:t.height}},B4=V(en,Ua,z4),epe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},tpe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},npe=V(ja,en,Xhe,e0,t0,(t,e,n,r,i)=>{var a={},o;return n.forEach(s=>{var l=z4(e,s);o==null&&(o=epe(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;a[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),a}),rpe=V(La,en,Zhe,e0,t0,(t,e,n,r,i)=>{var a={},o;return n.forEach(s=>{var l=Jhe(e,s);o==null&&(o=tpe(e,r,t));var c=r==="left"&&!i||r==="right"&&i;a[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),a}),ipe=(t,e)=>{var n=Ua(t,e);if(n!=null)return npe(t,n.orientation,n.mirror)},ape=V([en,Ua,ipe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),ope=(t,e)=>{var n=za(t,e);if(n!=null)return rpe(t,n.orientation,n.mirror)},spe=V([en,za,ope,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),$4=V(en,za,(t,e)=>{var n=typeof e.width=="number"?e.width:Hf;return{width:n,height:t.height}}),jO=(t,e,n)=>{switch(e){case"xAxis":return B4(t,n).width;case"yAxis":return $4(t,n).height;default:return}},W4=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=Zo(t,r),l=e.map(c=>c.value);if(o&&s&&a==="category"&&i&&Tz(l))return l}},rC=V([Ue,Xy,It,St],W4),H4=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Zo(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(s=>s.value)}},iC=V([Ue,Xy,th,St],H4),FO=V([Ue,Ehe,ou,Jy,rC,iC,ih,tC,St],(t,e,n,r,i,a,o,s,l)=>{if(e!=null){var c=Zo(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}}),lpe=(t,e,n,r,i,a,o,s,l)=>{if(!(e==null||r==null)){var c=Zo(t,l),{type:u,ticks:d,tickCount:h}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=u==="category"&&r.bandwidth?r.bandwidth()/m:0;g=l==="angleAxis"&&a!=null&&a.length>=2?dn(a[0]-a[1])*2*g:g;var y=d||i;if(y){var E=y.map((b,w)=>{var T=o?o.indexOf(b):b;return{index:w,coordinate:r(T)+g,value:b,offset:g}});return E.filter(b=>kt(b.coordinate))}return c&&s?s.map((b,w)=>({coordinate:r(b)+g,value:b,index:w,offset:g})).filter(b=>kt(b.coordinate)):r.ticks?r.ticks(h).map(b=>({coordinate:r(b)+g,value:b,offset:g})):r.domain().map((b,w)=>({coordinate:r(b)+g,value:o?o[b]:b,index:w,offset:g}))}},q4=V([Ue,th,ou,Jy,tC,ih,rC,iC,St],lpe),cpe=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var s=Zo(t,o),{tickCount:l}=e,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?dn(r[0]-r[1])*2*c:c,s&&a?a.map((u,d)=>({coordinate:n(u)+c,value:u,index:d,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,d)=>({coordinate:n(u)+c,value:i?i[u]:u,index:d,offset:c}))}},Bo=V([Ue,th,Jy,ih,rC,iC,St],cpe),$o=V(It,Jy,(t,e)=>{if(!(t==null||e==null))return Zg(Zg({},t),{},{scale:e})}),upe=V([It,ou,ZT,V4],JT);V((t,e,n)=>VT(t,n),upe,(t,e)=>{if(!(t==null||e==null))return Zg(Zg({},t),{},{scale:e})});var dpe=V([Ue,ky,Iy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),G4=t=>t.options.defaultTooltipEventType,K4=t=>t.options.validateTooltipEventTypes;function Y4(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function aC(t,e){var n=G4(t),r=K4(t);return Y4(e,n,r)}function fpe(t){return de(e=>aC(e,t))}var Q4=(t,e)=>{var n,r=Number(e);if(!(hi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},hpe=t=>t.tooltip.settings,oo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ppe={itemInteraction:{click:oo,hover:oo},axisInteraction:{click:oo,hover:oo},keyboardInteraction:oo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},X4=mr({name:"tooltip",initialState:ppe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:vt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ci(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:vt()},removeTooltipEntrySettings:{reducer(t,e){var n=ci(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:vt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:mpe,replaceTooltipEntrySettings:gpe,removeTooltipEntrySettings:vpe,setTooltipSettingsState:ype,setActiveMouseOverItemIndex:Z4,mouseLeaveItem:Epe,mouseLeaveChart:J4,setActiveClickItemIndex:bpe,setMouseOverAxisIndex:e5,setMouseClickAxisIndex:wpe,setSyncInteraction:C_,setKeyboardInteraction:k_}=X4.actions,_pe=X4.reducer;function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){Spe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Spe(t,e,n){return(e=Ape(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ape(t){var e=xpe(t,"string");return typeof e=="symbol"?e:e+""}function xpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tpe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Cpe(t){return t.index!=null}var t5=(t,e,n,r)=>{if(e==null)return oo;var i=Tpe(t,e,n);if(i==null)return oo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Cpe(i)){if(a)return Ip(Ip({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ip(Ip({},oo),{},{coordinate:i.coordinate})};function kpe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Ipe(t,e){var n=kpe(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function Ppe(t,e,n){if(n==null||e==null)return!0;var r=et(t,e);return r==null||!zo(n)?!0:Ipe(r,n)}var oC=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!kt(a))return i;var o=0,s=1/0;e.length>0&&(s=e.length-1);var l=Math.max(o,Math.min(a,s)),c=e[l];return c==null||Ppe(c,n,r)?String(l):null},n5=(t,e,n,r,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},r5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},ah=t=>t.options.tooltipPayloadSearcher,su=t=>t.tooltip;function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){Rpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rpe(t,e,n){return(e=Dpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dpe(t){var e=Ope(t,"string");return typeof e=="symbol"?e:e+""}function Ope(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Npe(t,e){return t??e}var i5=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,d=[];return t.reduce((h,m)=>{var g,{dataDefinedOnItem:y,settings:E}=m,b=Npe(y,s),w=Array.isArray(b)?MB(b,c,u):b,T=(g=E==null?void 0:E.dataKey)!==null&&g!==void 0?g:r,A=E==null?void 0:E.nameKey,P;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&o==="axis"?P=Cz(w,r,i):P=a(w,e,l,A),Array.isArray(P))P.forEach(S=>{var x=zO(zO({},E),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});h.push(ZR({tooltipEntrySettings:x,dataKey:S.dataKey,payload:S.payload,value:et(S.payload,S.dataKey),name:S.name}))});else{var k;h.push(ZR({tooltipEntrySettings:E,dataKey:T,payload:P,value:et(P,T),name:(k=et(P,A))!==null&&k!==void 0?k:E==null?void 0:E.name}))}return h},d)}},sC=V([rn,Ue,x4,DT,nn],j4),Mpe=V([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Lpe=V([nn,iu],UT),lu=V([Mpe,rn,Lpe],zT,{memoizeOptions:{resultEqualityCheck:Yy}}),jpe=V([lu],t=>t.filter(Gy)),Fpe=V([lu],BT,{memoizeOptions:{resultEqualityCheck:Yy}}),cu=V([Fpe,Va],$T),Vpe=V([jpe,Va,rn],_4),lC=V([cu,rn,lu],HT),a5=V([rn],qT),Upe=V([rn],t=>t.allowDataOverflow),o5=V([a5,Upe],J$),zpe=V([lu],t=>t.filter(Gy)),Bpe=V([Vpe,zpe,Jf,m4],I4),$pe=V([Bpe,Va,nn,o5],P4),Wpe=V([lu],C4),Hpe=V([cu,rn,Wpe,Zy,nn],YT,{memoizeOptions:{resultEqualityCheck:Ky}}),qpe=V([R4,nn,iu],au),Gpe=V([qpe,nn],N4),Kpe=V([D4,nn,iu],au),Ype=V([Kpe,nn],M4),Qpe=V([O4,nn,iu],au),Xpe=V([Qpe,nn],L4),Zpe=V([Gpe,Xpe,Ype],Jg),Jpe=V([rn,a5,o5,$pe,Hpe,Zpe,Ue,nn],QT),oh=V([rn,Ue,cu,lC,Jf,nn,Jpe],XT),eme=V([oh,rn,sC],eC),tme=V([rn,oh,eme,nn],nC),s5=t=>{var e=nn(t),n=iu(t),r=!1;return ih(t,e,n,r)},l5=V([rn,s5],Hy),c5=V([rn,sC,tme,l5],JT),nme=V([Ue,lC,rn,nn],W4),rme=V([Ue,lC,rn,nn],H4),ime=(t,e,n,r,i,a,o,s)=>{if(e){var{type:l}=e,c=Zo(t,s);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?dn(i[0]-i[1])*2*d:d,c&&o?o.map((h,m)=>({coordinate:r(h)+d,value:h,index:m,offset:d})):r.domain().map((h,m)=>({coordinate:r(h)+d,value:a?a[h]:h,index:m,offset:d}))}}},Ba=V([Ue,rn,sC,c5,s5,nme,rme,nn],ime),cC=V([G4,K4,hpe],(t,e,n)=>Y4(n.shared,t,e)),u5=t=>t.tooltip.settings.trigger,uC=t=>t.tooltip.settings.defaultIndex,sh=V([su,cC,u5,uC],t5),Wo=V([sh,cu,rh,oh],oC),d5=V([Ba,Wo],Q4),dC=V([sh],t=>{if(t)return t.dataKey}),ame=V([sh],t=>{if(t)return t.graphicalItemId}),f5=V([su,cC,u5,uC],r5),ome=V([La,ja,Ue,en,Ba,uC,f5,ah],n5),sme=V([sh,ome],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),lme=V([sh],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),cme=V([f5,Wo,Va,rh,d5,ah,cC],i5),ume=V([cme],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){dme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dme(t,e,n){return(e=fme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fme(t){var e=hme(t,"string");return typeof e=="symbol"?e:e+""}function hme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pme=()=>de(rn),mme=()=>{var t=pme(),e=de(Ba),n=de(c5);return Lc(!t||!n?void 0:$O($O({},t),{},{scale:n}),e)};function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){gme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gme(t,e,n){return(e=vme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vme(t){var e=yme(t,"string");return typeof e=="symbol"?e:e+""}function yme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eme=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},bme=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:o}=r;return Cl(Cl(Cl({},r),Wt(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return Cl(Cl(Cl({},r),Wt(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function wme(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var h5=(t,e,n,r,i)=>{var a,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,c,u,d,h,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,g=(u=n[s])===null||u===void 0?void 0:u.coordinate,y=s>=o-1?(d=n[0])===null||d===void 0?void 0:d.coordinate:(h=n[s+1])===null||h===void 0?void 0:h.coordinate,E=void 0;if(!(m==null||g==null||y==null))if(dn(g-m)!==dn(y-g)){var b=[];if(dn(y-g)===dn(i[1]-i[0])){E=y;var w=g+i[1]-i[0];b[0]=Math.min(w,(w+m)/2),b[1]=Math.max(w,(w+m)/2)}else{E=m;var T=y+i[1]-i[0];b[0]=Math.min(g,(T+g)/2),b[1]=Math.max(g,(T+g)/2)}var A=[Math.min(g,(E+g)/2),Math.max(g,(E+g)/2)];if(t>A[0]&&t<=A[1]||t>=b[0]&&t<=b[1]){var P;return(P=n[s])===null||P===void 0?void 0:P.index}}else{var k=Math.min(m,y),S=Math.max(m,y);if(t>(k+g)/2&&t<=(S+g)/2){var x;return(x=n[s])===null||x===void 0?void 0:x.index}}}else if(e)for(var I=0;I<o;I++){var D=e[I];if(D!=null){var R=e[I+1],O=e[I-1];if(I===0&&R!=null&&t<=(D.coordinate+R.coordinate)/2||I===o-1&&O!=null&&t>(D.coordinate+O.coordinate)/2||I>0&&I<o-1&&O!=null&&R!=null&&t>(D.coordinate+O.coordinate)/2&&t<=(D.coordinate+R.coordinate)/2)return D.index}}return-1},_me=()=>de(DT),fC=(t,e)=>e,p5=(t,e,n)=>n,hC=(t,e,n,r)=>r,Sme=V(Ba,t=>yy(t,e=>e.coordinate)),pC=V([su,fC,p5,hC],t5),mC=V([pC,cu,rh,oh],oC),Ame=(t,e,n)=>{if(e!=null){var r=su(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},m5=V([su,fC,p5,hC],r5),ev=V([La,ja,Ue,en,Ba,hC,m5,ah],n5),xme=V([pC,ev],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),g5=V([Ba,mC],Q4),Tme=V([m5,mC,Va,rh,g5,ah,fC],i5),Cme=V([pC,mC],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),kme=(t,e,n,r,i,a,o)=>{if(!(!t||!n||!r||!i)&&wme(t,o)){var s=nle(t,e),l=h5(s,a,i,n,r),c=Eme(e,i,l,t);return{activeIndex:String(l),activeCoordinate:c}}},Ime=(t,e,n,r,i,a,o)=>{if(!(!t||!r||!i||!a||!n)){var s=mue(t,n);if(s){var l=rle(s,e),c=h5(l,o,a,r,i),u=bme(e,a,c,s);return{activeIndex:String(c),activeCoordinate:u}}}},Pme=(t,e,n,r,i,a,o,s)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?kme(t,e,r,i,a,o,s):Ime(t,e,n,r,i,a,o)},Rme=V(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Dme=V(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Ht)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:phe}});function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){Ome(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ome(t,e,n){return(e=Nme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nme(t){var e=Mme(t,"string");return typeof e=="symbol"?e:e+""}function Mme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lme={},jme={zIndexMap:Object.values(Ht).reduce((t,e)=>qO(qO({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Lme)},Fme=new Set(Object.values(Ht));function Vme(t){return Fme.has(t)}var v5=mr({name:"zIndex",initialState:jme,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:vt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Vme(n)&&delete t.zIndexMap[n])},prepare:vt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:vt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:vt()}}}),{registerZIndexPortal:Ume,unregisterZIndexPortal:zme,registerZIndexPortalElement:Bme,unregisterZIndexPortalElement:$me}=v5.actions,Wme=v5.reducer;function gr(t){var{zIndex:e,children:n}=t,r=Ple(),i=r&&e!==void 0&&e!==0,a=Hn(),o=st();v.useLayoutEffect(()=>i?(o(Ume({zIndex:e})),()=>{o(zme({zIndex:e}))}):zf,[o,e,i]);var s=de(l=>Rme(l,e,a));return i?s?Vs.createPortal(n,s):null:n}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(null,arguments)}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){Hme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hme(t,e,n){return(e=qme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qme(t){var e=Gme(t,"string");return typeof e=="symbol"?e:e+""}function Gme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kme(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return v.isValidElement(e)?v.cloneElement(e,r):v.createElement(n,r)}function Yme(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:c,chartName:u}=t,d=n,h=r,m=i;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var g,y,E;if(u==="ScatterChart")g=d,y=Ice,E=Ht.cursorLine;else if(u==="BarChart")g=Pce(s,d,a,o),y=u$,E=Ht.cursorRectangle;else if(s==="radial"&&Iz(d)){var{cx:b,cy:w,radius:T,startAngle:A,endAngle:P}=f$(d);g={cx:b,cy:w,startAngle:A,endAngle:P,innerRadius:T,outerRadius:T},y=p$,E=Ht.cursorLine}else g={points:Eue(s,d,a)},y=aT,E=Ht.cursorLine;var k=typeof l=="object"&&"className"in l?l.className:void 0,S=Pp(Pp(Pp(Pp({stroke:"#ccc",pointerEvents:"none"},a),g),Qs(l)),{},{payload:h,payloadIndex:m,className:He("recharts-tooltip-cursor",k)});return v.createElement(gr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:E},v.createElement(Kme,{cursor:l,cursorComp:y,cursorProps:S}))}function Qme(t){var e=mme(),n=KB(),r=eu(),i=_me();return e==null||n==null||r==null||i==null?null:v.createElement(Yme,I_({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var y5=v.createContext(null),Xme=()=>v.useContext(y5),E5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,g=new Array(m);h<m;h++)g[h]=d[h].fn;return g},s.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,m,g){var y=n?n+c:c;if(!this._events[y])return!1;var E=this._events[y],b=arguments.length,w,T;if(E.fn){switch(E.once&&this.removeListener(c,E.fn,void 0,!0),b){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,u),!0;case 3:return E.fn.call(E.context,u,d),!0;case 4:return E.fn.call(E.context,u,d,h),!0;case 5:return E.fn.call(E.context,u,d,h,m),!0;case 6:return E.fn.call(E.context,u,d,h,m,g),!0}for(T=1,w=new Array(b-1);T<b;T++)w[T-1]=arguments[T];E.fn.apply(E.context,w)}else{var A=E.length,P;for(T=0;T<A;T++)switch(E[T].once&&this.removeListener(c,E[T].fn,void 0,!0),b){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,u);break;case 3:E[T].fn.call(E[T].context,u,d);break;case 4:E[T].fn.call(E[T].context,u,d,h);break;default:if(!w)for(P=1,w=new Array(b-1);P<b;P++)w[P-1]=arguments[P];E[T].fn.apply(E[T].context,w)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var m=n?n+c:c;if(!this._events[m])return this;if(!u)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&o(this,m);else{for(var y=0,E=[],b=g.length;y<b;y++)(g[y].fn!==u||h&&!g[y].once||d&&g[y].context!==d)&&E.push(g[y]);E.length?this._events[m]=E.length===1?E[0]:E:o(this,m)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(E5);var Zme=E5.exports;const Jme=Da(Zme);var hf=new Jme,P_="recharts.syncEvent.tooltip",KO="recharts.syncEvent.brush";function gC(t,e){if(e){var n=Number.parseInt(e,10);if(!hi(n))return t==null?void 0:t[n]}}var ege={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},b5=mr({name:"options",initialState:ege,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),tge=b5.reducer,{createEventEmitter:nge}=b5.actions;function rge(t){return t.tooltip.syncInteraction}var ige={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},w5=mr({name:"chartData",initialState:ige,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:YO,setDataStartEndIndexes:age,setComputedData:$Se}=w5.actions,oge=w5.reducer,sge=["x","y"];function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){lge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lge(t,e,n){return(e=cge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cge(t){var e=uge(t,"string");return typeof e=="symbol"?e:e+""}function uge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dge(t,e){if(t==null)return{};var n,r,i=fge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hge(){var t=de(OT),e=de(NT),n=st(),r=de(g4),i=de(Ba),a=eu(),o=Dy(),s=de(l=>l.rootProps.className);v.useEffect(()=>{if(t==null)return zf;var l=(c,u,d)=>{if(e!==d&&t===c){if(r==="index"){var h;if(o&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate&&u.payload.sourceViewBox){var m=u.payload.coordinate,{x:g,y}=m,E=dge(m,sge),{x:b,y:w,width:T,height:A}=u.payload.sourceViewBox,P=kl(kl({},E),{},{x:o.x+(T?(g-b)/T:0)*o.width,y:o.y+(A?(y-w)/A:0)*o.height});n(kl(kl({},u),{},{payload:kl(kl({},u.payload),{},{coordinate:P})}))}else n(u);return}if(i!=null){var k;if(typeof r=="function"){var S={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},x=r(i,S);k=i[x]}else r==="value"&&(k=i.find(he=>String(he.value)===u.payload.label));var{coordinate:I}=u.payload;if(k==null||u.payload.active===!1||I==null||o==null){n(C_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:R}=I,O=Math.min(D,o.x+o.width),N=Math.min(R,o.y+o.height),Q={x:a==="horizontal"?k.coordinate:O,y:a==="horizontal"?N:k.coordinate},oe=C_({active:u.payload.active,coordinate:Q,dataKey:u.payload.dataKey,index:String(k.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});n(oe)}}};return hf.on(P_,l),()=>{hf.off(P_,l)}},[s,n,e,t,r,i,a,o])}function pge(){var t=de(OT),e=de(NT),n=st();v.useEffect(()=>{if(t==null)return zf;var r=(i,a,o)=>{e!==o&&t===i&&n(age(a))};return hf.on(KO,r),()=>{hf.off(KO,r)}},[n,e,t])}function mge(){var t=st();v.useEffect(()=>{t(nge())},[t]),hge(),pge()}function gge(t,e,n,r,i,a){var o=de(m=>Ame(m,t,e)),s=de(NT),l=de(OT),c=de(g4),u=de(rge),d=u==null?void 0:u.active,h=Dy();v.useEffect(()=>{if(!d&&l!=null&&s!=null){var m=C_({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});hf.emit(P_,l,m,s)}},[d,n,o,i,r,s,l,c,a,h])}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){vge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vge(t,e,n){return(e=yge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yge(t){var e=Ege(t,"string");return typeof e=="symbol"?e:e+""}function Ege(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bge(t){return t.dataKey}function wge(t,e){return v.isValidElement(t)?v.cloneElement(t,e):typeof t=="function"?v.createElement(t,e):v.createElement(lce,e)}var JO=[],_ge={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rp(t){var e,n,r=Yt(t,_ge),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:l,filterNull:c,isAnimationActive:u,offset:d,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:y,wrapperStyle:E,cursor:b,shared:w,trigger:T,defaultIndex:A,portal:P,axisId:k}=r,S=st(),x=typeof A=="number"?String(A):A;v.useEffect(()=>{S(ype({shared:w,trigger:T,axisId:k,active:i,defaultIndex:x}))},[S,w,T,k,i,x]);var I=Dy(),D=a$(),R=fpe(w),{activeIndex:O,isActive:N}=(e=de(Oe=>Cme(Oe,R,T,x)))!==null&&e!==void 0?e:{},Q=de(Oe=>Tme(Oe,R,T,x)),oe=de(Oe=>g5(Oe,R,T,x)),he=de(Oe=>xme(Oe,R,T,x)),Z=Q,W=Xme(),q=(n=i??N)!==null&&n!==void 0?n:!1,[ne,we]=aB([Z,q]),z=R==="axis"?oe:void 0;gge(R,T,he,z,O,q);var re=P??W;if(re==null||I==null||R==null)return null;var pe=Z??JO;q||(pe=JO),c&&pe.length&&(pe=Gz(pe.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||r.includeHidden)),h,bge));var Me=pe.length>0,te=v.createElement(mce,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:u,active:q,coordinate:he,hasPayload:Me,offset:d,position:m,reverseDirection:g,useTranslate3d:y,viewBox:I,wrapperStyle:E,lastBoundingBox:ne,innerRef:we,hasPortalFromProps:!!P},wge(l,ZO(ZO({},r),{},{payload:pe,label:z,active:q,activeIndex:O,coordinate:he,accessibilityLayer:D})));return v.createElement(v.Fragment,null,Vs.createPortal(te,re),q&&v.createElement(Qme,{cursor:b,tooltipEventType:R,coordinate:he,payload:pe,index:O}))}var lh=t=>null;lh.displayName="Cell";function Sge(t,e,n){return(e=Age(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Age(t){var e=xge(t,"string");return typeof e=="symbol"?e:e+""}function xge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Tge{constructor(e){Sge(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){kge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kge(t,e,n){return(e=Ige(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ige(t){var e=Pge(t,"string");return typeof e=="symbol"?e:e+""}function Pge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rge={cacheSize:2e3,enableCache:!0},_5=Cge({},Rge),tN=new Tge(_5.cacheSize),Dge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nN="recharts_measurement_span";function Oge(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",s=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var rN=(t,e)=>{try{var n=document.getElementById(nN);n||(n=document.createElement("span"),n.setAttribute("id",nN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Dge,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},_d=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jy.isSsr)return{width:0,height:0};if(!_5.enableCache)return rN(e,n);var r=Oge(e,n),i=tN.get(r);if(i)return i;var a=rN(e,n);return tN.set(r,a),a},S5;function Nge(t,e,n){return(e=Mge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mge(t){var e=Lge(t,"string");return typeof e=="symbol"?e:e+""}function Lge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Vge={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Uge=["cm","mm","pt","pc","in","Q","px"];function zge(t){return Uge.includes(t)}var Yl="NaN";function Bge(t,e){return t*Vge[e]}class bn{static parse(e){var n,[,r,i]=(n=Fge.exec(e))!==null&&n!==void 0?n:[];return r==null?bn.NaN:new bn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,hi(e)&&(this.unit=""),n!==""&&!jge.test(n)&&(this.num=NaN,this.unit=""),zge(n)&&(this.num=Bge(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new bn(NaN,""):new bn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new bn(NaN,""):new bn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new bn(NaN,""):new bn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new bn(NaN,""):new bn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hi(this.num)}}S5=bn;Nge(bn,"NaN",new S5(NaN,""));function A5(t){if(t==null||t.includes(Yl))return Yl;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=iN.exec(e))!==null&&n!==void 0?n:[],o=bn.parse(r??""),s=bn.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Yl;e=e.replace(iN,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,d,h]=(c=aN.exec(e))!==null&&c!==void 0?c:[],m=bn.parse(u??""),g=bn.parse(h??""),y=d==="+"?m.add(g):m.subtract(g);if(y.isNaN())return Yl;e=e.replace(aN,y.toString())}return e}var oN=/\(([^()]*)\)/;function $ge(t){for(var e=t,n;(n=oN.exec(e))!=null;){var[,r]=n;e=e.replace(oN,A5(r))}return e}function Wge(t){var e=t.replace(/\s+/g,"");return e=$ge(e),e=A5(e),e}function Hge(t){try{return Wge(t)}catch{return Yl}}function qE(t){var e=Hge(t.slice(5,-1));return e===Yl?"":e}var qge=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Gge=["dx","dy","angle","className","breakAll"];function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(null,arguments)}function sN(t,e){if(t==null)return{};var n,r,i=Kge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var x5=/[ \f\n\r\t\v\u2028\u2029]+/,T5=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];_t(e)||(n?i=e.toString().split(""):i=e.toString().split(x5));var a=i.map(s=>({word:s,width:_d(s,r).width})),o=n?0:_d("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function Yge(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var C5=(t,e,n,r)=>t.reduce((i,a)=>{var{word:o,width:s}=a,l=i[i.length-1];if(l&&s!=null&&(e==null||r||l.width+s+n<Number(e)))l.words.push(o),l.width+=s+n;else{var c={words:[o],width:s};i.push(c)}return i},[]),k5=t=>t.reduce((e,n)=>e.width>n.width?e:n),Qge="",lN=(t,e,n,r,i,a,o,s)=>{var l=t.slice(0,e),c=T5({breakAll:n,style:r,children:l+Qge});if(!c)return[!1,[]];var u=C5(c.wordsWithComputedWidth,a,o,s),d=u.length>i||k5(u).width>Number(a);return[d,u]},Xge=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=t,c=ue(a),u=String(o),d=C5(e,r,n,i);if(!c||i)return d;var h=d.length>a||k5(d).width>Number(r);if(!h)return d;for(var m=0,g=u.length-1,y=0,E;m<=g&&y<=u.length-1;){var b=Math.floor((m+g)/2),w=b-1,[T,A]=lN(u,w,l,s,a,r,n,i),[P]=lN(u,b,l,s,a,r,n,i);if(!T&&!P&&(m=b+1),T&&P&&(g=b-1),!T&&P){E=A;break}y++}return E||d},cN=t=>{var e=_t(t)?[]:t.toString().split(x5);return[{words:e,width:void 0}]},Zge=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!jy.isSsr){var s,l,c=T5({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:d}=c;s=u,l=d}else return cN(r);return Xge({breakAll:a,children:r,maxLines:o,style:i},s,l,e,!!n)}return cN(r)},I5="#808080",Jge={angle:0,breakAll:!1,capHeight:"0.71em",fill:I5,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},n0=v.forwardRef((t,e)=>{var n=Yt(t,Jge),{x:r,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:l,textAnchor:c,verticalAnchor:u}=n,d=sN(n,qge),h=v.useMemo(()=>Zge({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:m,dy:g,angle:y,className:E,breakAll:b}=d,w=sN(d,Gge);if(!Ui(r)||!Ui(i)||h.length===0)return null;var T=Number(r)+(ue(m)?m:0),A=Number(i)+(ue(g)?g:0);if(!kt(T)||!kt(A))return null;var P;switch(u){case"start":P=qE("calc(".concat(o,")"));break;case"middle":P=qE("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:P=qE("calc(".concat(h.length-1," * -").concat(a,")"));break}var k=[];if(l){var S=h[0].width,{width:x}=d;k.push("scale(".concat(ue(x)&&ue(S)?x/S:1,")"))}return y&&k.push("rotate(".concat(y,", ").concat(T,", ").concat(A,")")),k.length&&(w.transform=k.join(" ")),v.createElement("text",R_({},tr(w),{ref:e,x:T,y:A,className:He("recharts-text",E),textAnchor:c,fill:s.includes("url")?I5:s}),h.map((I,D)=>{var R=I.words.join(b?"":" ");return v.createElement("tspan",{x:T,dy:D===0?P:a,key:"".concat(R,"-").concat(D)},R)}))});n0.displayName="Text";var eve=["labelRef"],tve=["content"];function uN(t,e){if(t==null)return{};var n,r,i=nve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(r){rve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rve(t,e,n){return(e=ive(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ive(t){var e=ave(t,"string");return typeof e=="symbol"?e:e+""}function ave(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ji.apply(null,arguments)}var P5=v.createContext(null),ove=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:s}=t,l=v.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[e,n,r,i,a,o]);return v.createElement(P5.Provider,{value:l},s)},R5=()=>{var t=v.useContext(P5),e=Dy();return t||GB(e)},sve=v.createContext(null),lve=()=>{var t=v.useContext(sve),e=de(w4);return t||e},cve=t=>{var{value:e,formatter:n}=t,r=_t(t.children)?e:t.children;return typeof n=="function"?n(r):r},vC=t=>t!=null&&typeof t=="function",uve=(t,e)=>{var n=dn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},dve=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:s,cy:l,innerRadius:c,outerRadius:u,startAngle:d,endAngle:h,clockWise:m}=i,g=(c+u)/2,y=uve(d,h),E=y>=0?1:-1,b,w;switch(e){case"insideStart":b=d+E*a,w=m;break;case"insideEnd":b=h-E*a,w=!m;break;case"end":b=h+E*a,w=m;break;default:throw new Error("Unsupported position ".concat(e))}w=y<=0?w:!w;var T=Wt(s,l,g,b),A=Wt(s,l,g,b+(w?1:-1)*359),P="M".concat(T.x,",").concat(T.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(A.x,",").concat(A.y),k=_t(t.id)?Jd("recharts-radial-line-"):t.id;return v.createElement("text",Ji({},r,{dominantBaseline:"central",className:He("recharts-radial-bar-label",o)}),v.createElement("defs",null,v.createElement("path",{id:k,d:P})),v.createElement("textPath",{xlinkHref:"#".concat(k)},n))},fve=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=t,c=(s+l)/2;if(n==="outside"){var{x:u,y:d}=Wt(r,i,o+e,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:m,y:g}=Wt(r,i,h,c);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},D_=t=>"cx"in t&&ue(t.cx),hve=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!D_(n)&&(a=n);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:u}=e,d=o,h=o+(l-c)/2,m=(d+h)/2,g=(l+c)/2,y=d+l/2,E=u>=0?1:-1,b=E*r,w=E>0?"end":"start",T=E>0?"start":"end",A=l>=0?1:-1,P=A*r,k=A>0?"end":"start",S=A>0?"start":"end";if(i==="top"){var x={x:d+l/2,y:s-b,textAnchor:"middle",verticalAnchor:w};return Lt(Lt({},x),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var I={x:h+c/2,y:s+u+b,textAnchor:"middle",verticalAnchor:T};return Lt(Lt({},I),a?{height:Math.max(a.y+a.height-(s+u),0),width:c}:{})}if(i==="left"){var D={x:m-P,y:s+u/2,textAnchor:k,verticalAnchor:"middle"};return Lt(Lt({},D),a?{width:Math.max(D.x-a.x,0),height:u}:{})}if(i==="right"){var R={x:m+g+P,y:s+u/2,textAnchor:S,verticalAnchor:"middle"};return Lt(Lt({},R),a?{width:Math.max(a.x+a.width-R.x,0),height:u}:{})}var O=a?{width:g,height:u}:{};return i==="insideLeft"?Lt({x:m+P,y:s+u/2,textAnchor:S,verticalAnchor:"middle"},O):i==="insideRight"?Lt({x:m+g-P,y:s+u/2,textAnchor:k,verticalAnchor:"middle"},O):i==="insideTop"?Lt({x:d+l/2,y:s+b,textAnchor:"middle",verticalAnchor:T},O):i==="insideBottom"?Lt({x:h+c/2,y:s+u-b,textAnchor:"middle",verticalAnchor:w},O):i==="insideTopLeft"?Lt({x:d+P,y:s+b,textAnchor:S,verticalAnchor:T},O):i==="insideTopRight"?Lt({x:d+l-P,y:s+b,textAnchor:k,verticalAnchor:T},O):i==="insideBottomLeft"?Lt({x:h+P,y:s+u-b,textAnchor:S,verticalAnchor:w},O):i==="insideBottomRight"?Lt({x:h+c-P,y:s+u-b,textAnchor:k,verticalAnchor:w},O):i&&typeof i=="object"&&(ue(i.x)||xa(i.x))&&(ue(i.y)||xa(i.y))?Lt({x:o+zn(i.x,g),y:s+zn(i.y,u),textAnchor:"end",verticalAnchor:"end"},O):Lt({x:y,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},O)},pve={angle:0,offset:5,zIndex:Ht.label,position:"middle",textBreakAll:!1};function Za(t){var e=Yt(t,pve),{viewBox:n,position:r,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:c}=e,u=lve(),d=R5(),h=r==="center"?d:u??d,m,g,y;if(n==null?m=h:D_(n)?m=n:m=GB(n),!m||_t(i)&&_t(a)&&!v.isValidElement(o)&&typeof o!="function")return null;var E=Lt(Lt({},e),{},{viewBox:m});if(v.isValidElement(o)){var{labelRef:b}=E,w=uN(E,eve);return v.cloneElement(o,w)}if(typeof o=="function"){var{content:T}=E,A=uN(E,tve);if(g=v.createElement(o,A),v.isValidElement(g))return g}else g=cve(e);var P=tr(e);if(D_(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return dve(e,r,g,P,m);y=fve(m,e.offset,e.position)}else y=hve(e,m);return v.createElement(gr,{zIndex:e.zIndex},v.createElement(n0,Ji({ref:c,className:He("recharts-label",s)},P,y,{textAnchor:Yge(P.textAnchor)?P.textAnchor:y.textAnchor,breakAll:l}),g))}Za.displayName="Label";var mve=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?v.createElement(Za,Ji({key:"label-implicit"},r)):Ui(t)?v.createElement(Za,Ji({key:"label-implicit",value:t},r)):v.isValidElement(t)?t.type===Za?v.cloneElement(t,Lt({key:"label-implicit"},r)):v.createElement(Za,Ji({key:"label-implicit",content:t},r)):vC(t)?v.createElement(Za,Ji({key:"label-implicit",content:t},r)):t&&typeof t=="object"?v.createElement(Za,Ji({},t,{key:"label-implicit"},r)):null};function gve(t){var{label:e,labelRef:n}=t,r=R5();return mve(e,r,n)||null}var D5={},O5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(O5);var N5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(N5);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O5,n=N5,r=gy;function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(D5);var vve=D5.last;const yve=Da(vve);var Eve=["valueAccessor"],bve=["dataKey","clockWise","id","textBreakAll","zIndex"];function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(null,arguments)}function fN(t,e){if(t==null)return{};var n,r,i=wve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _ve=t=>Array.isArray(t.value)?yve(t.value):t.value,M5=v.createContext(void 0),L5=M5.Provider,j5=v.createContext(void 0),Sve=j5.Provider;function Ave(){return v.useContext(M5)}function xve(){return v.useContext(j5)}function dm(t){var{valueAccessor:e=_ve}=t,n=fN(t,Eve),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:s}=n,l=fN(n,bve),c=Ave(),u=xve(),d=c||u;return!d||!d.length?null:v.createElement(gr,{zIndex:s??Ht.label},v.createElement(hn,{className:"recharts-label-list"},d.map((h,m)=>{var g,y=_t(r)?e(h,m):et(h&&h.payload,r),E=_t(a)?{}:{id:"".concat(a,"-").concat(m)};return v.createElement(Za,tv({key:"label-".concat(m)},tr(h),l,E,{fill:(g=n.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}dm.displayName="LabelList";function yC(t){var{label:e}=t;return e?e===!0?v.createElement(dm,{key:"labelList-implicit"}):v.isValidElement(e)||vC(e)?v.createElement(dm,{key:"labelList-implicit",content:e}):typeof e=="object"?v.createElement(dm,tv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(null,arguments)}var F5=t=>{var{cx:e,cy:n,r,className:i}=t,a=He("recharts-dot",i);return ue(e)&&ue(n)&&ue(r)?v.createElement("circle",O_({},Rr(t),Nx(t),{className:a,cx:e,cy:n,r})):null},V5=t=>t.graphicalItems.polarItems,Tve=V([St,eh],UT),r0=V([V5,It,Tve],zT),Cve=V([r0],BT),i0=V([Cve,Wy],$T),kve=V([i0,It,r0],HT);V([i0,It,r0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=et(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:et(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var hN=()=>{},Ive=V([i0,It,r0,Zy,St],YT),Pve=V([It,GT,KT,hN,Ive,hN,Ue,St],QT),U5=V([It,Ue,i0,kve,Jf,St,Pve],XT),Rve=V([U5,It,ou],eC);V([It,U5,Rve,St],nC);var Dve={radiusAxis:{},angleAxis:{}},z5=mr({name:"polarAxis",initialState:Dve,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:WSe,removeRadiusAxis:HSe,addAngleAxis:qSe,removeAngleAxis:GSe}=z5.actions,Ove=z5.reducer;function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){Nve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nve(t,e,n){return(e=Mve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mve(t){var e=Lve(t,"string");return typeof e=="symbol"?e:e+""}function Lve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jve=(t,e)=>e,EC=V([V5,jve],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Fve=[],bC=(t,e,n)=>(n==null?void 0:n.length)===0?Fve:n,B5=V([Wy,EC,bC],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>mN(mN({},e.presentationProps),a.props))),i!=null)return i}}),Vve=V([B5,EC,bC],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,o=et(r,e.nameKey,e.name),s;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=e.fill,{value:Jc(o,e.dataKey),color:s,payload:r,type:e.legendType}})}),Uve=V([B5,EC,bC,en],(t,e,n,r)=>{if(!(e==null||t==null))return Kye({offset:r,pieSettings:e,displayedData:t,cells:n})}),$5={exports:{}},it={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=60103,o0=60106,ch=60107,uh=60108,dh=60114,fh=60109,hh=60110,ph=60112,mh=60113,wC=60120,gh=60115,vh=60116,W5=60121,H5=60122,q5=60117,G5=60129,K5=60131;if(typeof Symbol=="function"&&Symbol.for){var vn=Symbol.for;a0=vn("react.element"),o0=vn("react.portal"),ch=vn("react.fragment"),uh=vn("react.strict_mode"),dh=vn("react.profiler"),fh=vn("react.provider"),hh=vn("react.context"),ph=vn("react.forward_ref"),mh=vn("react.suspense"),wC=vn("react.suspense_list"),gh=vn("react.memo"),vh=vn("react.lazy"),W5=vn("react.block"),H5=vn("react.server.block"),q5=vn("react.fundamental"),G5=vn("react.debug_trace_mode"),K5=vn("react.legacy_hidden")}function yi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case a0:switch(t=t.type,t){case ch:case dh:case uh:case mh:case wC:return t;default:switch(t=t&&t.$$typeof,t){case hh:case ph:case vh:case gh:case fh:return t;default:return e}}case o0:return e}}}var zve=fh,Bve=a0,$ve=ph,Wve=ch,Hve=vh,qve=gh,Gve=o0,Kve=dh,Yve=uh,Qve=mh;it.ContextConsumer=hh;it.ContextProvider=zve;it.Element=Bve;it.ForwardRef=$ve;it.Fragment=Wve;it.Lazy=Hve;it.Memo=qve;it.Portal=Gve;it.Profiler=Kve;it.StrictMode=Yve;it.Suspense=Qve;it.isAsyncMode=function(){return!1};it.isConcurrentMode=function(){return!1};it.isContextConsumer=function(t){return yi(t)===hh};it.isContextProvider=function(t){return yi(t)===fh};it.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===a0};it.isForwardRef=function(t){return yi(t)===ph};it.isFragment=function(t){return yi(t)===ch};it.isLazy=function(t){return yi(t)===vh};it.isMemo=function(t){return yi(t)===gh};it.isPortal=function(t){return yi(t)===o0};it.isProfiler=function(t){return yi(t)===dh};it.isStrictMode=function(t){return yi(t)===uh};it.isSuspense=function(t){return yi(t)===mh};it.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ch||t===dh||t===G5||t===uh||t===mh||t===wC||t===K5||typeof t=="object"&&t!==null&&(t.$$typeof===vh||t.$$typeof===gh||t.$$typeof===fh||t.$$typeof===hh||t.$$typeof===ph||t.$$typeof===q5||t.$$typeof===W5||t[0]===H5)};it.typeOf=yi;$5.exports=it;var Xve=$5.exports,gN=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",vN=null,GE=null,Y5=t=>{if(t===vN&&Array.isArray(GE))return GE;var e=[];return v.Children.forEach(t,n=>{_t(n)||(Xve.isFragment(n)?e=e.concat(Y5(n.props.children)):e.push(n))}),GE=e,vN=t,e};function _C(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>gN(i)):r=[gN(e)],Y5(t).forEach(i=>{var a=Zs(i,"type.displayName")||Zs(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var Q5=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,X5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(X5);var Zve=X5.isPlainObject;const Jve=Da(Zve);var yN,EN,bN,wN,_N;function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){eye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eye(t,e,n){return(e=tye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tye(t){var e=nye(t,"string");return typeof e=="symbol"?e:e+""}function nye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nv(){return nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nv.apply(null,arguments)}function $u(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var xN=(t,e,n,r,i)=>{var a=n-r,o;return o=Rt(yN||(yN=$u(["M ",",",""])),t,e),o+=Rt(EN||(EN=$u(["L ",",",""])),t+n,e),o+=Rt(bN||(bN=$u(["L ",",",""])),t+n-a/2,e+i),o+=Rt(wN||(wN=$u(["L ",",",""])),t+n-a/2-r,e+i),o+=Rt(_N||(_N=$u(["L ",","," Z"])),t,e),o},rye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iye=t=>{var e=Yt(t,rye),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:s}=e,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:d}=e,h=v.useRef(null),[m,g]=v.useState(-1),y=v.useRef(i),E=v.useRef(a),b=v.useRef(o),w=v.useRef(n),T=v.useRef(r),A=Kf(t,"trapezoid-");if(v.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var Q=h.current.getTotalLength();Q&&g(Q)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var P=He("recharts-trapezoid",s);if(!d)return v.createElement("g",null,v.createElement("path",nv({},tr(e),{className:P,d:xN(n,r,i,a,o)})));var k=y.current,S=E.current,x=b.current,I=w.current,D=T.current,R="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),N=o$(["strokeDasharray"],c,l);return v.createElement(Gf,{animationId:A,key:A,canBegin:m>0,duration:c,easing:l,isActive:d,begin:u},Q=>{var oe=yt(k,i,Q),he=yt(S,a,Q),Z=yt(x,o,Q),W=yt(I,n,Q),q=yt(D,r,Q);h.current&&(y.current=oe,E.current=he,b.current=Z,w.current=W,T.current=q);var ne=Q>0?{transition:N,strokeDasharray:O}:{strokeDasharray:R};return v.createElement("path",nv({},tr(e),{className:P,d:xN(W,q,oe,he,Z),ref:h,style:AN(AN({},ne),e.style)}))})},aye=["option","shapeType","activeClassName"];function oye(t,e){if(t==null)return{};var n,r,i=sye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){lye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lye(t,e,n){return(e=cye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cye(t){var e=uye(t,"string");return typeof e=="symbol"?e:e+""}function uye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dye(t,e){return rv(rv({},e),t)}function fye(t,e){return t==="symbols"}function CN(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return v.createElement(u$,n);case"trapezoid":return v.createElement(iye,n);case"sector":return v.createElement(p$,n);case"symbols":if(fye(e))return v.createElement(Ox,n);break;case"curve":return v.createElement(aT,n);default:return null}}function hye(t){return v.isValidElement(t)?t.props:t}function SC(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=oye(t,aye),a;if(v.isValidElement(e))a=v.cloneElement(e,rv(rv({},i),hye(e)));else if(typeof e=="function")a=e(i,i.index);else if(Jve(e)&&typeof e!="boolean"){var o=dye(e,i);a=v.createElement(CN,{shapeType:n,elementProps:o})}else{var s=i;a=v.createElement(CN,{shapeType:n,elementProps:s})}return i.isActive?v.createElement(hn,{className:r},a):a}var AC=(t,e,n)=>{var r=st();return(i,a)=>o=>{t==null||t(i,a,o),r(Z4({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},xC=t=>{var e=st();return(n,r)=>i=>{t==null||t(n,r,i),e(Epe())}},TC=(t,e,n)=>{var r=st();return(i,a)=>o=>{t==null||t(i,a,o),r(bpe({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function CC(t){var{tooltipEntrySettings:e}=t,n=st(),r=Hn(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(mpe(e)):i.current!==e&&n(gpe({prev:i.current,next:e})),i.current=e)},[e,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(vpe(i.current)),i.current=null)},[n]),null}function Z5(t){var{legendPayload:e}=t,n=st(),r=Hn(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(n$(e)):i.current!==e&&n(r$({prev:i.current,next:e})),i.current=e)},[n,r,e]),v.useLayoutEffect(()=>()=>{i.current&&(n(i$(i.current)),i.current=null)},[n]),null}function pye(t){var{legendPayload:e}=t,n=st(),r=de(Ue),i=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(n$(e)):i.current!==e&&n(r$({prev:i.current,next:e})),i.current=e)},[n,r,e]),v.useLayoutEffect(()=>()=>{i.current&&(n(i$(i.current)),i.current=null)},[n]),null}var KE,mye=()=>{var[t]=v.useState(()=>Jd("uid-"));return t},gye=(KE=gM.useId)!==null&&KE!==void 0?KE:mye;function vye(t,e){var n=gye();return e||(t?"".concat(t,"-").concat(n):n)}var yye=v.createContext(void 0),kC=t=>{var{id:e,type:n,children:r}=t,i=vye("recharts-".concat(n),e);return v.createElement(yye.Provider,{value:i},r(i))},Eye={cartesianItems:[],polarItems:[]},J5=mr({name:"graphicalItems",initialState:Eye,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:vt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ci(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:vt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ci(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:vt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:vt()},removePolarGraphicalItem:{reducer(t,e){var n=ci(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:vt()}}}),{addCartesianGraphicalItem:bye,replaceCartesianGraphicalItem:wye,removeCartesianGraphicalItem:_ye,addPolarGraphicalItem:Sye,removePolarGraphicalItem:Aye}=J5.actions,xye=J5.reducer,Tye=t=>{var e=st(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?e(bye(t)):n.current!==t&&e(wye({prev:n.current,next:t})),n.current=t},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(e(_ye(n.current)),n.current=null)},[e]),null},e3=v.memo(Tye);function Cye(t){var e=st();return v.useLayoutEffect(()=>(e(Sye(t)),()=>{e(Aye(t))}),[e,t]),null}var kye=["key"],Iye=["onMouseEnter","onClick","onMouseLeave"],Pye=["id"],Rye=["id"];function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){Dye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dye(t,e,n){return(e=Oye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oye(t){var e=Nye(t,"string");return typeof e=="symbol"?e:e+""}function Nye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ho.apply(null,arguments)}function s0(t,e){if(t==null)return{};var n,r,i=Mye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lye(t){var e=v.useMemo(()=>_C(t.children,lh),[t.children]),n=de(r=>Vve(r,t.id,e));return n==null?null:v.createElement(pye,{legendPayload:n})}var jye=v.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:c,id:u}=t,d={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:n,name:Jc(s,e),hide:l,type:c,color:o,unit:"",graphicalItemId:u}};return v.createElement(CC,{tooltipEntrySettings:d})}),Fye=(t,e)=>t>e?"start":t<e?"end":"middle",Vye=(t,e,n)=>zn(typeof e=="function"?e(t):e,n,n*.8),Uye=(t,e,n)=>{var{top:r,left:i,width:a,height:o}=e,s=d$(a,o),l=i+zn(t.cx,a,a/2),c=r+zn(t.cy,o,o/2),u=zn(t.innerRadius,s,0),d=Vye(n,t.outerRadius,s),h=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}},zye=(t,e)=>{var n=dn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Bye(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var $ye=(t,e)=>{if(v.isValidElement(t))return v.cloneElement(t,e);if(typeof t=="function")return t(e);var n=He("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=s0(e,kye);return v.createElement(aT,Ho({},i,{type:"linear",className:n}))},Wye=(t,e,n)=>{if(v.isValidElement(t))return v.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),v.isValidElement(r)))return r;var i=He("recharts-pie-label-text",Bye(t));return v.createElement(n0,Ho({},e,{alignmentBaseline:"middle",className:i}),r)};function Hye(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!e)return null;var s=Rr(n),l=Qs(i),c=Qs(a),u=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=e.map((h,m)=>{var g=(h.startAngle+h.endAngle)/2,y=Wt(h.cx,h.cy,h.outerRadius+u,g),E=Ot(Ot(Ot(Ot({},s),h),{},{stroke:"none"},l),{},{index:m,textAnchor:Fye(y.x,h.cx)},y),b=Ot(Ot(Ot(Ot({},s),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[Wt(h.cx,h.cy,h.outerRadius,g),y],key:"line"});return v.createElement(gr,{zIndex:Ht.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},v.createElement(hn,null,a&&$ye(a,b),Wye(i,E,et(h,o))))});return v.createElement(hn,{className:"recharts-pie-labels"},d)}function qye(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?v.createElement(yC,{label:i}):v.createElement(Hye,{sectors:e,props:n,showLabels:r})}function Gye(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:o}=t,s=de(Wo),l=de(dC),c=de(ame),{onMouseEnter:u,onClick:d,onMouseLeave:h}=i,m=s0(i,Iye),g=AC(u,i.dataKey,o),y=xC(h),E=TC(d,i.dataKey,o);return e==null||e.length===0?null:v.createElement(v.Fragment,null,e.map((b,w)=>{if((b==null?void 0:b.startAngle)===0&&(b==null?void 0:b.endAngle)===0&&e.length!==1)return null;var T=c==null||c===o,A=String(w)===s&&(l==null||i.dataKey===l)&&T,P=s?r:null,k=n&&A?n:P,S=Ot(Ot({},b),{},{stroke:b.stroke,tabIndex:-1,[VB]:w,[UB]:o});return v.createElement(hn,Ho({key:"sector-".concat(b==null?void 0:b.startAngle,"-").concat(b==null?void 0:b.endAngle,"-").concat(b.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},Bf(m,b,w),{onMouseEnter:g(b,w),onMouseLeave:y(b,w),onClick:E(b,w)}),v.createElement(SC,Ho({option:a??k,index:w,shapeType:"sector",isActive:A},S)))}))}function Kye(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:c,nameKey:u,tooltipType:d}=n,h=Math.abs(n.minAngle),m=zye(s,l),g=Math.abs(m),y=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,E=r.filter(k=>et(k,c,0)!==0).length,b=(g>=360?E:E-1)*y,w=g-E*h-b,T=r.reduce((k,S)=>{var x=et(S,c,0);return k+(ue(x)?x:0)},0),A;if(T>0){var P;A=r.map((k,S)=>{var x=et(k,c,0),I=et(k,u,S),D=Uye(n,a,k),R=(ue(x)?x:0)/T,O,N=Ot(Ot({},k),i&&i[S]&&i[S].props);S?O=P.endAngle+dn(m)*y*(x!==0?1:0):O=s;var Q=O+dn(m)*((x!==0?h:0)+R*w),oe=(O+Q)/2,he=(D.innerRadius+D.outerRadius)/2,Z=[{name:I,value:x,payload:N,dataKey:c,type:d,graphicalItemId:n.id}],W=Wt(D.cx,D.cy,he,oe);return P=Ot(Ot(Ot(Ot({},n.presentationProps),{},{percent:R,cornerRadius:typeof o=="string"?parseFloat(o):o,name:I,tooltipPayload:Z,midAngle:oe,middleRadius:he,tooltipPosition:W},N),D),{},{value:x,dataKey:c,startAngle:O,endAngle:Q,payload:N,paddingAngle:dn(m)*y}),P})}return A}function Yye(t){var{showLabels:e,sectors:n,children:r}=t,i=v.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return v.createElement(Sve,{value:e?i:void 0},r)}function Qye(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=e,m=Kf(e,"recharts-pie-"),g=n.current,[y,E]=v.useState(!1),b=v.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),w=v.useCallback(()=>{typeof d=="function"&&d(),E(!0)},[d]);return v.createElement(Yye,{showLabels:!y,sectors:i},v.createElement(Gf,{animationId:m,begin:o,duration:s,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:b,key:m},T=>{var A=[],P=i&&i[0],k=P==null?void 0:P.startAngle;return i==null||i.forEach((S,x)=>{var I=g&&g[x],D=x>0?Zs(S,"paddingAngle",0):0;if(I){var R=yt(I.endAngle-I.startAngle,S.endAngle-S.startAngle,T),O=Ot(Ot({},S),{},{startAngle:k+D,endAngle:k+R+D});A.push(O),k=O.endAngle}else{var{endAngle:N,startAngle:Q}=S,oe=yt(0,N-Q,T),he=Ot(Ot({},S),{},{startAngle:k+D,endAngle:k+oe+D});A.push(he),k=he.endAngle}}),n.current=A,v.createElement(hn,null,v.createElement(Gye,{sectors:A,activeShape:c,inactiveShape:u,allOtherPieProps:e,shape:e.shape,id:r}))}),v.createElement(qye,{showLabels:!y,sectors:i,props:e}),e.children)}var Xye={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ht.area};function Zye(t){var{id:e}=t,n=s0(t,Pye),{hide:r,className:i,rootTabIndex:a}=t,o=v.useMemo(()=>_C(t.children,lh),[t.children]),s=de(u=>Uve(u,e,o)),l=v.useRef(null),c=He("recharts-pie",i);return r||s==null?(l.current=null,v.createElement(hn,{tabIndex:a,className:c})):v.createElement(gr,{zIndex:t.zIndex},v.createElement(jye,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:s,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),v.createElement(hn,{tabIndex:a,className:c},v.createElement(Qye,{props:Ot(Ot({},n),{},{sectors:s}),previousSectorsRef:l,id:e})))}function t3(t){var e=Yt(t,Xye),{id:n}=e,r=s0(e,Rye),i=Rr(r);return v.createElement(kC,{id:n,type:"pie"},a=>v.createElement(v.Fragment,null,v.createElement(Cye,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),v.createElement(Lye,Ho({},r,{id:a})),v.createElement(Zye,Ho({},r,{id:a}))))}t3.displayName="Pie";var Jye=["points"];function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){e0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e0e(t,e,n){return(e=t0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=n0e(t,"string");return typeof e=="symbol"?e:e+""}function n0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iv(){return iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(null,arguments)}function r0e(t,e){if(t==null)return{};var n,r,i=i0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function i0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function a0e(t){var{option:e,dotProps:n,className:r}=t;if(v.isValidElement(e))return v.cloneElement(e,n);if(typeof e=="function")return e(n);var i=He(r,typeof e!="boolean"?e.className:""),a=n??{},{points:o}=a,s=r0e(a,Jye);return v.createElement(F5,iv({},s,{className:i}))}function o0e(t,e){return t==null?!1:e?!0:t.length===1}function s0e(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:l,zIndex:c=Ht.scatter}=t;if(!o0e(e,n))return null;var u=Q5(n),d=$ie(n),h=e.map((g,y)=>{var E,b,w=YE(YE(YE({r:3},o),d),{},{index:y,cx:(E=g.x)!==null&&E!==void 0?E:void 0,cy:(b=g.y)!==null&&b!==void 0?b:void 0,dataKey:a,value:g.value,payload:g.payload,points:e});return v.createElement(a0e,{key:"dot-".concat(y),option:n,dotProps:w,className:i})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),v.createElement(gr,{zIndex:c},v.createElement(hn,iv({className:r},m),h))}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){l0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l0e(t,e,n){return(e=c0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c0e(t){var e=u0e(t,"string");return typeof e=="symbol"?e:e+""}function u0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n3=0,d0e={xAxis:{},yAxis:{},zAxis:{}},r3=mr({name:"cartesianAxis",initialState:d0e,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:vt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:vt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:vt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:vt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:vt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:vt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:vt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:vt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:vt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);t.yAxis[n]=RN(RN({},t.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:f0e,replaceXAxis:h0e,removeXAxis:p0e,addYAxis:m0e,replaceYAxis:g0e,removeYAxis:v0e,addZAxis:KSe,replaceZAxis:YSe,removeZAxis:QSe,updateYAxisWidth:y0e}=r3.actions,E0e=r3.reducer,b0e=V([en],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),w0e=V([b0e,La,ja],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),IC=()=>de(w0e),_0e=()=>de(ume);function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){S0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S0e(t,e,n){return(e=A0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A0e(t){var e=x0e(t,"string");return typeof e=="symbol"?e:e+""}function x0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T0e=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=t;if(i===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=QE(QE(QE({},s),Qs(i)),Nx(i)),c;return v.isValidElement(i)?c=v.cloneElement(i,l):typeof i=="function"?c=i(l):c=v.createElement(F5,l),v.createElement(hn,{className:"recharts-active-dot",clipPath:o},c)};function C0e(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Ht.activeDot}=t,s=de(Wo),l=_0e();if(e==null||l==null)return null;var c=e.find(u=>l.includes(u.payload));return _t(c)?null:v.createElement(gr,{zIndex:o},v.createElement(T0e,{point:c,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var ON=(t,e,n)=>{var r=n??t;if(!_t(r))return zn(r,e,0)},k0e=(t,e,n)=>{var r={},i=t.filter(Gy),a=t.filter(c=>c.stackId==null),o=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),r),s=Object.entries(o).map(c=>{var[u,d]=c,h=d.map(g=>g.dataKey),m=ON(e,n,d[0].barSize);return{stackId:u,dataKeys:h,barSize:m}}),l=a.map(c=>{var u=[c.dataKey].filter(h=>h!=null),d=ON(e,n,c.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...s,...l]};function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){I0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I0e(t,e,n){return(e=P0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P0e(t){var e=R0e(t,"string");return typeof e=="symbol"?e:e+""}function R0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D0e(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=zn(t,n,0,!0),s,l=[];if(kt(r[0].barSize)){var c=!1,u=n/a,d=r.reduce((b,w)=>b+(w.barSize||0),0);d+=(a-1)*o,d>=n&&(d-=(a-1)*o,o=0),d>=n&&u>0&&(c=!0,u*=.9,d=a*u);var h=(n-d)/2>>0,m={offset:h-o,size:0};s=r.reduce((b,w)=>{var T,A={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m.offset+m.size+o,size:c?u:(T=w.barSize)!==null&&T!==void 0?T:0}},P=[...b,A];return m=P[P.length-1].position,P},l)}else{var g=zn(e,n,0,!0);n-2*g-(a-1)*o<=0&&(o=0);var y=(n-2*g-(a-1)*o)/a;y>1&&(y>>=0);var E=kt(i)?Math.min(y,i):y;s=r.reduce((b,w,T)=>[...b,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g+(y+o)*T+(y-E)/2,size:E}}],l)}return s}}var O0e=(t,e,n,r,i,a,o)=>{var s=_t(o)?e:o,l=D0e(n,r,i!==a?i:a,t,s);return i!==a&&l!=null&&(l=l.map(c=>Dp(Dp({},c),{},{position:Dp(Dp({},c.position),{},{offset:c.position.offset-i/2})}))),l},N0e=(t,e)=>{var n=FT(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}};function M0e(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&kt(t.zIndex)?t.zIndex:e}var i3=t=>{var{chartData:e}=t,n=st(),r=Hn();return v.useEffect(()=>r?()=>{}:(n(YO(e)),()=>{n(YO(void 0))}),[e,n,r]),null},MN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},a3=mr({name:"brush",initialState:MN,reducers:{setBrushSettings(t,e){return e.payload==null?MN:e.payload}}}),{setBrushSettings:XSe}=a3.actions,L0e=a3.reducer;function j0e(t,e,n){return(e=F0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F0e(t){var e=V0e(t,"string");return typeof e=="symbol"?e:e+""}function V0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class PC{static create(e){return new PC(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}j0e(PC,"EPS",1e-4);function U0e(t){return(t%180+180)%180}var z0e=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=U0e(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},B0e={dots:[],areas:[],lines:[]},o3=mr({name:"referenceElements",initialState:B0e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ci(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ci(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ci(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:ZSe,removeDot:JSe,addArea:eAe,removeArea:tAe,addLine:nAe,removeLine:rAe}=o3.actions,$0e=o3.reducer,W0e=v.createContext(void 0),H0e=t=>{var{children:e}=t,[n]=v.useState("".concat(Jd("recharts"),"-clip")),r=IC();if(r==null)return null;var{x:i,y:a,width:o,height:s}=r;return v.createElement(W0e.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:a,height:s,width:o}))),e)};function s3(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function q0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return z0e(r,n)}function G0e(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:s}=t;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function pf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function K0e(t,e){return s3(t,e+1)}function Y0e(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:s}=e,l=0,c=1,u=o,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:s3(r,c)};var y=l,E,b=()=>(E===void 0&&(E=n(g,y)),E),w=g.coordinate,T=l===0||pf(t,w,b,u,s);T||(l=0,u=o,c+=1),T&&(u=w+t*(b()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function Q0e(t,e,n,r,i){var a=(r||[]).slice(),o=a.length;if(o===0)return[];for(var{start:s,end:l}=e,c=1;c<=o;c++){for(var u=(o-1)%c,d=s,h=!0,m=function(){var w=r[g],T=g,A,P=()=>(A===void 0&&(A=n(w,T)),A),k=w.coordinate,S=g===u||pf(t,k,P,d,l);if(!S)return h=!1,1;S&&(d=k+t*(P()/2+i))},g=u;g<o&&!m();g+=c);if(h){for(var y=[],E=u;E<o;E+=c)y.push(r[E]);return y}}return[]}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){X0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X0e(t,e,n){return(e=Z0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z0e(t){var e=J0e(t,"string");return typeof e=="symbol"?e:e+""}function J0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eEe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=e,{end:l}=e,c=function(h){var m=a[h],g,y=()=>(g===void 0&&(g=n(m,h)),g);if(h===o-1){var E=t*(m.coordinate+t*y()/2-l);a[h]=m=Nn(Nn({},m),{},{tickCoord:E>0?m.coordinate-E*t:m.coordinate})}else a[h]=m=Nn(Nn({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var b=pf(t,m.tickCoord,y,s,l);b&&(l=m.tickCoord-t*(y()/2+i),a[h]=Nn(Nn({},m),{},{isShow:!0}))}},u=o-1;u>=0;u--)c(u);return a}function tEe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=e;if(a){var u=r[s-1],d=n(u,s-1),h=t*(u.coordinate+t*d/2-c);if(o[s-1]=u=Nn(Nn({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate}),u.tickCoord!=null){var m=pf(t,u.tickCoord,()=>d,l,c);m&&(c=u.tickCoord-t*(d/2+i),o[s-1]=Nn(Nn({},u),{},{isShow:!0}))}}for(var g=a?s-1:s,y=function(w){var T=o[w],A,P=()=>(A===void 0&&(A=n(T,w)),A);if(w===0){var k=t*(T.coordinate-t*P()/2-l);o[w]=T=Nn(Nn({},T),{},{tickCoord:k<0?T.coordinate-k*t:T.coordinate})}else o[w]=T=Nn(Nn({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var S=pf(t,T.tickCoord,P,l,c);S&&(l=T.tickCoord+t*(P()/2+i),o[w]=Nn(Nn({},T),{},{isShow:!0}))}},E=0;E<g;E++)y(E);return o}function RC(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:u,angle:d}=t;if(!i||!i.length||!r)return[];if(ue(l)||jy.isSsr){var h;return(h=K0e(i,ue(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],g=s==="top"||s==="bottom"?"width":"height",y=u&&g==="width"?_d(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(T,A)=>{var P=typeof c=="function"?c(T.value,A):T.value;return g==="width"?q0e(_d(P,{fontSize:e,letterSpacing:n}),y,d):_d(P,{fontSize:e,letterSpacing:n})[g]},b=i.length>=2?dn(i[1].coordinate-i[0].coordinate):1,w=G0e(a,b,g);return l==="equidistantPreserveStart"?Y0e(b,w,E,i,o):l==="equidistantPreserveEnd"?Q0e(b,w,E,i,o):(l==="preserveStart"||l==="preserveStartEnd"?m=tEe(b,w,E,i,o,l==="preserveStartEnd"):m=eEe(b,w,E,i,o),m.filter(T=>T.isShow))}var nEe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){Array.from(e).forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+a,c=o+l+s+(n?r:0);return Math.round(c)}return 0},rEe=["axisLine","width","height","className","hide","ticks","axisType"];function iEe(t,e){if(t==null)return{};var n,r,i=aEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(null,arguments)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){oEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oEe(t,e,n){return(e=sEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sEe(t){var e=lEe(t,"string");return typeof e=="symbol"?e:e+""}function lEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ht.axis};function cEe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=t;if(!s)return null;var c=zt(zt(zt({},l),Rr(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!o||a==="bottom"&&o);c=zt(zt({},c),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);c=zt(zt({},c),{},{x1:e+d*r,y1:n,x2:e+d*r,y2:n+i})}return v.createElement("line",rl({},c,{className:He("recharts-cartesian-axis-line",Zs(s,"className"))}))}function uEe(t,e,n,r,i,a,o,s,l){var c,u,d,h,m,g,y=s?-1:1,E=t.tickSize||o,b=ue(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":c=u=t.coordinate,h=n+ +!s*i,d=h-y*E,g=d-y*l,m=b;break;case"left":d=h=t.coordinate,u=e+ +!s*r,c=u-y*E,m=c-y*l,g=b;break;case"right":d=h=t.coordinate,u=e+ +s*r,c=u+y*E,m=c+y*l,g=b;break;default:c=u=t.coordinate,h=n+ +s*i,d=h+y*E,g=d+y*l,m=b;break}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:m,y:g}}}function dEe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function fEe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function hEe(t){var{option:e,tickProps:n,value:r}=t,i,a=He(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(e))i=v.cloneElement(e,zt(zt({},n),{},{className:a}));else if(typeof e=="function")i=e(zt(zt({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=He(o,e==null?void 0:e.className)),i=v.createElement(n0,rl({},n,{className:o}),r)}return i}var pEe=v.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:l,tickTextProps:c,orientation:u,mirror:d,x:h,y:m,width:g,height:y,tickSize:E,tickMargin:b,fontSize:w,letterSpacing:T,getTicksConfig:A,events:P,axisType:k}=t,S=RC(zt(zt({},A),{},{ticks:n}),w,T),x=dEe(u,d),I=fEe(u,d),D=Rr(A),R=Qs(r),O={};typeof i=="object"&&(O=i);var N=zt(zt({},D),{},{fill:"none"},O),Q=S.map(Z=>zt({entry:Z},uEe(Z,h,m,g,y,u,E,d,b))),oe=Q.map(Z=>{var{entry:W,line:q}=Z;return v.createElement(hn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},i&&v.createElement("line",rl({},N,q,{className:He("recharts-cartesian-axis-tick-line",Zs(i,"className"))})))}),he=Q.map((Z,W)=>{var{entry:q,tick:ne}=Z,we=zt(zt(zt(zt({textAnchor:x,verticalAnchor:I},D),{},{stroke:"none",fill:a},R),ne),{},{index:W,payload:q,visibleTicksCount:S.length,tickFormatter:o,padding:l},c);return v.createElement(hn,rl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},Bf(P,q,W)),r&&v.createElement(hEe,{option:r,tickProps:we,value:"".concat(typeof o=="function"?o(q.value,W):q.value).concat(s||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},he.length>0&&v.createElement(gr,{zIndex:Ht.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:e},he)),oe.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},oe))}),mEe=v.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:s,axisType:l}=t,c=iEe(t,rEe),[u,d]=v.useState(""),[h,m]=v.useState(""),g=v.useRef(null);v.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return nEe({ticks:g.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=v.useCallback(E=>{if(E){var b=E.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=b;var w=b[0];if(w){var T=window.getComputedStyle(w),A=T.fontSize,P=T.letterSpacing;(A!==u||P!==h)&&(d(A),m(P))}}},[u,h]);return o||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(gr,{zIndex:t.zIndex},v.createElement(hn,{className:He("recharts-cartesian-axis",a)},v.createElement(cEe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Rr(t)}),v.createElement(pEe,{ref:y,axisType:l,events:c,fontSize:u,getTicksConfig:t,height:t.height,letterSpacing:h,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:s,unit:t.unit,width:t.width,x:t.x,y:t.y}),v.createElement(ove,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},v.createElement(gve,{label:t.label,labelRef:t.labelRef}),t.children)))}),DC=v.forwardRef((t,e)=>{var n=Yt(t,pa);return v.createElement(mEe,rl({},n,{ref:e}))});DC.displayName="CartesianAxis";var gEe=["x1","y1","x2","y2","key"],vEe=["offset"],yEe=["xAxisId","yAxisId"],EEe=["xAxisId","yAxisId"];function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){bEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bEe(t,e,n){return(e=wEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wEe(t){var e=_Ee(t,"string");return typeof e=="symbol"?e:e+""}function _Ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ss.apply(null,arguments)}function av(t,e){if(t==null)return{};var n,r,i=SEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AEe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:s}=t;return v.createElement("rect",{x:r,y:i,ry:s,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function l3(t){var{option:e,lineItemProps:n}=t,r;if(v.isValidElement(e))r=v.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:o,x2:s,y2:l,key:c}=n,u=av(n,gEe),d=(i=Rr(u))!==null&&i!==void 0?i:{},{offset:h}=d,m=av(d,vEe);r=v.createElement("line",Ss({},m,{x1:a,y1:o,x2:s,y2:l,fill:"none",key:c}))}return r}function xEe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,s=av(t,yEe),l=i.map((c,u)=>{var d=Fn(Fn({},s),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(u),index:u});return v.createElement(l3,{key:"line-".concat(u),option:r,lineItemProps:d})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function TEe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,s=av(t,EEe),l=i.map((c,u)=>{var d=Fn(Fn({},s),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(u),index:u});return v.createElement(l3,{option:r,lineItemProps:d,key:"line-".concat(u)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function CEe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=t;if(!l||!e||!e.length||s==null)return null;var c=s.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==c[0]&&c.unshift(0);var u=c.map((d,h)=>{var m=!c[h+1],g=m?i+o-d:c[h+1]-d;if(g<=0)return null;var y=h%e.length;return v.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:g,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function kEe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var c=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==c[0]&&c.unshift(0);var u=c.map((d,h)=>{var m=!c[h+1],g=m?i+o-d:c[h+1]-d;if(g<=0)return null;var y=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:g,height:s,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var IEe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return LB(RC(Fn(Fn(Fn({},pa),n),{},{ticks:jB(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},PEe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return LB(RC(Fn(Fn(Fn({},pa),n),{},{ticks:jB(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},REe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ht.grid};function fm(t){var e=tT(),n=nT(),r=KB(),i=Fn(Fn({},Yt(t,REe)),{},{x:ue(t.x)?t.x:r.left,y:ue(t.y)?t.y:r.top,width:ue(t.width)?t.width:r.width,height:ue(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:h,verticalValues:m}=i,g=Hn(),y=de(I=>FO(I,"xAxis",a,g)),E=de(I=>FO(I,"yAxis",o,g));if(!zi(c)||!zi(u)||!ue(s)||!ue(l))return null;var b=i.verticalCoordinatesGenerator||IEe,w=i.horizontalCoordinatesGenerator||PEe,{horizontalPoints:T,verticalPoints:A}=i;if((!T||!T.length)&&typeof w=="function"){var P=h&&h.length,k=w({yAxis:E?Fn(Fn({},E),{},{ticks:P?h:E.ticks}):void 0,width:e??c,height:n??u,offset:r},P?!0:d);Og(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(T=k)}if((!A||!A.length)&&typeof b=="function"){var S=m&&m.length,x=b({xAxis:y?Fn(Fn({},y),{},{ticks:S?m:y.ticks}):void 0,width:e??c,height:n??u,offset:r},S?!0:d);Og(Array.isArray(x),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof x,"]")),Array.isArray(x)&&(A=x)}return v.createElement(gr,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(AEe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(CEe,Ss({},i,{horizontalPoints:T})),v.createElement(kEe,Ss({},i,{verticalPoints:A})),v.createElement(xEe,Ss({},i,{offset:r,horizontalPoints:T,xAxis:y,yAxis:E})),v.createElement(TEe,Ss({},i,{offset:r,verticalPoints:A,xAxis:y,yAxis:E}))))}fm.displayName="CartesianGrid";var DEe={},c3=mr({name:"errorBars",initialState:DEe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:iAe,replaceErrorBar:aAe,removeErrorBar:oAe}=c3.actions,OEe=c3.reducer,NEe=["children"];function MEe(t,e){if(t==null)return{};var n,r,i=LEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jEe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},FEe=v.createContext(jEe);function u3(t){var{children:e}=t,n=MEe(t,NEe);return v.createElement(FEe.Provider,{value:n},e)}function OC(t,e){var n,r,i=de(c=>Ua(c,t)),a=de(c=>za(c,e)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:on.allowDataOverflow,s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:sn.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function d3(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=IC(),{needClipX:a,needClipY:o,needClip:s}=OC(e,n);if(!s||!i)return null;var{x:l,y:c,width:u,height:d}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:a?l:l-u/2,y:o?c:c-d/2,width:a?u:u*2,height:o?d:d*2}))}var f3=(t,e,n,r)=>$o(t,"xAxis",e,r),h3=(t,e,n,r)=>Bo(t,"xAxis",e,r),p3=(t,e,n,r)=>$o(t,"yAxis",n,r),m3=(t,e,n,r)=>Bo(t,"yAxis",n,r),VEe=V([Ue,f3,p3,h3,m3],(t,e,n,r,i)=>Zo(t,"xAxis")?Lc(e,r,!1):Lc(n,i,!1)),UEe=(t,e,n,r,i)=>i;function zEe(t){return t.type==="line"}var BEe=V([Qy,UEe],(t,e)=>t.filter(zEe).find(n=>n.id===e)),$Ee=V([Ue,f3,p3,h3,m3,BEe,VEe,IT],(t,e,n,r,i,a,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:d,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,u+1),m!=null)return Nbe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:d,bandSize:o,displayedData:m})}});function WEe(t){var e=Qs(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,o=Number(i),s=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}var HEe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=v;function qEe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var GEe=typeof Object.is=="function"?Object.is:qEe,KEe=yh.useSyncExternalStore,YEe=yh.useRef,QEe=yh.useEffect,XEe=yh.useMemo,ZEe=yh.useDebugValue;HEe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=YEe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=XEe(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,GEe(u,m))return g;var y=r(m);return i!==void 0&&i(g,y)?(u=m,g):(u=m,d=y)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var s=KEe(t,a[0],a[1]);return QEe(function(){o.hasValue=!0,o.value=s},[s]),ZEe(s),s};function JEe(t){t()}function ebe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){JEe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var VN={notify(){},get:()=>[]};function tbe(t,e){let n,r=VN,i=0,a=!1;function o(y){u();const E=r.subscribe(y);let b=!1;return()=>{b||(b=!0,E(),d())}}function s(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return a}function u(){i++,n||(n=t.subscribe(l),r=ebe())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=VN)}function h(){a||(a=!0,u())}function m(){a&&(a=!1,d())}const g={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return g}var nbe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rbe=nbe(),ibe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",abe=ibe(),obe=()=>rbe||abe?v.useLayoutEffect:v.useEffect,sbe=obe();function UN(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function lbe(t,e){if(UN(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!UN(t[n[i]],e[n[i]]))return!1;return!0}var XE=Symbol.for("react-redux-context"),ZE=typeof globalThis<"u"?globalThis:{};function cbe(){if(!v.createContext)return{};const t=ZE[XE]??(ZE[XE]=new Map);let e=t.get(v.createContext);return e||(e=v.createContext(null),t.set(v.createContext,e)),e}var ube=cbe();function dbe(t){const{children:e,context:n,serverState:r,store:i}=t,a=v.useMemo(()=>{const l=tbe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=v.useMemo(()=>i.getState(),[i]);sbe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=n||ube;return v.createElement(s.Provider,{value:a},e)}var fbe=dbe,hbe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function pbe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function l0(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(hbe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!lbe(t[r],e[r]))return!1}else if(!pbe(t[r],e[r]))return!1;return!0}var mbe=["id"],gbe=["type","layout","connectNulls","needClip","shape"],vbe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(null,arguments)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){ybe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ybe(t,e,n){return(e=Ebe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ebe(t){var e=bbe(t,"string");return typeof e=="symbol"?e:e+""}function bbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NC(t,e){if(t==null)return{};var n,r,i=wbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _be=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Jc(n,e),payload:t}]},Sbe=v.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:l,tooltipType:c,id:u}=t,d={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Jc(o,e),hide:s,type:c,color:r,unit:l,graphicalItemId:u}};return v.createElement(CC,{tooltipEntrySettings:d})}),g3=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Abe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var xbe=(t,e,n)=>{var r=n.reduce((d,h)=>d+h);if(!r)return g3(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){s=[...n.slice(0,l),a-c];break}var u=s.length%2===0?[0,o]:[o];return[...Abe(n,i),...s,...u].map(d=>"".concat(d,"px")).join(", ")};function Tbe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r,{id:s}=r,l=NC(r,mbe),c=Rr(l);return v.createElement(s0e,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:o,clipPathId:e})}function Cbe(t){var{showLabels:e,children:n,points:r}=t,i=v.useMemo(()=>r==null?void 0:r.map(a=>{var o,s,l={x:(o=a.x)!==null&&o!==void 0?o:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Si(Si({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(L5,{value:e?i:void 0},n)}function BN(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:s,connectNulls:l,needClip:c,shape:u}=a,d=NC(a,gbe),h=Si(Si({},tr(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(SC,mf({shapeType:"curve",option:u},h,{pathRef:n})),v.createElement(Tbe,{points:r,clipPathId:e,props:a}))}function kbe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Ibe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,animateNewValues:h,width:m,height:g,onAnimationEnd:y,onAnimationStart:E}=n,b=i.current,w=Kf(o,"recharts-line-"),T=v.useRef(w),[A,P]=v.useState(!1),k=!A,S=v.useCallback(()=>{typeof y=="function"&&y(),P(!1)},[y]),x=v.useCallback(()=>{typeof E=="function"&&E(),P(!0)},[E]),I=kbe(r.current),D=v.useRef(0);T.current!==w&&(D.current=a.current,T.current=w);var R=D.current;return v.createElement(Cbe,{points:o,showLabels:k},n.children,v.createElement(Gf,{animationId:w,begin:c,duration:u,isActive:l,easing:d,onAnimationEnd:S,onAnimationStart:x,key:w},O=>{var N=yt(R,I+R,O),Q=Math.min(N,I),oe;if(l)if(s){var he="".concat(s).split(/[,\s]+/gim).map(q=>parseFloat(q));oe=xbe(Q,I,he)}else oe=g3(I,Q);else oe=s==null?void 0:String(s);if(O>0&&I>0&&(i.current=o,a.current=Math.max(a.current,Q)),b){var Z=b.length/o.length,W=O===1?o:o.map((q,ne)=>{var we=Math.floor(ne*Z);if(b[we]){var z=b[we];return Si(Si({},q),{},{x:yt(z.x,q.x,O),y:yt(z.y,q.y,O)})}return h?Si(Si({},q),{},{x:yt(m*2,q.x,O),y:yt(g/2,q.y,O)}):Si(Si({},q),{},{x:q.x,y:q.y})});return i.current=W,v.createElement(BN,{props:n,points:W,clipPathId:e,pathRef:r,strokeDasharray:oe})}return v.createElement(BN,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:oe})}),v.createElement(yC,{label:n.label}))}function Pbe(t){var{clipPathId:e,props:n}=t,r=v.useRef(null),i=v.useRef(0),a=v.useRef(null);return v.createElement(Ibe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Rbe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:et(t.payload,e)}};class Dbe extends v.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:o,top:s,left:l,width:c,height:u,id:d,needClip:h,zIndex:m}=this.props;if(e)return null;var g=He("recharts-line",i),y=d,{r:E,strokeWidth:b}=WEe(n),w=Q5(n),T=E*2+b,A=h?"url(#clipPath-".concat(w?"":"dots-").concat(y,")"):void 0;return v.createElement(gr,{zIndex:m},v.createElement(hn,{className:g},h&&v.createElement("defs",null,v.createElement(d3,{clipPathId:y,xAxisId:a,yAxisId:o}),!w&&v.createElement("clipPath",{id:"clipPath-dots-".concat(y)},v.createElement("rect",{x:l-T/2,y:s-T/2,width:c+T,height:u+T}))),v.createElement(u3,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:Rbe,errorBarOffset:0},v.createElement(Pbe,{props:this.props,clipPathId:y}))),v.createElement(C0e,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:A}))}}var v3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ht.line,type:"linear"};function Obe(t){var e=Yt(t,v3),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,hide:c,isAnimationActive:u,label:d,legendType:h,xAxisId:m,yAxisId:g,id:y}=e,E=NC(e,vbe),{needClip:b}=OC(m,g),w=IC(),T=eu(),A=Hn(),P=de(D=>$Ee(D,m,g,A,y));if(T!=="horizontal"&&T!=="vertical"||P==null||w==null)return null;var{height:k,width:S,x,y:I}=w;return v.createElement(Dbe,mf({},E,{id:y,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:u,hide:c,label:d,legendType:h,xAxisId:m,yAxisId:g,points:P,layout:T,height:k,width:S,left:x,top:I,needClip:b}))}function Nbe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=t;return l.map((c,u)=>{var d=et(c,o);if(e==="horizontal"){var h=KR({axis:n,ticks:i,bandSize:s,entry:c,index:u}),m=_t(d)?null:r.scale(d);return{x:h,y:m,value:d,payload:c}}var g=_t(d)?null:n.scale(d),y=KR({axis:r,ticks:a,bandSize:s,entry:c,index:u});return g==null||y==null?null:{x:g,y,value:d,payload:c}}).filter(Boolean)}function Mbe(t){var e=Yt(t,v3),n=Hn();return v.createElement(kC,{id:e.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(Z5,{legendPayload:_be(e)}),v.createElement(Sbe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),v.createElement(e3,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),v.createElement(Obe,mf({},e,{id:r}))))}var N_=v.memo(Mbe,l0);N_.displayName="Line";function yl(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:n3}function El(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:n3}var Lbe="Invariant failed";function jbe(t,e){throw new Error(Lbe)}function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(null,arguments)}function ov(t){return v.createElement(SC,M_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Fbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ue(e))return e;var a=ue(r)||_t(r);return a?e(r,i):(a||jbe(),n)}},Vbe=(t,e,n)=>n,Ube=(t,e)=>e,Eh=V([Qy,Ube],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),zbe=V([Eh],t=>t==null?void 0:t.maxBarSize),Bbe=(t,e,n,r)=>r,$be=V([Ue,Qy,yl,El,Vbe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Wbe=(t,e,n)=>{var r=Ue(t),i=yl(t,e),a=El(t,e);if(!(i==null||a==null))return r==="horizontal"?T_(t,"yAxis",a,n):T_(t,"xAxis",i,n)},Hbe=(t,e)=>{var n=Ue(t),r=yl(t,e),i=El(t,e);if(!(r==null||i==null))return n==="horizontal"?jO(t,"xAxis",r):jO(t,"yAxis",i)},qbe=V([$be,lhe,Hbe],k0e),Gbe=(t,e,n)=>{var r,i,a=Eh(t,e);if(a!=null){var o=yl(t,e),s=El(t,e);if(!(o==null||s==null)){var l=Ue(t),c=h4(t),{maxBarSize:u}=a,d=_t(u)?c:u,h,m;return l==="horizontal"?(h=$o(t,"xAxis",o,n),m=Bo(t,"xAxis",o,n)):(h=$o(t,"yAxis",s,n),m=Bo(t,"yAxis",s,n)),(r=(i=Lc(h,m,!0))!==null&&i!==void 0?i:d)!==null&&r!==void 0?r:0}}},y3=(t,e,n)=>{var r=Ue(t),i=yl(t,e),a=El(t,e);if(!(i==null||a==null)){var o,s;return r==="horizontal"?(o=$o(t,"xAxis",i,n),s=Bo(t,"xAxis",i,n)):(o=$o(t,"yAxis",a,n),s=Bo(t,"yAxis",a,n)),Lc(o,s)}},Kbe=V([qbe,h4,she,p4,Gbe,y3,zbe],O0e),Ybe=(t,e,n)=>{var r=yl(t,e);if(r!=null)return $o(t,"xAxis",r,n)},Qbe=(t,e,n)=>{var r=El(t,e);if(r!=null)return $o(t,"yAxis",r,n)},Xbe=(t,e,n)=>{var r=yl(t,e);if(r!=null)return Bo(t,"xAxis",r,n)},Zbe=(t,e,n)=>{var r=El(t,e);if(r!=null)return Bo(t,"yAxis",r,n)},Jbe=V([Kbe,Eh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),ewe=V([Wbe,Eh],N0e),twe=V([en,Jx,Ybe,Qbe,Xbe,Zbe,Jbe,Ue,Yfe,y3,ewe,Eh,Bbe],(t,e,n,r,i,a,o,s,l,c,u,d,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:y}=l;if(!(d==null||o==null||e==null||s!=="horizontal"&&s!=="vertical"||n==null||r==null||i==null||a==null||c==null)){var{data:E}=d,b;if(E!=null&&E.length>0?b=E:b=m==null?void 0:m.slice(g,y+1),b!=null)return Pwe({layout:s,barSettings:d,pos:o,parentViewBox:e,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:b,offset:t,cells:h,dataStartIndex:g})}}),nwe=["index"];function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(null,arguments)}function rwe(t,e){if(t==null)return{};var n,r,i=iwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var E3=v.createContext(void 0),awe=t=>{var e=v.useContext(E3);if(e!=null)return e.stackId;if(t!=null)return Xse(t)},owe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),swe=t=>{var e=v.useContext(E3);if(e!=null){var{stackId:n}=e;return"url(#".concat(owe(n,t),")")}},lwe=t=>{var{index:e}=t,n=rwe(t,nwe),r=swe(e);return v.createElement(hn,L_({className:"recharts-bar-stack-layer",clipPath:r},n))},cwe=["onMouseEnter","onMouseLeave","onClick"],uwe=["value","background","tooltipPosition"],dwe=["id"],fwe=["onMouseEnter","onClick","onMouseLeave"];function Ra(){return Ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ra.apply(null,arguments)}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){hwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hwe(t,e,n){return(e=pwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pwe(t){var e=mwe(t,"string");return typeof e=="symbol"?e:e+""}function mwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sv(t,e){if(t==null)return{};var n,r,i=gwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vwe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Jc(n,e),payload:t}]},ywe=v.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:s,tooltipType:l,id:c}=t,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Jc(a,e),hide:o,type:l,color:i,unit:s,graphicalItemId:c}};return v.createElement(CC,{tooltipEntrySettings:u})});function Ewe(t){var e=de(Wo),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,c=sv(a,cwe),u=AC(o,r,a.id),d=xC(s),h=TC(l,r,a.id);if(!i||n==null)return null;var m=Qs(i);return v.createElement(gr,{zIndex:M0e(i,Ht.barBackground)},n.map((g,y)=>{var{value:E,background:b,tooltipPosition:w}=g,T=sv(g,uwe);if(!b)return null;var A=u(g,y),P=d(g,y),k=h(g,y),S=Qn(Qn(Qn(Qn(Qn({option:i,isActive:String(y)===e},T),{},{fill:"#eee"},b),m),Bf(c,g,y)),{},{onMouseEnter:A,onMouseLeave:P,onClick:k,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return v.createElement(ov,Ra({key:"background-bar-".concat(y)},S))}))}function bwe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Qn(Qn({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return v.createElement(L5,{value:e?i:void 0},n)}function wwe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=t,s=de(Wo),l=de(dC),c=n&&String(a)===s&&(l==null||o===l),u=c?n:e;return c?v.createElement(gr,{zIndex:Ht.activeBar},v.createElement(ov,Ra({},r,{name:String(r.name)},i,{isActive:c,option:u,index:a,dataKey:o}))):v.createElement(ov,Ra({},r,{name:String(r.name)},i,{isActive:c,option:u,index:a,dataKey:o}))}function _we(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return v.createElement(ov,Ra({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function Swe(t){var e,{data:n,props:r}=t,i=(e=Rr(r))!==null&&e!==void 0?e:{},{id:a}=i,o=sv(i,dwe),{shape:s,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:h}=r,m=sv(r,fwe),g=AC(u,l,a),y=xC(h),E=TC(d,l,a);return n?v.createElement(v.Fragment,null,n.map((b,w)=>v.createElement(lwe,Ra({index:w,key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(w),className:"recharts-bar-rectangle"},Bf(m,b,w),{onMouseEnter:g(b,w),onMouseLeave:y(b,w),onClick:E(b,w)}),c?v.createElement(wwe,{shape:s,activeBar:c,baseProps:o,entry:b,index:w,dataKey:l}):v.createElement(_we,{shape:s,baseProps:o,entry:b,index:w,dataKey:l})))):null}function Awe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=e,d=n.current,h=Kf(e,"recharts-bar-"),[m,g]=v.useState(!1),y=!m,E=v.useCallback(()=>{typeof c=="function"&&c(),g(!1)},[c]),b=v.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return v.createElement(bwe,{showLabels:y,rects:r},v.createElement(Gf,{animationId:h,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:E,onAnimationStart:b,key:h},w=>{var T=w===1?r:r==null?void 0:r.map((A,P)=>{var k=d&&d[P];if(k)return Qn(Qn({},A),{},{x:yt(k.x,A.x,w),y:yt(k.y,A.y,w),width:yt(k.width,A.width,w),height:yt(k.height,A.height,w)});if(i==="horizontal"){var S=yt(0,A.height,w),x=yt(A.stackedBarStart,A.y,w);return Qn(Qn({},A),{},{y:x,height:S})}var I=yt(0,A.width,w),D=yt(A.stackedBarStart,A.x,w);return Qn(Qn({},A),{},{width:I,x:D})});return w>0&&(n.current=T??null),T==null?null:v.createElement(hn,null,v.createElement(Swe,{props:e,data:T}))}),v.createElement(yC,{label:e.label}),e.children)}function xwe(t){var e=v.useRef(null);return v.createElement(Awe,{previousRectanglesRef:e,props:t})}var b3=0,Twe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:et(t,e)}};class Cwe extends v.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(e||n==null)return null;var u=He("recharts-bar",i),d=c;return v.createElement(hn,{className:u,id:c},s&&v.createElement("defs",null,v.createElement(d3,{clipPathId:d,xAxisId:a,yAxisId:o})),v.createElement(hn,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},v.createElement(Ewe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),v.createElement(xwe,this.props)))}}var kwe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:b3,xAxisId:0,yAxisId:0,zIndex:Ht.bar};function Iwe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u}=t,{needClip:d}=OC(e,n),h=eu(),m=Hn(),g=_C(t.children,lh),y=de(w=>twe(w,t.id,m,g));if(h!=="vertical"&&h!=="horizontal")return null;var E,b=y==null?void 0:y[0];return b==null||b.height==null||b.width==null?E=0:E=h==="vertical"?b.height/2:b.width/2,v.createElement(u3,{xAxisId:e,yAxisId:n,data:y,dataPointFormatter:Twe,errorBarOffset:E},v.createElement(Cwe,Ra({},t,{layout:h,needClip:d,data:y,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function Pwe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:m,parentViewBox:g,dataStartIndex:y}=t,E=e==="horizontal"?s:o,b=u?E.scale.domain():null,w=Zse({numericAxis:E}),T=E.scale(w);return d.map((A,P)=>{var k,S,x,I,D,R;if(u){var O=u[P+y];if(O==null)return null;k=qse(O,b)}else k=et(A,n),Array.isArray(k)||(k=[w,k]);var N=Fbe(r,b3)(k[1],P);if(e==="horizontal"){var Q,[oe,he]=[s.scale(k[0]),s.scale(k[1])];S=YR({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:A,index:P}),x=(Q=he??oe)!==null&&Q!==void 0?Q:void 0,I=i.size;var Z=oe-he;if(D=hi(Z)?0:Z,R={x:S,y:h.top,width:I,height:h.height},Math.abs(N)>0&&Math.abs(D)<Math.abs(N)){var W=dn(D||N)*(Math.abs(N)-Math.abs(D));x-=W,D+=W}}else{var[q,ne]=[o.scale(k[0]),o.scale(k[1])];if(S=q,x=YR({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:A,index:P}),I=ne-q,D=i.size,R={x:h.left,y:x,width:h.width,height:D},Math.abs(N)>0&&Math.abs(I)<Math.abs(N)){var we=dn(I||N)*(Math.abs(N)-Math.abs(I));I+=we}}if(S==null||x==null||I==null||D==null)return null;var z=Qn(Qn({},A),{},{stackedBarStart:T,x:S,y:x,width:I,height:D,value:u?k:k[1],payload:A,background:R,tooltipPosition:{x:S+I/2,y:x+D/2},parentViewBox:g},m&&m[P]&&m[P].props);return z}).filter(Boolean)}function Rwe(t){var e=Yt(t,kwe),n=awe(e.stackId),r=Hn();return v.createElement(kC,{id:e.id,type:"bar"},i=>v.createElement(v.Fragment,null,v.createElement(Z5,{legendPayload:vwe(e)}),v.createElement(ywe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),v.createElement(e3,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),v.createElement(gr,{zIndex:e.zIndex},v.createElement(Iwe,Ra({},e,{id:i})))))}var hm=v.memo(Rwe,l0);hm.displayName="Bar";var Dwe=["domain","range"],Owe=["domain","range"];function WN(t,e){if(t==null)return{};var n,r,i=Nwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HN(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function w3(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=WN(t,Dwe),{domain:a,range:o}=e,s=WN(e,Owe);return!HN(n,a)||!HN(r,o)?!1:l0(i,s)}var Mwe=["dangerouslySetInnerHTML","ticks","scale"],Lwe=["id","scale"];function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(null,arguments)}function qN(t,e){if(t==null)return{};var n,r,i=jwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fwe(t){var e=st(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?e(f0e(t)):n.current!==t&&e(h0e({prev:n.current,next:t})),n.current=t},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(e(p0e(n.current)),n.current=null)},[e]),null}var Vwe=t=>{var{xAxisId:e,className:n}=t,r=de(Jx),i=Hn(),a="xAxis",o=de(b=>q4(b,a,e,i)),s=de(b=>B4(b,e)),l=de(b=>ape(b,e)),c=de(b=>S4(b,e));if(s==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:u,ticks:d,scale:h}=t,m=qN(t,Mwe),{id:g,scale:y}=c,E=qN(c,Lwe);return v.createElement(DC,j_({},m,E,{x:l.x,y:l.y,width:s.width,height:s.height,className:He("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},Uwe={allowDataOverflow:on.allowDataOverflow,allowDecimals:on.allowDecimals,allowDuplicatedCategory:on.allowDuplicatedCategory,angle:on.angle,axisLine:pa.axisLine,height:on.height,hide:!1,includeHidden:on.includeHidden,interval:on.interval,minTickGap:on.minTickGap,mirror:on.mirror,orientation:on.orientation,padding:on.padding,reversed:on.reversed,scale:on.scale,tick:on.tick,tickCount:on.tickCount,tickLine:pa.tickLine,tickSize:pa.tickSize,type:on.type,xAxisId:0},zwe=t=>{var e=Yt(t,Uwe);return v.createElement(v.Fragment,null,v.createElement(Fwe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),v.createElement(Vwe,e))},pm=v.memo(zwe,w3);pm.displayName="XAxis";var Bwe=["dangerouslySetInnerHTML","ticks","scale"],$we=["id","scale"];function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(null,arguments)}function GN(t,e){if(t==null)return{};var n,r,i=Wwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hwe(t){var e=st(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?e(m0e(t)):n.current!==t&&e(g0e({prev:n.current,next:t})),n.current=t},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(e(v0e(n.current)),n.current=null)},[e]),null}var qwe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=v.useRef(null),o=v.useRef(null),s=de(Jx),l=Hn(),c=st(),u="yAxis",d=de(k=>$4(k,e)),h=de(k=>spe(k,e)),m=de(k=>q4(k,u,e,l)),g=de(k=>A4(k,e));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!d||vC(i)||v.isValidElement(i)||g==null)){var k=a.current;if(k){var S=k.getCalculatedWidth();Math.round(d.width)!==Math.round(S)&&c(y0e({id:e,width:S}))}}},[m,d,c,i,e,r,g]),d==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:E,scale:b}=t,w=GN(t,Bwe),{id:T,scale:A}=g,P=GN(g,$we);return v.createElement(DC,F_({},w,P,{ref:a,labelRef:o,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:d.width,height:d.height,className:He("recharts-".concat(u," ").concat(u),n),viewBox:s,ticks:m,axisType:u}))},Gwe={allowDataOverflow:sn.allowDataOverflow,allowDecimals:sn.allowDecimals,allowDuplicatedCategory:sn.allowDuplicatedCategory,angle:sn.angle,axisLine:pa.axisLine,hide:!1,includeHidden:sn.includeHidden,interval:sn.interval,minTickGap:sn.minTickGap,mirror:sn.mirror,orientation:sn.orientation,padding:sn.padding,reversed:sn.reversed,scale:sn.scale,tick:sn.tick,tickCount:sn.tickCount,tickLine:pa.tickLine,tickSize:pa.tickSize,type:sn.type,width:sn.width,yAxisId:0},Kwe=t=>{var e=Yt(t,Gwe);return v.createElement(v.Fragment,null,v.createElement(Hwe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),v.createElement(qwe,e))},mm=v.memo(Kwe,w3);mm.displayName="YAxis";var Ywe=(t,e)=>e,MC=V([Ywe,Ue,w4,nn,l5,Ba,Sme,en],Pme),LC=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},_3=Kr("mouseClick"),S3=Wf();S3.startListening({actionCreator:_3,effect:(t,e)=>{var n=t.payload,r=MC(e.getState(),LC(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(wpe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var V_=Kr("mouseMove"),A3=Wf(),Op=null;A3.startListening({actionCreator:V_,effect:(t,e)=>{var n=t.payload;Op!==null&&cancelAnimationFrame(Op);var r=LC(n);Op=requestAnimationFrame(()=>{var i=e.getState(),a=aC(i,i.tooltip.settings.shared);if(a==="axis"){var o=MC(i,r);(o==null?void 0:o.activeIndex)!=null?e.dispatch(e5({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(J4())}Op=null})}});function Qwe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var KN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},x3=mr({name:"rootProps",initialState:KN,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:KN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Xwe=x3.reducer,{updateOptions:Zwe}=x3.actions,T3=mr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Jwe}=T3.actions,e_e=T3.reducer,C3=Kr("keyDown"),k3=Kr("focus"),jC=Wf();jC.startListening({actionCreator:C3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=oC(i,cu(n),rh(n),oh(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Ba(n);if(a==="Enter"){var c=ev(n,"axis","hover",String(i.index));e.dispatch(k_({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var u=dpe(n),d=u==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=s+h*d;if(!(l==null||m>=l.length||m<0)){var g=ev(n,"axis","hover",String(m));e.dispatch(k_({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});jC.startListening({actionCreator:k3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=ev(n,"axis","hover",String(a));e.dispatch(k_({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var jr=Kr("externalEvent"),I3=Wf(),JE=new Map;I3.startListening({actionCreator:jr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=JE.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=e.getState(),l={activeCoordinate:sme(s),activeDataKey:dC(s),activeIndex:Wo(s),activeLabel:d5(s),activeTooltipIndex:Wo(s),isTooltipActive:lme(s)};n(l,r)}finally{JE.delete(i)}});JE.set(i,o)}}});var t_e=V([su],t=>t.tooltipItemPayloads),n_e=V([t_e,ah,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(s=>s.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),P3=Kr("touchMove"),R3=Wf();R3.startListening({actionCreator:P3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=aC(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var o=MC(r,LC({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(e5({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(VB),d=(s=c.getAttribute(UB))!==null&&s!==void 0?s:void 0,h=lu(r).find(y=>y.id===d);if(u==null||h==null||d==null)return;var{dataKey:m}=h,g=n_e(r,u,d);e.dispatch(Z4({activeDataKey:m,activeIndex:u,activeCoordinate:g,activeGraphicalItemId:d}))}}}});var r_e=sB({brush:L0e,cartesianAxis:E0e,chartData:oge,errorBars:OEe,graphicalItems:xye,layout:Use,legend:Wle,options:tge,polarAxis:Ove,polarOptions:e_e,referenceElements:$0e,rootProps:Xwe,tooltip:_pe,zIndex:Wme}),i_e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return dse({reducer:r_e,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([S3.middleware,A3.middleware,jC.middleware,I3.middleware,R3.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(_B({type:"raf"}))},devTools:{serialize:{replacer:Qwe},name:"recharts-".concat(n)}})};function D3(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Hn(),a=v.useRef(null);if(i)return n;a.current==null&&(a.current=i_e(e,r));var o=Wx;return v.createElement(fbe,{context:o,store:a.current},n)}function a_e(t){var{layout:e,margin:n}=t,r=st(),i=Hn();return v.useEffect(()=>{i||(r(jse(e)),r(Lse(n)))},[r,i,e,n]),null}var O3=v.memo(a_e,l0);function N3(t){var e=st();return v.useEffect(()=>{e(Zwe(t))},[e,t]),null}function YN(t){var{zIndex:e,isPanorama:n}=t,r=v.useRef(null),i=st();return v.useLayoutEffect(()=>(r.current&&i(Bme({zIndex:e,element:r.current,isPanorama:n})),()=>{i($me({zIndex:e,isPanorama:n}))}),[i,e,n]),v.createElement("g",{tabIndex:-1,ref:r})}function QN(t){var{children:e,isPanorama:n}=t,r=de(Dme);if(!r||r.length===0)return e;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return v.createElement(v.Fragment,null,i.map(o=>v.createElement(YN,{key:o,zIndex:o,isPanorama:n})),e,a.map(o=>v.createElement(YN,{key:o,zIndex:o,isPanorama:n})))}var o_e=["children"];function s_e(t,e){if(t==null)return{};var n,r,i=l_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function l_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lv.apply(null,arguments)}var c_e={width:"100%",height:"100%",display:"block"},u_e=v.forwardRef((t,e)=>{var n=tT(),r=nT(),i=a$();if(!zi(n)||!zi(r))return null;var{children:a,otherAttributes:o,title:s,desc:l}=t,c,u;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0),v.createElement(kx,lv({},o,{title:s,desc:l,role:u,tabIndex:c,width:n,height:r,style:c_e,ref:e}),a)}),d_e=t=>{var{children:e}=t,n=de(Ry);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return v.createElement(kx,{width:r,height:i,x:o,y:a},e)},XN=v.forwardRef((t,e)=>{var{children:n}=t,r=s_e(t,o_e),i=Hn();return i?v.createElement(d_e,null,v.createElement(QN,{isPanorama:!0},n)):v.createElement(u_e,lv({ref:e},r),v.createElement(QN,{isPanorama:!1},n))});function f_e(){var t=st(),[e,n]=v.useState(null),r=de(ile);return v.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;kt(a)&&a!==r&&t(Vse(a))}},[e,t,r]),n}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){p_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p_e(t,e,n){return(e=m_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m_e(t){var e=g_e(t,"string");return typeof e=="symbol"?e:e+""}function g_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(null,arguments)}var v_e=()=>(mge(),null);function cv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var y_e=v.forwardRef((t,e)=>{var n,r,i=v.useRef(null),[a,o]=v.useState({containerWidth:cv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:cv((r=t.style)===null||r===void 0?void 0:r.height)}),s=v.useCallback((c,u)=>{o(d=>{var h=Math.round(c),m=Math.round(u);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),l=v.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:d}=c.getBoundingClientRect();s(u,d);var h=g=>{var{width:y,height:E}=g[0].contentRect;s(y,E)},m=new ResizeObserver(h);m.observe(c),i.current=m}},[e,s]);return v.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[s]),v.createElement(v.Fragment,null,v.createElement(Oy,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",il({ref:l},t)))}),E_e=v.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=v.useState({containerWidth:cv(n),containerHeight:cv(r)}),o=v.useCallback((l,c)=>{a(u=>{var d=Math.round(l),h=Math.round(c);return u.containerWidth===d&&u.containerHeight===h?u:{containerWidth:d,containerHeight:h}})},[]),s=v.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();o(c,u)}},[e,o]);return v.createElement(v.Fragment,null,v.createElement(Oy,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",il({ref:s},t)))}),b_e=v.forwardRef((t,e)=>{var{width:n,height:r}=t;return v.createElement(v.Fragment,null,v.createElement(Oy,{width:n,height:r}),v.createElement("div",il({ref:e},t)))}),w_e=v.forwardRef((t,e)=>{var{width:n,height:r}=t;return xa(n)||xa(r)?v.createElement(E_e,il({},t,{ref:e})):v.createElement(b_e,il({},t,{ref:e}))});function __e(t){return t===!0?y_e:w_e}var S_e=v.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:E,width:b,responsive:w,dispatchTouchEvents:T=!0}=t,A=v.useRef(null),P=st(),[k,S]=v.useState(null),[x,I]=v.useState(null),D=f_e(),R=eT(),O=(R==null?void 0:R.width)>0?R.width:b,N=(R==null?void 0:R.height)>0?R.height:i,Q=v.useCallback(H=>{D(H),typeof e=="function"&&e(H),S(H),I(H),H!=null&&(A.current=H)},[D,e,S,I]),oe=v.useCallback(H=>{P(_3(H)),P(jr({handler:a,reactEvent:H}))},[P,a]),he=v.useCallback(H=>{P(V_(H)),P(jr({handler:c,reactEvent:H}))},[P,c]),Z=v.useCallback(H=>{P(J4()),P(jr({handler:u,reactEvent:H}))},[P,u]),W=v.useCallback(H=>{P(V_(H)),P(jr({handler:d,reactEvent:H}))},[P,d]),q=v.useCallback(()=>{P(k3())},[P]),ne=v.useCallback(H=>{P(C3(H.key))},[P]),we=v.useCallback(H=>{P(jr({handler:o,reactEvent:H}))},[P,o]),z=v.useCallback(H=>{P(jr({handler:s,reactEvent:H}))},[P,s]),re=v.useCallback(H=>{P(jr({handler:l,reactEvent:H}))},[P,l]),pe=v.useCallback(H=>{P(jr({handler:h,reactEvent:H}))},[P,h]),Me=v.useCallback(H=>{P(jr({handler:y,reactEvent:H}))},[P,y]),te=v.useCallback(H=>{T&&P(P3(H)),P(jr({handler:g,reactEvent:H}))},[P,T,g]),Oe=v.useCallback(H=>{P(jr({handler:m,reactEvent:H}))},[P,m]),qn=__e(w);return v.createElement(y5.Provider,{value:k},v.createElement(sz.Provider,{value:x},v.createElement(qn,{width:O??(E==null?void 0:E.width),height:N??(E==null?void 0:E.height),className:He("recharts-wrapper",r),style:h_e({position:"relative",cursor:"default",width:O,height:N},E),onClick:oe,onContextMenu:we,onDoubleClick:z,onFocus:q,onKeyDown:ne,onMouseDown:re,onMouseEnter:he,onMouseLeave:Z,onMouseMove:W,onMouseUp:pe,onTouchEnd:Oe,onTouchMove:te,onTouchStart:Me,ref:Q},v.createElement(v_e,null),n)))}),A_e=["width","height","responsive","children","className","style","compact","title","desc"];function x_e(t,e){if(t==null)return{};var n,r,i=T_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function T_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var M3=v.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:s,compact:l,title:c,desc:u}=t,d=x_e(t,A_e),h=Rr(d);return l?v.createElement(v.Fragment,null,v.createElement(Oy,{width:n,height:r}),v.createElement(XN,{otherAttributes:h,title:c,desc:u},a)):v.createElement(S_e,{className:o,style:s,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},v.createElement(XN,{otherAttributes:h,title:c,desc:u,ref:e},v.createElement(H0e,null,a)))});function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U_.apply(null,arguments)}var C_e={top:5,right:5,bottom:5,left:5},k_e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:C_e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},L3=v.forwardRef(function(e,n){var r,i=Yt(e.categoricalChartProps,k_e),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(D3,{preloadedState:{options:u},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},v.createElement(i3,{chartData:c.data}),v.createElement(O3,{layout:i.layout,margin:i.margin}),v.createElement(N3,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(M3,U_({},i,{ref:n})))}),I_e=["axis"],P_e=v.forwardRef((t,e)=>v.createElement(L3,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:I_e,tooltipPayloadSearcher:gC,categoricalChartProps:t,ref:e})),R_e=["axis","item"],JN=v.forwardRef((t,e)=>v.createElement(L3,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:R_e,tooltipPayloadSearcher:gC,categoricalChartProps:t,ref:e}));function D_e(t){var e=st();return v.useEffect(()=>{e(Jwe(t))},[e,t]),null}var O_e=["layout"];function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(null,arguments)}function N_e(t,e){if(t==null)return{};var n,r,i=M_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function M_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var L_e={top:5,right:5,bottom:5,left:5},j3={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:L_e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},j_e=v.forwardRef(function(e,n){var r,i=Yt(e.categoricalChartProps,j3),{layout:a}=i,o=N_e(i,O_e),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=e,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return v.createElement(D3,{preloadedState:{options:d},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:s},v.createElement(i3,{chartData:i.data}),v.createElement(O3,{layout:a,margin:i.margin}),v.createElement(N3,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(D_e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(M3,z_({},o,{ref:n})))});function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){F_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F_e(t,e,n){return(e=V_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V_e(t){var e=U_e(t,"string");return typeof e=="symbol"?e:e+""}function U_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z_e=["item"],B_e=tM(tM({},j3),{},{layout:"centric",startAngle:0,endAngle:360}),$_e=v.forwardRef((t,e)=>{var n=Yt(t,B_e);return v.createElement(j_e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:z_e,tooltipPayloadSearcher:gC,categoricalChartProps:n,ref:e})});function W_e({user:t,theme:e}){const n=pn(),[r,i]=v.useState([]),[a,o]=v.useState(!0);v.useEffect(()=>{if(!(t!=null&&t.uid))return;const h=Mi(An(Ee,"tasks"),Co("owner","==",t.uid)),m=ko(h,g=>{const y=g.docs.map(E=>{const b=E.data();return{id:E.id,title:(b==null?void 0:b.title)||"Task",start:b==null?void 0:b.date,extendedProps:{taskId:E.id,description:(b==null?void 0:b.description)||"",priority:(b==null?void 0:b.priority)||"medium",category:(b==null?void 0:b.category)||"work",completed:(b==null?void 0:b.completed)||!1,createdAt:(b==null?void 0:b.createdAt)||new Date().toISOString()}}});i(y),o(!1)});return()=>m()},[t==null?void 0:t.uid]);const s=v.useMemo(()=>{if(!r.length)return{total:0,completed:0,pending:0,completionRate:0,byCategory:{},byPriority:{},completionByCategory:{},weeklyTrends:[]};const h=r.length,m=r.filter(P=>{var k;return(k=P.extendedProps)==null?void 0:k.completed}).length,g=h-m,y=h>0?Math.round(m/h*100):0,E={};r.forEach(P=>{var S;const k=((S=P.extendedProps)==null?void 0:S.category)||"other";E[k]=(E[k]||0)+1});const b={};r.forEach(P=>{var S;const k=((S=P.extendedProps)==null?void 0:S.priority)||"medium";b[k]=(b[k]||0)+1});const w={};r.forEach(P=>{var S,x;const k=((S=P.extendedProps)==null?void 0:S.category)||"other";w[k]||(w[k]={total:0,completed:0}),w[k].total+=1,(x=P.extendedProps)!=null&&x.completed&&(w[k].completed+=1)});const T=[],A=new Date;for(let P=6;P>=0;P--){const k=new Date(A);k.setDate(k.getDate()-P);const S=k.toISOString().split("T")[0],x=r.filter(I=>{var R;return((R=I.start)==null?void 0:R.split("T")[0])===S});T.push({date:k.toLocaleDateString("en-US",{month:"short",day:"numeric"}),tasks:x.length,completed:x.filter(I=>{var D;return(D=I.extendedProps)==null?void 0:D.completed}).length})}return{total:h,completed:m,pending:g,completionRate:y,byCategory:E,byPriority:b,completionByCategory:w,weeklyTrends:T}},[r]),l=["#667eea","#10b981","#f59e0b","#ef4444","#a78bfa"];if(a)return f.createElement("div",{className:`loading-container ${e==="dark"?"dark":""}`},f.createElement("div",{className:"loading-content"},f.createElement("div",{className:"loading-spinner"}),f.createElement("p",{className:"loading-text"},"Loading analytics...")));const c=Object.entries(s.byCategory).map(([h,m])=>({name:h.charAt(0).toUpperCase()+h.slice(1),value:m})),u=Object.entries(s.byPriority).map(([h,m])=>({name:h.charAt(0).toUpperCase()+h.slice(1),value:m})),d=Object.entries(s.completionByCategory).map(([h,m])=>({category:h.charAt(0).toUpperCase()+h.slice(1),completed:m.completed,pending:m.total-m.completed}));return f.createElement("div",{className:`analytics-container ${e==="dark"?"dark":""}`},f.createElement("div",{className:"analytics-wrapper"},f.createElement("div",{className:"analytics-header"},f.createElement("div",{className:"analytics-header-content"},f.createElement("h1",null," Analytics Dashboard"),f.createElement("p",null,"Track your productivity and task performance")),f.createElement("button",{className:"back-btn",onClick:()=>n("/")}," Back to Dashboard")),f.createElement("div",{className:"kpi-grid"},f.createElement("div",{className:"kpi-card blue"},f.createElement("div",{className:"kpi-label"},"Total Tasks"),f.createElement("div",{className:"kpi-value"},s.total),f.createElement("div",{className:"kpi-description"},"All tasks created")),f.createElement("div",{className:"kpi-card green"},f.createElement("div",{className:"kpi-label"},"Completed"),f.createElement("div",{className:"kpi-value"},s.completed),f.createElement("div",{className:"kpi-description"},s.completionRate,"% completion rate")),f.createElement("div",{className:"kpi-card orange"},f.createElement("div",{className:"kpi-label"},"Pending"),f.createElement("div",{className:"kpi-value"},s.pending),f.createElement("div",{className:"kpi-description"},"In progress")),f.createElement("div",{className:"kpi-card purple"},f.createElement("div",{className:"kpi-label"},"Completion Rate"),f.createElement("div",{className:"kpi-value"},s.completionRate,"%"),f.createElement("div",{className:"kpi-description"},"Overall progress"))),f.createElement("div",{className:"charts-grid"},f.createElement("div",{className:`chart-card ${e==="dark"?"dark":""}`},f.createElement("h2",{className:"chart-title"}," Weekly Trends"),f.createElement("div",{className:"recharts-wrapper"},f.createElement(_p,{width:"100%",height:"100%"},f.createElement(P_e,{data:s.weeklyTrends},f.createElement(fm,{strokeDasharray:"3 3",stroke:"#475569"}),f.createElement(pm,{dataKey:"date",stroke:"#94a3b8"}),f.createElement(mm,{stroke:"#94a3b8"}),f.createElement(Rp,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569"}}),f.createElement(u_,null),f.createElement(N_,{type:"monotone",dataKey:"tasks",stroke:"#667eea",strokeWidth:2,name:"Total"}),f.createElement(N_,{type:"monotone",dataKey:"completed",stroke:"#10b981",strokeWidth:2,name:"Completed"}))))),f.createElement("div",{className:`chart-card ${e==="dark"?"dark":""}`},f.createElement("h2",{className:"chart-title"}," Tasks by Category"),f.createElement("div",{className:"recharts-wrapper"},f.createElement(_p,{width:"100%",height:"100%"},f.createElement($_e,null,f.createElement(t3,{data:c,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value"},c.map((h,m)=>f.createElement(lh,{key:`cell-${m}`,fill:l[m%l.length]}))),f.createElement(Rp,null))))),f.createElement("div",{className:`chart-card ${e==="dark"?"dark":""}`},f.createElement("h2",{className:"chart-title"}," Priority Distribution"),f.createElement("div",{className:"recharts-wrapper"},f.createElement(_p,{width:"100%",height:"100%"},f.createElement(JN,{data:u},f.createElement(fm,{strokeDasharray:"3 3",stroke:"#475569"}),f.createElement(pm,{dataKey:"name",stroke:"#94a3b8"}),f.createElement(mm,{stroke:"#94a3b8"}),f.createElement(Rp,{contentStyle:{backgroundColor:"#1e293b"}}),f.createElement(hm,{dataKey:"value",fill:"#f59e0b"}))))),f.createElement("div",{className:`chart-card ${e==="dark"?"dark":""}`},f.createElement("h2",{className:"chart-title"}," Completion by Category"),f.createElement("div",{className:"recharts-wrapper"},f.createElement(_p,{width:"100%",height:"100%"},f.createElement(JN,{data:d},f.createElement(fm,{strokeDasharray:"3 3",stroke:"#475569"}),f.createElement(pm,{dataKey:"category",stroke:"#94a3b8"}),f.createElement(mm,{stroke:"#94a3b8"}),f.createElement(Rp,{contentStyle:{backgroundColor:"#1e293b"}}),f.createElement(u_,null),f.createElement(hm,{dataKey:"completed",fill:"#10b981",name:"Done"}),f.createElement(hm,{dataKey:"pending",fill:"#ef4444",name:"Pending"})))))),f.createElement("div",{className:`metrics-section ${e==="dark"?"dark":""}`},f.createElement("h2",{className:"metrics-title"}," Performance Metrics"),f.createElement("div",{className:"metrics-grid"},Object.entries(s.completionByCategory).map(([h,m])=>{const g=m.total>0?Math.round(m.completed/m.total*100):0;return f.createElement("div",{key:h,className:`metric-item ${e==="dark"?"dark":""}`},f.createElement("div",{className:"metric-header"},f.createElement("span",{className:"metric-category"},h),f.createElement("span",{className:"metric-rate"},g,"%")),f.createElement("div",{className:"progress-bar"},f.createElement("div",{className:"progress-fill",style:{width:`${g}%`}})),f.createElement("div",{className:"metric-info"},m.completed," of ",m.total," completed"))})))))}var H_e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const q_e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G_e=(t,e)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:s,...l},c)=>v.createElement("svg",{ref:c,...H_e,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:`lucide lucide-${q_e(t)}`,...l},[...e.map(([u,d])=>v.createElement(u,d)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${t}`,n};var vr=G_e;const K_e=vr("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Y_e=vr("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]),Q_e=vr("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),X_e=vr("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Z_e=vr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),J_e=vr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),eb=vr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),eSe=vr("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]),tSe=vr("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),nSe=vr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),rSe=vr("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),iSe=vr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),aSe=vr("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),oSe=vr("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function sSe(){const t=pn();return f.createElement("div",{className:"dev-container"},f.createElement("div",{className:"dev-bg"}),f.createElement("div",{className:"dev-card"},f.createElement("div",{className:"dev-header"},f.createElement("div",{className:"dev-avatar"},f.createElement("div",{className:"avatar-glow"}),f.createElement("span",{className:"avatar-text"},"TD")),f.createElement("h1",null,"Thanawat Doopad"),f.createElement("p",{className:"dev-title"},"Full Stack Developer")),f.createElement("div",{className:"dev-skills"},f.createElement("div",{className:"skill-item"},f.createElement(Y_e,{size:20}),f.createElement("span",null,"React & Firebase")),f.createElement("div",{className:"skill-item"},f.createElement(oSe,{size:20}),f.createElement("span",null,"Fast & Responsive"))),f.createElement("div",{className:"dev-contact"},f.createElement("a",{href:"mailto:tupfa23@gmail.com",className:"contact-link"},f.createElement(J_e,{size:18}),f.createElement("span",null,"tupfa23@gmail.com"))),f.createElement("div",{className:"dev-socials"},f.createElement("a",{href:"https://www.facebook.com/share/15wpk54m3Z/",target:"_blank",rel:"noopener noreferrer",className:"social-btn fb",title:"Facebook"},f.createElement(Q_e,{size:20})),f.createElement("a",{href:"https://www.instagram.com/thnd1726?igsh=cDNiZ3k0Ynptb25v",target:"_blank",rel:"noopener noreferrer",className:"social-btn ig",title:"Instagram"},f.createElement(X_e,{size:20})),f.createElement("a",{href:"https://tmn.app.link/LYgPksyQYYb",target:"_blank",rel:"noopener noreferrer",className:"social-btn tm",title:"True Money"},f.createElement(K_e,{size:20}))),f.createElement("button",{className:"dev-btn",onClick:()=>t("/")}," ")),f.createElement("style",null,`
        .dev-container {
          min-height: 100vh;
          background: linear-gradient(135deg, #0f0d1a 0%, #1a1a2e 50%, #16213e 100%);
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 20px;
          position: relative;
          overflow: hidden;
        }

        .dev-bg {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: 
            radial-gradient(circle at 20% 50%, rgba(123, 95, 255, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 80%, rgba(184, 107, 255, 0.1) 0%, transparent 50%);
          pointer-events: none;
        }

        .dev-card {
          background: rgba(16, 13, 32, 0.8);
          backdrop-filter: blur(10px);
          border: 1px solid rgba(123, 95, 255, 0.3);
          border-radius: 20px;
          padding: 40px;
          max-width: 450px;
          width: 100%;
          box-shadow: 0 20px 60px rgba(123, 95, 255, 0.2);
          animation: slideUp 0.6s ease-out;
          position: relative;
          z-index: 1;
        }

        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .dev-header {
          text-align: center;
          margin-bottom: 30px;
        }

        .dev-avatar {
          width: 100px;
          height: 100px;
          margin: 0 auto 20px;
          position: relative;
        }

        .avatar-glow {
          position: absolute;
          inset: -5px;
          background: linear-gradient(45deg, #7b5fff, #b86bff);
          border-radius: 50%;
          animation: glow 3s ease-in-out infinite;
          opacity: 0.6;
        }

        @keyframes glow {
          0%, 100% { opacity: 0.6; }
          50% { opacity: 1; }
        }

        .avatar-text {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 100%;
          height: 100%;
          background: linear-gradient(135deg, #7b5fff 0%, #b86bff 100%);
          border-radius: 50%;
          font-size: 28px;
          font-weight: bold;
          color: white;
          z-index: 1;
        }

        .dev-header h1 {
          font-size: 28px;
          margin: 0 0 8px 0;
          background: linear-gradient(135deg, #fff 0%, #a88eff 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .dev-title {
          font-size: 14px;
          color: #a88eff;
          margin: 0;
          font-weight: 500;
          letter-spacing: 1px;
        }

        .dev-skills {
          display: flex;
          gap: 12px;
          margin-bottom: 30px;
          flex-wrap: wrap;
        }

        .skill-item {
          display: flex;
          align-items: center;
          gap: 8px;
          background: rgba(123, 95, 255, 0.1);
          border: 1px solid rgba(123, 95, 255, 0.3);
          padding: 10px 16px;
          border-radius: 20px;
          font-size: 13px;
          color: #a88eff;
          transition: all 0.3s ease;
          flex: 1;
          justify-content: center;
        }

        .skill-item:hover {
          background: rgba(123, 95, 255, 0.2);
          border-color: rgba(123, 95, 255, 0.6);
          transform: translateY(-2px);
        }

        .dev-contact {
          margin-bottom: 30px;
        }

        .contact-link {
          display: flex;
          align-items: center;
          gap: 12px;
          background: rgba(123, 95, 255, 0.15);
          border: 1px solid rgba(123, 95, 255, 0.3);
          padding: 14px 18px;
          border-radius: 12px;
          color: #a88eff;
          text-decoration: none;
          transition: all 0.3s ease;
          cursor: pointer;
        }

        .contact-link:hover {
          background: rgba(123, 95, 255, 0.25);
          border-color: #b86bff;
          transform: translateX(5px);
          box-shadow: 0 10px 30px rgba(123, 95, 255, 0.2);
        }

        .contact-link span {
          font-size: 14px;
          font-weight: 500;
        }

        .dev-btn {
          width: 100%;
          padding: 14px 24px;
          background: linear-gradient(135deg, #7b5fff 0%, #b86bff 100%);
          color: white;
          border: none;
          border-radius: 10px;
          font-size: 15px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 10px 30px rgba(123, 95, 255, 0.2);
          letter-spacing: 0.5px;
        }

        .dev-btn:hover {
          transform: translateY(-3px);
          box-shadow: 0 15px 40px rgba(123, 95, 255, 0.4);
        }

        .dev-btn:active {
          transform: translateY(-1px);
        }

        .dev-socials {
          display: flex;
          gap: 12px;
          margin-bottom: 20px;
          justify-content: center;
        }

        .social-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 45px;
          height: 45px;
          border-radius: 50%;
          border: 1px solid rgba(123, 95, 255, 0.3);
          background: rgba(123, 95, 255, 0.1);
          color: #a88eff;
          text-decoration: none;
          transition: all 0.3s ease;
          cursor: pointer;
        }

        .social-btn:hover {
          transform: translateY(-5px);
          box-shadow: 0 10px 25px rgba(123, 95, 255, 0.3);
        }

        .social-btn.fb:hover {
          background: rgba(59, 89, 152, 0.3);
          border-color: #3b5998;
          color: #3b5998;
        }

        .social-btn.ig:hover {
          background: linear-gradient(45deg, rgba(255, 0, 127, 0.2), rgba(255, 165, 0, 0.2));
          border-color: #ff1493;
          color: #ff1493;
        }

        .social-btn.prompt:hover {
          background: rgba(0, 184, 148, 0.2);
          border-color: #00b894;
          color: #00b894;
        }
      `))}var F3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nM=f.createContext&&f.createContext(F3),lSe=["attr","size","title"];function cSe(t,e){if(t==null)return{};var n=uSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(this,arguments)}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){dSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dSe(t,e,n){return e=fSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fSe(t){var e=hSe(t,"string");return typeof e=="symbol"?e:e+""}function hSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V3(t){return t&&t.map((e,n)=>f.createElement(e.tag,dv({key:n},e.attr),V3(e.child)))}function bh(t){return e=>f.createElement(pSe,uv({attr:dv({},t.attr)},e),V3(t.child))}function pSe(t){var e=n=>{var{attr:r,size:i,title:a}=t,o=cSe(t,lSe),s=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),f.createElement("svg",uv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:dv(dv({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&f.createElement("title",null,a),t.children)};return nM!==void 0?f.createElement(nM.Consumer,null,n=>e(n)):e(F3)}function mSe(t){return bh({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function gSe(t){return bh({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]},{tag:"path",attr:{d:"M18.63 13A17.89 17.89 0 0 1 18 8"},child:[]},{tag:"path",attr:{d:"M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"},child:[]},{tag:"path",attr:{d:"M18 8a6 6 0 0 0-9.33-5"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function vSe(t){return bh({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function ySe(t){return bh({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(t)}function ESe(t){return bh({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}function bSe({user:t,theme:e,setTheme:n}){const r=pn(),[i,a]=v.useState(!1),[o,s]=v.useState([]);v.useEffect(()=>{if(!t)return;const c=Ie(Ee,"users",t.uid);Xc(c).then(u=>{u.exists()&&a(u.data().notifyEnabled||!1)})},[t]),v.useEffect(()=>{if(!t)return;const c=An(Ee,"tasks"),u=ko(c,d=>{const h=[];d.forEach(m=>{const g=m.data();g.userId===t.uid&&h.push({id:m.id,...g})}),s(h)});return()=>u()},[t]);const l=async()=>{if(!t)return alert("Login ");const c=Ie(Ee,"users",t.uid);if(i)a(!1),await Fi(c,{notifyEnabled:!1},{merge:!0}),alert("");else{if(!("Notification"in window))return alert("Browser  Notification");if(await Notification.requestPermission()!=="granted")return alert(" Notification ");a(!0),await Fi(c,{notifyEnabled:!0},{merge:!0}),new Notification(" ",{body:""}),o.forEach(d=>{new Notification(" ",{body:d.title||""})})}};return f.createElement("div",{className:"settings-wrapper"},f.createElement("div",{className:"settings-box fade-in"},f.createElement("h2",{className:"settings-title"}," Settings"),f.createElement("p",{className:"user-display"},": ",f.createElement("span",null,t?t.email:"Guest")),f.createElement("div",{className:"section"},f.createElement("h3",null," Theme"),f.createElement("div",{className:"btn-row"},f.createElement("button",{className:"btn light",onClick:()=>n("light")},f.createElement(ESe,null)," Light"),f.createElement("button",{className:"btn dark",onClick:()=>n("dark")},f.createElement(ySe,null)," Dark"))),f.createElement("div",{className:"section"},f.createElement("h3",null," Notifications"),f.createElement("button",{className:"btn primary",onClick:l},i?f.createElement(vSe,null):f.createElement(gSe,null),i?"":""),f.createElement("p",{className:"notify-status"},": ",f.createElement("b",null,i?"":""))),f.createElement("button",{className:"btn back",onClick:()=>r("/")},f.createElement(mSe,null)," ")))}const wSe="/assets/logo-BBYiyyKK.png";function _Se({onEnd:t}){const[e,n]=v.useState(!0),[r,i]=v.useState([]);v.useEffect(()=>{i([...Array(50)].map((s,l)=>({id:l,x:Math.random()*100,y:Math.random()*100,size:Math.random()*5+2,duration:Math.random()*10+8,delay:Math.random()*2,opacity:Math.random()*.6+.3})));const o=setTimeout(()=>n(!1),2500);return()=>clearTimeout(o)},[]);const a=()=>{t&&t()};return f.createElement("div",{className:"splash-container"},f.createElement("div",{className:"splash-bg"}),f.createElement("div",{className:"blob blob-1"}),f.createElement("div",{className:"blob blob-2"}),f.createElement("div",{className:"blob blob-3"}),f.createElement("div",{className:"particles-layer"},r.map(o=>f.createElement("div",{key:o.id,className:"particle",style:{left:o.x+"%",top:o.y+"%",width:o.size+"px",height:o.size+"px","--duration":o.duration+"s","--delay":o.delay+"s","--opacity":o.opacity}}))),f.createElement("div",{className:"grid-bg"}),f.createElement("div",{className:"splash-content"},f.createElement("div",{className:"logo-container"},f.createElement("div",{className:"logo-shine"}),f.createElement("img",{src:wSe,alt:"DayZy",className:"logo-image"}),f.createElement("div",{className:"logo-glow"})),f.createElement("div",{className:"title-container"},f.createElement("h1",{className:"splash-title"},"DayZy"),f.createElement("div",{className:"title-underline"})),f.createElement("p",{className:"splash-subtitle"},"Master Your Schedule"),e&&f.createElement("div",{className:"loading-spinner"},f.createElement("div",{className:"spinner"}),f.createElement("p",{className:"loading-text"},"Initializing...")),!e&&f.createElement("button",{className:"cta-button",onClick:a},f.createElement("span",{className:"button-text"},"START PLANNING"),f.createElement("svg",{className:"button-icon",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none"},f.createElement("path",{d:"M5 12h14M12 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))),f.createElement("div",{className:"glow-orb orb-1"}),f.createElement("div",{className:"glow-orb orb-2"}),f.createElement("div",{className:"glow-orb orb-3"}))}const SSe=`
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.splash-container {
  width: 100%;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  font-family: 'Inter', 'Helvetica Neue', sans-serif;
  background: #0a0e1a;
  overflow: hidden;
}

/* Background */
.splash-bg {
  position: absolute;
  inset: 0;
  background: linear-gradient(-45deg, #0a0e1a, #1a1f3a, #0d1117, #0a0e1a);
  background-size: 400% 400%;
  animation: bgShift 15s ease infinite;
  z-index: 1;
}

@keyframes bgShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Floating blobs */
.blob {
  position: absolute;
  border-radius: 50%;
  filter: blur(90px);
  opacity: 0.25;
  mix-blend-mode: screen;
  z-index: 2;
}

.blob-1 {
  width: 400px;
  height: 400px;
  background: radial-gradient(circle, #a855f7 0%, transparent 70%);
  top: -150px;
  left: -100px;
  animation: float 10s ease-in-out infinite;
}

.blob-2 {
  width: 350px;
  height: 350px;
  background: radial-gradient(circle, #7c3aed 0%, transparent 70%);
  bottom: -100px;
  right: -50px;
  animation: float 12s ease-in-out infinite reverse;
}

.blob-3 {
  width: 300px;
  height: 300px;
  background: radial-gradient(circle, #d8b4fe 0%, transparent 70%);
  top: 40%;
  right: 5%;
  animation: float 14s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0) translateX(0); }
  50% { transform: translateY(-50px) translateX(30px); }
}

/* Particles */
.particles-layer {
  position: absolute;
  inset: 0;
  z-index: 2;
  pointer-events: none;
}

.particle {
  position: absolute;
  background: radial-gradient(circle, #a855f7 0%, #7c3aed 100%);
  border-radius: 50%;
  box-shadow: 0 0 20px rgba(168, 85, 247, 0.9);
  opacity: var(--opacity);
  animation: particleFloat var(--duration) linear infinite;
  animation-delay: var(--delay);
}

@keyframes particleFloat {
  0% {
    transform: translateY(100vh) translateX(0);
    opacity: 0;
  }
  5% {
    opacity: var(--opacity);
  }
  95% {
    opacity: var(--opacity);
  }
  100% {
    transform: translateY(-100vh) translateX(80px);
    opacity: 0;
  }
}

/* Grid */
.grid-bg {
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(168, 85, 247, 0.06) 1px, transparent 1px),
    linear-gradient(90deg, rgba(168, 85, 247, 0.06) 1px, transparent 1px);
  background-size: 60px 60px;
  z-index: 2;
  animation: gridMove 15s linear infinite;
}

@keyframes gridMove {
  0% { transform: translateY(0); }
  100% { transform: translateY(60px); }
}

/* Content */
.splash-content {
  position: relative;
  z-index: 10;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 35px;
  animation: contentFadeIn 1s ease-out;
}

@keyframes contentFadeIn {
  from {
    opacity: 0;
    transform: translateY(40px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Logo */
.logo-container {
  position: relative;
  width: 320px;
  height: 320px;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: logoFloat 3s ease-in-out infinite;
}

@keyframes logoFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-15px); }
}

.logo-shine {
  position: absolute;
  inset: -20px;
  background: radial-gradient(circle at 30% 30%, rgba(168, 85, 247, 0.4) 0%, transparent 70%);
  border-radius: 50%;
  filter: blur(40px);
  animation: shinePulse 3s ease-in-out infinite;
}

@keyframes shinePulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.6; }
}

.logo-glow {
  position: absolute;
  inset: 0;
  border: 2px solid transparent;
  border-radius: 50%;
  border-top-color: rgba(168, 85, 247, 0.6);
  border-right-color: rgba(168, 85, 247, 0.2);
  animation: rotate 4s linear infinite;
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.logo-image {
  position: relative;
  z-index: 5;
  width: 75%;
  height: 75%;
  object-fit: contain;
  filter: drop-shadow(0 0 25px rgba(168, 85, 247, 0.7));
}

/* Title */
.title-container {
  position: relative;
}

.splash-title {
  font-size: 68px;
  font-weight: 900;
  letter-spacing: -2px;
  text-transform: uppercase;
  background: linear-gradient(135deg, #a855f7 0%, #d8b4fe 50%, #7c3aed 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin: 0 0 15px 0;
  animation: titleGlow 2s ease-in-out infinite;
}

@keyframes titleGlow {
  0%, 100% { filter: drop-shadow(0 0 20px rgba(168, 85, 247, 0.4)); }
  50% { filter: drop-shadow(0 0 40px rgba(168, 85, 247, 0.8)); }
}

.title-underline {
  width: 100px;
  height: 3px;
  background: linear-gradient(90deg, transparent, #a855f7, #7c3aed, transparent);
  margin: 0 auto;
  animation: expandWidth 2.5s ease-in-out infinite;
}

@keyframes expandWidth {
  0%, 100% { width: 100px; opacity: 0.5; }
  50% { width: 150px; opacity: 1; }
}

.splash-subtitle {
  font-size: 16px;
  color: rgba(216, 180, 254, 0.85);
  font-weight: 300;
  letter-spacing: 2px;
  text-transform: uppercase;
  margin: 0;
}

/* Loading */
.loading-spinner {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 15px;
  animation: contentFadeIn 0.6s ease-out 0.3s both;
}

.spinner {
  width: 50px;
  height: 50px;
  border: 3px solid transparent;
  border-top-color: #a855f7;
  border-right-color: #7c3aed;
  border-radius: 50%;
  animation: spin 1.5s linear infinite;
  box-shadow: 0 0 20px rgba(168, 85, 247, 0.6);
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.loading-text {
  color: rgba(216, 180, 254, 0.7);
  font-size: 12px;
  letter-spacing: 2px;
  text-transform: uppercase;
  animation: textPulse 1.5s ease-in-out infinite;
}

@keyframes textPulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

/* Button */
.cta-button {
  padding: 15px 45px;
  font-size: 15px;
  font-weight: 700;
  color: white;
  background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
  border: 2px solid rgba(168, 85, 247, 0.6);
  border-radius: 50px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  text-transform: uppercase;
  letter-spacing: 1.5px;
  box-shadow: 0 0 40px rgba(168, 85, 247, 0.6), inset 0 0 20px rgba(255, 255, 255, 0.1);
  animation: contentFadeIn 0.8s ease-out 0.4s both;
  position: relative;
  overflow: hidden;
}

.button-text {
  display: inline-block;
  position: relative;
  z-index: 2;
}

.button-icon {
  transition: transform 0.4s ease;
  position: relative;
  z-index: 2;
}

.cta-button::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  transform: translateX(-100%);
  transition: transform 0.6s;
  z-index: 1;
}

.cta-button:hover {
  transform: translateY(-5px) scale(1.05);
  box-shadow: 0 0 60px rgba(168, 85, 247, 0.9), inset 0 0 30px rgba(255, 255, 255, 0.15), 0 20px 40px rgba(0, 0, 0, 0.5);
  border-color: rgba(216, 180, 254, 0.9);
}

.cta-button:hover::before {
  transform: translateX(100%);
}

.cta-button:hover .button-icon {
  transform: translateX(5px);
}

.cta-button:active {
  transform: translateY(-2px) scale(1.02);
}

/* Glow orbs */
.glow-orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(120px);
  opacity: 0.2;
  pointer-events: none;
  z-index: 0;
  animation: orbPulse 8s ease-in-out infinite;
}

.orb-1 {
  width: 500px;
  height: 500px;
  background: radial-gradient(circle, rgba(168, 85, 247, 0.6) 0%, transparent 70%);
  top: 10%;
  left: 5%;
}

.orb-2 {
  width: 400px;
  height: 400px;
  background: radial-gradient(circle, rgba(124, 58, 237, 0.5) 0%, transparent 70%);
  bottom: 10%;
  right: 10%;
  animation-delay: 2s;
}

.orb-3 {
  width: 450px;
  height: 450px;
  background: radial-gradient(circle, rgba(216, 180, 254, 0.5) 0%, transparent 70%);
  top: 50%;
  right: 5%;
  animation-delay: 4s;
}

@keyframes orbPulse {
  0%, 100% { opacity: 0.2; }
  50% { opacity: 0.4; }
}

/* Responsive */
@media (max-width: 768px) {
  .splash-title {
    font-size: 48px;
  }
  .splash-subtitle {
    font-size: 14px;
  }
  .logo-container {
    width: 240px;
    height: 240px;
  }
  .splash-content {
    gap: 30px;
  }
}

@media (max-width: 480px) {
  .splash-title {
    font-size: 36px;
  }
  .splash-subtitle {
    font-size: 12px;
  }
  .logo-container {
    width: 160px;
    height: 160px;
  }
  .cta-button {
    padding: 12px 35px;
    font-size: 13px;
  }
  .splash-content {
    gap: 25px;
  }
}
`;if(typeof document<"u"){const t=document.createElement("style");t.textContent=SSe,document.head.appendChild(t)}function iM({theme:t}){const[e]=x9(),n=pn(),[r,i]=v.useState(""),[a,o]=v.useState(""),[s,l]=v.useState(!1),[c,u]=v.useState(""),[d,h]=v.useState(""),[m,g]=v.useState(!0),[y,E]=v.useState(""),[b,w]=v.useState(0);v.useEffect(()=>{const A=e.get("oobCode");if(!A){h("Invalid reset link!"),g(!1);return}aG(Xn,A).then(()=>{E(A),g(!1)}).catch(P=>{h("Reset link expired or invalid: "+P.message),g(!1)})},[e]),v.useEffect(()=>{let A=0;r.length>=6&&(A+=25),r.length>=10&&(A+=25),/[a-z]/.test(r)&&/[A-Z]/.test(r)&&(A+=25),/[0-9]/.test(r)&&/[!@#$%^&*]/.test(r)&&(A+=25),w(A)},[r]);const T=async A=>{if(A.preventDefault(),u(""),h(""),!r||!a){h("Please fill in all fields!");return}if(r!==a){h("Passwords do not match!");return}if(r.length<6){h("Password must be at least 6 characters!");return}if(!y){h("Invalid reset link!");return}l(!0);try{await rG(Xn,y,r),u(" Password reset successfully! Redirecting to login..."),setTimeout(()=>{n("/login")},2e3)}catch(P){h("Error resetting password: "+P.message),l(!1)}};return m?f.createElement("div",{className:`reset-container ${t}`},f.createElement("div",{className:"reset-card"},f.createElement("div",{className:"loading-spinner"}),f.createElement("p",null,"Verifying reset link..."))):f.createElement("div",{className:`reset-container ${t}`},f.createElement("div",{className:"reset-card"},f.createElement("div",{className:"reset-header"},f.createElement("div",{className:"reset-icon"},""),f.createElement("h1",null,"Reset Password"),f.createElement("p",{className:"reset-subtitle"},"Create a new secure password")),d&&f.createElement("div",{className:"reset-error"},d),c&&f.createElement("div",{className:"reset-success"},c),f.createElement("form",{onSubmit:T,className:"reset-form"},f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"password"},"New Password"),f.createElement("input",{type:"password",id:"password",placeholder:"Enter new password",value:r,onChange:A=>i(A.target.value),disabled:s,required:!0}),f.createElement("div",{className:"strength-bar"},f.createElement("div",{className:"strength-fill",style:{width:b+"%",backgroundColor:b<50?"#ef4444":b<75?"#f59e0b":"#10b981"}})),f.createElement("small",{className:"strength-text"},b<50?"Weak":b<75?"Good":"Strong")),f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"confirmPassword"},"Confirm Password"),f.createElement("input",{type:"password",id:"confirmPassword",placeholder:"Confirm password",value:a,onChange:A=>o(A.target.value),disabled:s,required:!0})),f.createElement("button",{type:"submit",className:"reset-button",disabled:s},s?f.createElement(f.Fragment,null,f.createElement("span",{className:"button-spinner"}),"Processing..."):"Reset Password")),f.createElement("div",{className:"reset-footer"},f.createElement("p",null,"Remember your password? ",f.createElement("a",{href:"/login"},"Back to login")))))}function ASe({user:t,theme:e}){var P,k;const n=pn(),[r,i]=v.useState((t==null?void 0:t.displayName)||""),[a,o]=v.useState(""),[s,l]=v.useState((t==null?void 0:t.photoURL)||""),[c,u]=v.useState(null),[d,h]=v.useState(!1),[m,g]=v.useState("");v.useEffect(()=>{const S=async()=>{try{const x=Ie(Ee,"users",t.uid),I=await Xc(x);I.exists()&&o(I.data().phoneNumber||"")}catch(x){console.error("Error fetching phone number:",x)}};t!=null&&t.uid&&S()},[t==null?void 0:t.uid]);const y=S=>{var I;const x=(I=S.target.files)==null?void 0:I[0];if(x){if(x.size>5*1024*1024){g(" File size must be less than 5MB");return}if(!x.type.startsWith("image/")){g(" Please select an image file");return}u(x);const D=new FileReader;D.onload=R=>{var O;l((O=R.target)==null?void 0:O.result)},D.readAsDataURL(x)}},E=async S=>{try{const x=Date.now(),I=S.name.split(".").pop(),D=`${t.uid}_${x}.${I}`,R=mP(gP,`user-profiles/${t.uid}/${D}`);return await TX(R,S),await CX(R)}catch(x){throw new Error(`Failed to upload image: ${x.message}`)}},b=async S=>{try{if(S&&S.includes("firebaseapp.com")){const x=mP(gP,S);await kX(x).catch(()=>{})}}catch(x){console.error("Error deleting old image:",x)}},w=async S=>{S.preventDefault(),h(!0),g("");try{let x=(t==null?void 0:t.photoURL)||"";if(c&&(g(" Uploading image..."),t!=null&&t.photoURL&&await b(t.photoURL),x=await E(c)),!r.trim()){g(" Display name is required"),h(!1);return}Xn.currentUser&&(await lG(Xn.currentUser,{displayName:r.trim(),photoURL:x||null}),console.log(" Firebase Auth updated"));const I=Ie(Ee,"users",t.uid);await _n(I,{displayName:r.trim(),phoneNumber:a.trim(),photoURL:x,updatedAt:new Date,lastUpdatedBy:"user"}),console.log(" Firestore updated"),u(null),g(" Profile updated successfully!"),setTimeout(()=>g(""),3e3)}catch(x){console.error("Error updating profile:",x),g(` Error: ${x.message}`)}finally{h(!1)}},T=()=>{u(null),l((t==null?void 0:t.photoURL)||"")},A=s||(t==null?void 0:t.photoURL);return f.createElement("div",{className:`page-container ${e==="dark"?"dark-mode":"light-mode"}`},f.createElement("header",{className:"page-header"},f.createElement("button",{className:"back-btn",onClick:()=>n("/dashboard")}," Back"),f.createElement("h1",null," Profile")),f.createElement("main",{className:"page-content"},f.createElement("div",{className:"profile-card"},f.createElement("div",{className:"avatar-section"},A?f.createElement("div",{className:"avatar-container"},f.createElement("img",{src:A,alt:"Profile",className:"avatar-image",onError:S=>{S.target.src="",g(" Failed to load image.")}}),s&&f.createElement("button",{type:"button",className:"clear-image-btn",onClick:T,title:"Remove image"},"")):f.createElement("div",{className:"avatar-placeholder"},"")),f.createElement("form",{onSubmit:w,className:"profile-form"},f.createElement("div",{className:"form-group"},f.createElement("label",null,"Email"),f.createElement("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"form-input disabled"})),f.createElement("div",{className:"form-group"},f.createElement("label",null,"Display Name *"),f.createElement("input",{type:"text",value:r,onChange:S=>i(S.target.value),placeholder:"Enter your name",className:"form-input",required:!0})),f.createElement("div",{className:"form-group"},f.createElement("label",null,"Phone Number"),f.createElement("input",{type:"tel",value:a,onChange:S=>o(S.target.value),placeholder:"Enter your phone number",className:"form-input"})),f.createElement("div",{className:"photo-section"},f.createElement("h3",null,"Upload Photo"),f.createElement("div",{className:"form-group"},f.createElement("label",null,"Choose File"),f.createElement("div",{className:"file-upload-area"},f.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},f.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.createElement("polyline",{points:"17 8 12 3 7 8"}),f.createElement("line",{x1:"12",y1:"3",x2:"12",y2:"15"})),f.createElement("p",null,"Click to upload or drag and drop"),f.createElement("span",null,"PNG, JPG, GIF up to 5MB"),f.createElement("input",{type:"file",accept:"image/*",onChange:y,className:"file-input"})),c&&f.createElement("div",{className:"file-info"},f.createElement("p",null," ",c.name)))),m&&f.createElement("div",{className:`message ${m.includes("")?"success":m.includes("")||m.includes("")?"info":"error"}`},m),f.createElement("button",{type:"submit",disabled:d,className:"btn-primary"},d?"Saving...":"Save Changes")),f.createElement("div",{className:"user-info"},f.createElement("h3",null,"Account Information"),f.createElement("div",{className:"info-row"},f.createElement("span",null,"User ID:"),f.createElement("code",null,t==null?void 0:t.uid)),f.createElement("div",{className:"info-row"},f.createElement("span",null,"Created:"),f.createElement("span",null,(P=t==null?void 0:t.metadata)!=null&&P.createdAt?new Date(t.metadata.createdAt).toLocaleDateString():"N/A")),f.createElement("div",{className:"info-row"},f.createElement("span",null,"Last Updated:"),f.createElement("span",null,(k=t==null?void 0:t.metadata)!=null&&k.lastSignInTime?new Date(t.metadata.lastSignInTime).toLocaleDateString():"N/A"))))))}function xSe({user:t,theme:e}){const n=pn(),[r,i]=v.useState([]),[a,o]=v.useState(!0);v.useEffect(()=>{if(!t)return;const u=Mi(An(Ee,"notifications"),Co("userId","==",t.uid)),d=ko(u,h=>{const m=h.docs.map(g=>{var y,E;return{id:g.id,...g.data(),timestamp:((E=(y=g.data().timestamp)==null?void 0:y.toDate)==null?void 0:E.call(y))||new Date}});i(m.sort((g,y)=>y.timestamp-g.timestamp)),o(!1)});return()=>d()},[t]);const s=async u=>{try{await jo(Ie(Ee,"notifications",u))}catch(d){console.error("Error deleting notification:",d)}},l=async()=>{if(window.confirm("Delete all notifications?"))for(const u of r)await s(u.id)},c=u=>{const d={task:"",project:"",message:"",invite:"",reminder:"",default:""};return d[u]||d.default};return f.createElement("div",{className:`page-container ${e==="dark"?"dark-mode":"light-mode"}`},f.createElement("header",{className:"page-header"},f.createElement("button",{className:"back-btn",onClick:()=>n("/dashboard")}," Back"),f.createElement("h1",null," Notifications"),r.length>0&&f.createElement("button",{className:"clear-all-btn",onClick:l},"Clear All")),f.createElement("main",{className:"page-content"},a?f.createElement("div",{className:"loading"},"Loading notifications..."):r.length===0?f.createElement("div",{className:"empty-state"},f.createElement("div",{className:"empty-icon"},""),f.createElement("p",null,"No notifications yet")):f.createElement("div",{className:"notifications-list"},r.map(u=>f.createElement("div",{key:u.id,className:`notification-item ${u.read?"read":"unread"}`},f.createElement("div",{className:"notif-icon"},c(u.type)),f.createElement("div",{className:"notif-content"},f.createElement("div",{className:"notif-title"},u.title),f.createElement("div",{className:"notif-message"},u.message),f.createElement("div",{className:"notif-time"},u.timestamp.toLocaleString())),f.createElement("button",{className:"notif-delete",onClick:()=>s(u.id),title:"Delete"},""))))))}function TSe({user:t,theme:e}){const n=pn(),[r,i]=v.useState(null),[a,o]=v.useState(!1),[s,l]=v.useState({subject:"",message:"",category:"general"}),[c,u]=v.useState(!1),[d,h]=v.useState(""),m=[{question:"How do I create a new task?",answer:"Click on any date in the calendar to create a new task. A prompt will appear where you can enter the task title."},{question:"How do I create a project?",answer:"Go to the Team Panel on the left side and click the 'New Project' button. Fill in the project details and add team members."},{question:"How do I invite team members?",answer:"When creating a project, add their email addresses in the 'Invite Members' field. They'll receive an invitation to join."},{question:"Can I change the theme?",answer:"Yes! Click the moon/sun icon in the header, or go to Menu  Toggle Theme."},{question:"How do I export my data?",answer:"Click Menu  Export Data to download your tasks and projects as a file."},{question:"What is the calendar view?",answer:"The calendar shows your tasks on specific dates. You can switch between Month and Week views using the buttons in the top right."}],g=async y=>{if(y.preventDefault(),!s.subject.trim()||!s.message.trim()){h(" Please fill in all fields");return}u(!0);try{await YF(An(Ee,"support_tickets"),{userId:t.uid,userEmail:t.email,subject:s.subject,message:s.message,category:s.category,status:"open",createdAt:vQ()}),h(" Support ticket sent successfully! We'll be in touch soon."),l({subject:"",message:"",category:"general"}),setTimeout(()=>{o(!1),h("")},2e3)}catch(E){h(" Error sending support ticket: "+E.message)}finally{u(!1)}};return f.createElement("div",{className:`page-container ${e==="dark"?"dark-mode":"light-mode"}`},f.createElement("header",{className:"page-header"},f.createElement("button",{className:"back-btn",onClick:()=>n("/dashboard")}," Back"),f.createElement("h1",null," Help & Support")),f.createElement("main",{className:"page-content help-content"},f.createElement("section",{className:"help-section"},f.createElement("h2",null,"Frequently Asked Questions"),f.createElement("div",{className:"faq-list"},m.map((y,E)=>f.createElement("div",{key:E,className:`faq-item ${r===E?"expanded":""}`},f.createElement("button",{className:"faq-question",onClick:()=>i(r===E?null:E)},f.createElement("span",null,y.question),f.createElement("span",{className:"faq-icon"},r===E?"":"")),r===E&&f.createElement("div",{className:"faq-answer"},y.answer))))),f.createElement("section",{className:"help-section"},f.createElement("h2",null,"Need More Help?"),a?f.createElement("form",{onSubmit:g,className:"support-form"},f.createElement("div",{className:"form-group"},f.createElement("label",null,"Category"),f.createElement("select",{value:s.category,onChange:y=>l({...s,category:y.target.value}),className:"form-input"},f.createElement("option",{value:"general"},"General Question"),f.createElement("option",{value:"bug"},"Bug Report"),f.createElement("option",{value:"feature"},"Feature Request"),f.createElement("option",{value:"account"},"Account Issue"))),f.createElement("div",{className:"form-group"},f.createElement("label",null,"Subject"),f.createElement("input",{type:"text",value:s.subject,onChange:y=>l({...s,subject:y.target.value}),placeholder:"Enter subject",className:"form-input"})),f.createElement("div",{className:"form-group"},f.createElement("label",null,"Message"),f.createElement("textarea",{value:s.message,onChange:y=>l({...s,message:y.target.value}),placeholder:"Describe your issue or question",className:"form-textarea",rows:"5"})),d&&f.createElement("div",{className:`message ${d.includes("")?"success":"error"}`},d),f.createElement("div",{className:"form-actions"},f.createElement("button",{type:"submit",disabled:c,className:"btn-primary"},c?"Sending...":"Send Ticket"),f.createElement("button",{type:"button",onClick:()=>o(!1),className:"btn-secondary"},"Cancel"))):f.createElement("button",{className:"btn-primary",onClick:()=>o(!0)}," Contact Support")),f.createElement("section",{className:"help-section"},f.createElement("h2",null,"Quick Links"),f.createElement("div",{className:"quick-links"},f.createElement("a",{href:"https://twitter.com/dayzy",target:"_blank",rel:"noopener noreferrer",className:"quick-link"}," Twitter"),f.createElement("a",{href:"5dayzy67@gmail.com",className:"quick-link"}," Email Support")))))}function CSe({theme:t}){const e=pn();return f.createElement("div",{className:`page-container ${t==="dark"?"dark-mode":"light-mode"}`},f.createElement("header",{className:"page-header"},f.createElement("button",{className:"back-btn",onClick:()=>e("/dashboard")}," Back"),f.createElement("h1",null," About DayZy")),f.createElement("main",{className:"page-content"},f.createElement("div",{className:"about-content"},f.createElement("section",{className:"hero"},f.createElement("h2",null,"Welcome to DayZy"),f.createElement("p",null,"A modern task management and collaboration platform designed to help you and your team stay organized and productive.")),f.createElement("section",{className:"about-section"},f.createElement("h2",null," Key Features"),f.createElement("div",{className:"features-grid"},f.createElement("div",{className:"feature-card"},f.createElement("div",{className:"feature-icon"},""),f.createElement("h3",null,"Calendar"),f.createElement("p",null,"Visualize tasks")),f.createElement("div",{className:"feature-card"},f.createElement("div",{className:"feature-icon"},""),f.createElement("h3",null,"Teams"),f.createElement("p",null,"Collaborate easily")),f.createElement("div",{className:"feature-card"},f.createElement("div",{className:"feature-icon"},""),f.createElement("h3",null,"Tasks"),f.createElement("p",null,"Organize work")),f.createElement("div",{className:"feature-card"},f.createElement("div",{className:"feature-icon"},""),f.createElement("h3",null,"DAYZY AI"),f.createElement("p",null,"Assistance will help you")),f.createElement("div",{className:"feature-card"},f.createElement("div",{className:"feature-icon"},""),f.createElement("h3",null,"Search"),f.createElement("p",null,"Find quickly")),f.createElement("div",{className:"feature-card"},f.createElement("div",{className:"feature-icon"},""),f.createElement("h3",null,"Note"),f.createElement("p",null,"Take note on your work")))),f.createElement("section",{className:"about-section info-box"},f.createElement("h2",null," Version Info"),f.createElement("div",{className:"info-item"},f.createElement("span",{className:"info-label"},"App Name:"),f.createElement("span",{className:"info-value"},"DayZy")),f.createElement("div",{className:"info-item"},f.createElement("span",{className:"info-label"},"Version:"),f.createElement("span",{className:"info-value"},"1.0.0")),f.createElement("div",{className:"info-item"},f.createElement("span",{className:"info-label"},"Release:"),f.createElement("span",{className:"info-value"},"December 2024")),f.createElement("div",{className:"info-item"},f.createElement("span",{className:"info-label"},"Built with:"),f.createElement("span",{className:"info-value"},"React & Firebase"))),f.createElement("section",{className:"about-section"},f.createElement("h2",null," About Us"),f.createElement("p",null,"DayZy was created by a passionate team of developers dedicated to building the best task management experience. We believe in simplicity, collaboration, and productivity.")),f.createElement("section",{className:"contact-section"},f.createElement("h2",null," Get In Touch"),f.createElement("div",{className:"contact-links"},f.createElement("a",{href:"5dayzy67@gmail.com",className:"contact-link"}," Email"),f.createElement("a",{href:"https://twitter.com/dayzy",target:"_blank",rel:"noopener noreferrer",className:"contact-link"}," Twitter"))),f.createElement("section",{className:"legal-section"},f.createElement("h2",null," Legal"),f.createElement("div",{className:"legal-links"},f.createElement("a",{href:"/privacy-policy",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy"),f.createElement("span",null,""),f.createElement("a",{href:"/terms-of-service",target:"_blank",rel:"noopener noreferrer"},"Terms of Service"))),f.createElement("section",{className:"footer-section"},f.createElement("p",null," 2025 DayZy. All rights reserved."),f.createElement("p",{className:"tagline"},"Made with  for productive teams")))))}function kSe({user:t,theme:e}){const n=pn(),[r,i]=v.useState([]),[a,o]=v.useState([]),[s,l]=v.useState(!0),[c,u]=v.useState("json"),[d,h]=v.useState({tasks:!0,projects:!0});v.useEffect(()=>{m()},[t]);const m=async()=>{if(t)try{const A=Mi(An(Ee,"tasks"),Co("owner","==",t.uid)),k=(await qs(A)).docs.map(D=>({id:D.id,...D.data()}));i(k);const S=An(Ee,"projects"),I=(await qs(S)).docs.map(D=>({id:D.id,...D.data()})).filter(D=>{var R;return(D.members||[]).includes(t.uid)||(D.invites||[]).includes((R=t.email)==null?void 0:R.toLowerCase())});o(I),l(!1)}catch(A){console.error("Error fetching data:",A),l(!1)}},g=()=>{const A={};d.tasks&&(A.tasks=r),d.projects&&(A.projects=a);const P=JSON.stringify(A,null,2);w(P,"dayzy_export.json","application/json")},y=()=>{let A="";d.tasks&&r.length>0&&(A+=`TASKS
`,A+=`ID,Title,Date,Owner,Items
`,r.forEach(P=>{const k=(P.items||[]).length;A+=`"${P.id}","${P.title}","${P.date}","${P.owner}","${k}"
`}),A+=`

`),d.projects&&a.length>0&&(A+=`PROJECTS
`,A+=`ID,Name,Members,Status,CreatedAt
`,a.forEach(P=>{const k=(P.members||[]).length;A+=`"${P.id}","${P.name}","${k}","${P.status||"active"}","${P.createdAt||""}"
`})),w(A,"dayzy_export.csv","text/csv")},E=()=>{let A=`<?xml version="1.0" encoding="UTF-8"?>
<dayzy>
`;d.tasks&&r.length>0&&(A+=`  <tasks>
`,r.forEach(P=>{A+=`    <task>
`,A+=`      <id>${b(P.id)}</id>
`,A+=`      <title>${b(P.title)}</title>
`,A+=`      <date>${P.date}</date>
`,A+=`      <owner>${P.owner}</owner>
`,A+=`    </task>
`}),A+=`  </tasks>
`),d.projects&&a.length>0&&(A+=`  <projects>
`,a.forEach(P=>{A+=`    <project>
`,A+=`      <id>${b(P.id)}</id>
`,A+=`      <name>${b(P.name)}</name>
`,A+=`      <members>${(P.members||[]).length}</members>
`,A+=`    </project>
`}),A+=`  </projects>
`),A+="</dayzy>",w(A,"dayzy_export.xml","text/xml")},b=A=>String(A).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),w=(A,P,k)=>{const S=document.createElement("a");S.setAttribute("href",`data:${k};charset=utf-8,${encodeURIComponent(A)}`),S.setAttribute("download",P),S.style.display="none",document.body.appendChild(S),S.click(),document.body.removeChild(S)},T=()=>{if(!d.tasks&&!d.projects){alert("Please select at least one data type to export");return}c==="json"?g():c==="csv"?y():c==="xml"&&E()};return f.createElement("div",{className:`page-container ${e==="dark"?"dark-mode":"light-mode"}`},f.createElement("header",{className:"page-header"},f.createElement("button",{className:"back-btn",onClick:()=>n("/dashboard")}," Back"),f.createElement("h1",null," Export Data")),f.createElement("main",{className:"page-content"},s?f.createElement("div",{className:"loading"},"Loading your data..."):f.createElement("div",{className:"export-container"},f.createElement("section",{className:"export-section"},f.createElement("h2",null,"Select Data to Export"),f.createElement("div",{className:"checkbox-group"},f.createElement("label",{className:"checkbox-item"},f.createElement("input",{type:"checkbox",checked:d.tasks,onChange:A=>h({...d,tasks:A.target.checked})}),f.createElement("span",null," Tasks (",r.length,")")),f.createElement("label",{className:"checkbox-item"},f.createElement("input",{type:"checkbox",checked:d.projects,onChange:A=>h({...d,projects:A.target.checked})}),f.createElement("span",null," Projects (",a.length,")")))),f.createElement("section",{className:"export-section"},f.createElement("h2",null,"Export Format"),f.createElement("div",{className:"radio-group"},f.createElement("label",{className:"radio-item"},f.createElement("input",{type:"radio",name:"format",value:"json",checked:c==="json",onChange:A=>u(A.target.value)}),f.createElement("span",null,"JSON (Best for backup)")),f.createElement("label",{className:"radio-item"},f.createElement("input",{type:"radio",name:"format",value:"csv",checked:c==="csv",onChange:A=>u(A.target.value)}),f.createElement("span",null,"CSV (For Excel/Sheets)")),f.createElement("label",{className:"radio-item"},f.createElement("input",{type:"radio",name:"format",value:"xml",checked:c==="xml",onChange:A=>u(A.target.value)}),f.createElement("span",null,"XML (Universal format)")))),f.createElement("section",{className:"export-section info-box"},f.createElement("h2",null,"Summary"),f.createElement("p",null," Tasks: ",f.createElement("strong",null,r.length)),f.createElement("p",null," Projects: ",f.createElement("strong",null,a.length)),f.createElement("p",null," Export Date: ",f.createElement("strong",null,new Date().toLocaleDateString()))),f.createElement("section",{className:"export-section"},f.createElement("button",{className:"btn-primary btn-large",onClick:T}," Download Export"),f.createElement("button",{className:"btn-secondary",onClick:()=>n("/dashboard")},"Cancel")))))}function ISe({theme:t}){const[e,n]=v.useState(null),[r,i]=v.useState(""),[a,o]=v.useState(""),[s,l]=v.useState(""),[c,u]=v.useState(null),[d,h]=v.useState({days:0,hours:0,minutes:0,seconds:0}),[m,g]=v.useState(!1);pn(),v.useEffect(()=>gj(Xn,b=>{n(b),console.log("Auth state:",(b==null?void 0:b.email)||"not logged in")}),[]),v.useEffect(()=>{(async()=>{try{const b=Ie(Ee,"config","site"),w=await Xc(b);w.exists()&&u(new Date(w.data().launchDate))}catch(b){console.error("Error:",b)}})()},[]),v.useEffect(()=>{if(!c)return;const E=()=>{const w=new Date().getTime(),A=c.getTime()-w;if(A<=0)g(!0);else{const P=Math.floor(A/864e5),k=Math.floor(A%(1e3*60*60*24)/(1e3*60*60)),S=Math.floor(A%(1e3*60*60)/(1e3*60)),x=Math.floor(A%(1e3*60)/1e3);h({days:P,hours:k,minutes:S,seconds:x})}};E();const b=setInterval(E,1e3);return()=>clearInterval(b)},[c]);const y=async E=>{E.preventDefault(),l("");try{await mj(Xn,r,a),console.log("Login successful"),i(""),o("")}catch(b){console.error("Login error:",b),l("")}};return f.createElement("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #8b5cf6 0%, #a78bfa 50%, #c4b5fd 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"}},f.createElement("div",{style:{textAlign:"center",maxWidth:"36rem"}},f.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"1rem",padding:"3rem 2rem",marginBottom:"2rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"}},f.createElement("h1",{style:{fontSize:"4rem",fontWeight:"bold",background:"linear-gradient(135deg, #8b5cf6 0%, #d946ef 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"0.5rem"}},"DayZy"),f.createElement("p",{style:{fontSize:"1.5rem",color:"#666",fontWeight:"500"}},"Coming Soon"),f.createElement("p",{style:{fontSize:"1.125rem",color:"#999",marginTop:"1rem",lineHeight:"1.6"}},""),f.createElement("div",{style:{marginTop:"1.5rem",display:"flex",justifyContent:"center",gap:"1.5rem",flexWrap:"wrap"}},f.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1.125rem",color:"#8b5cf6",fontWeight:"600"}}," AI"),f.createElement("div",{style:{width:"1px",backgroundColor:"#d8b4fe",height:"24px"}}),f.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1.125rem",color:"#8b5cf6",fontWeight:"600"}}," Note"))),f.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"1rem",padding:"2rem",marginBottom:"2rem",border:"1px solid rgba(255, 255, 255, 0.2)"}},f.createElement("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"0.875rem",marginBottom:"1rem"}},""),f.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.75rem",marginBottom:"1.5rem"}},f.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.3)"}},f.createElement("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"white"}},String(d.days).padStart(2,"0")),f.createElement("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.75rem",marginTop:"0.5rem",fontWeight:"500"}},"")),f.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.3)"}},f.createElement("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"white"}},String(d.hours).padStart(2,"0")),f.createElement("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.75rem",marginTop:"0.5rem",fontWeight:"500"}},"")),f.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.3)"}},f.createElement("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"white"}},String(d.minutes).padStart(2,"0")),f.createElement("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.75rem",marginTop:"0.5rem",fontWeight:"500"}},"")),f.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.3)"}},f.createElement("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"white"}},String(d.seconds).padStart(2,"0")),f.createElement("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.75rem",marginTop:"0.5rem",fontWeight:"500"}},""))),c&&f.createElement("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"0.875rem"}}," ",c.toLocaleString("th-TH"))),f.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"1rem",padding:"2rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"}},f.createElement("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#8b5cf6",marginBottom:"1.5rem",textAlign:"center"}}," Admin Login"),f.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"}},f.createElement("input",{type:"email",placeholder:"",value:r,onChange:E=>i(E.target.value),style:{padding:"0.75rem 1rem",borderRadius:"0.5rem",border:"2px solid #e9d5ff",outline:"none",fontSize:"1rem",fontFamily:"inherit",transition:"border-color 0.2s"},onFocus:E=>E.target.style.borderColor="#8b5cf6",onBlur:E=>E.target.style.borderColor="#e9d5ff"}),f.createElement("input",{type:"password",placeholder:"",value:a,onChange:E=>o(E.target.value),style:{padding:"0.75rem 1rem",borderRadius:"0.5rem",border:"2px solid #e9d5ff",outline:"none",fontSize:"1rem",fontFamily:"inherit",transition:"border-color 0.2s"},onFocus:E=>E.target.style.borderColor="#8b5cf6",onBlur:E=>E.target.style.borderColor="#e9d5ff"}),f.createElement("button",{onClick:y,style:{backgroundColor:"#8b5cf6",color:"white",fontWeight:"bold",padding:"0.75rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"1rem",transition:"background-color 0.2s"},onMouseOver:E=>E.target.style.backgroundColor="#7c3aed",onMouseOut:E=>E.target.style.backgroundColor="#8b5cf6"},"")),s&&f.createElement("p",{style:{color:"#dc2626",fontSize:"0.875rem",marginTop:"1rem",textAlign:"center"}}," ",s))))}function aM(){const[t,e]=v.useState("th"),n=pn();return f.createElement("div",{className:"privacy-container"},f.createElement("div",{className:"privacy-header"},f.createElement("h1",null,t==="th"?"":"Privacy Policy"),f.createElement("p",null,t==="th"?"":"Information about how we protect your privacy")),f.createElement("div",{className:"privacy-content"},f.createElement("div",{className:"lang-toggle"},f.createElement("button",{className:t==="th"?"active":"",onClick:()=>e("th")},""),f.createElement("button",{className:t==="en"?"active":"",onClick:()=>e("en")},"English")),f.createElement("button",{className:"back-button",onClick:()=>n("/about")}," ",t==="th"?"":"Back"),t==="th"?f.createElement(f.Fragment,null,f.createElement("div",{className:"section"},f.createElement("h2",null,""),f.createElement("p",null,"    ")),f.createElement("div",{className:"section"},f.createElement("h2",null,""),f.createElement("p",null,":"),f.createElement("ul",null,f.createElement("li",null,":    "),f.createElement("li",null,": "),f.createElement("li",null,": IP address, browser type, operating system"),f.createElement("li",null," "))),f.createElement("div",{className:"section"},f.createElement("h2",null,""),f.createElement("p",null,":"),f.createElement("ul",null,f.createElement("li",null,""),f.createElement("li",null,""),f.createElement("li",null,""),f.createElement("li",null,""),f.createElement("li",null,""))),f.createElement("div",{className:"section"},f.createElement("h2",null,""),f.createElement("p",null,"  encryption, secure servers, ")),f.createElement("div",{className:"section"},f.createElement("h2",null,""),f.createElement("p",null," ")),f.createElement("div",{className:"section"},f.createElement("h2",null,""),f.createElement("p",null,":"),f.createElement("ul",null,f.createElement("li",null,""),f.createElement("li",null,""),f.createElement("li",null,""),f.createElement("li",null,""))),f.createElement("div",{className:"section"},f.createElement("h2",null,""),f.createElement("p",null,"  privacy@company.com"))):f.createElement(f.Fragment,null,f.createElement("div",{className:"section"},f.createElement("h2",null,"Introduction"),f.createElement("p",null,"We care about your privacy. This policy explains how we collect, use, and protect your personal information.")),f.createElement("div",{className:"section"},f.createElement("h2",null,"Information We Collect"),f.createElement("p",null,"We collect the following information to provide our services:"),f.createElement("ul",null,f.createElement("li",null,"Personal Information: Name, email, phone number, address"),f.createElement("li",null,"Usage Data: How you use our website and services"),f.createElement("li",null,"Technical Data: IP address, browser type, operating system"),f.createElement("li",null,"Cookies and other tracking tools"))),f.createElement("div",{className:"section"},f.createElement("h2",null,"How We Use Your Data"),f.createElement("p",null,"We use your information to:"),f.createElement("ul",null,f.createElement("li",null,"Provide and maintain our services"),f.createElement("li",null,"Improve and develop our offerings"),f.createElement("li",null,"Send relevant updates and communications"),f.createElement("li",null,"Monitor security and prevent fraud"),f.createElement("li",null,"Comply with legal obligations"))),f.createElement("div",{className:"section"},f.createElement("h2",null,"Data Security"),f.createElement("p",null,"We implement multiple layers of security measures to protect your information, including encryption, secure servers, and access controls.")),f.createElement("div",{className:"section"},f.createElement("h2",null,"Data Sharing"),f.createElement("p",null,"We will not share your personal information with third parties without your consent, except as required by law.")),f.createElement("div",{className:"section"},f.createElement("h2",null,"Your Rights"),f.createElement("p",null,"You have the right to:"),f.createElement("ul",null,f.createElement("li",null,"Access your personal information"),f.createElement("li",null,"Correct inaccurate data"),f.createElement("li",null,"Delete your information"),f.createElement("li",null,"Opt-out of marketing communications"))),f.createElement("div",{className:"section"},f.createElement("h2",null,"Contact Us"),f.createElement("p",null,"If you have questions about this policy, please contact us at 5dayzy67@gmail.com")))),f.createElement("div",{className:"privacy-footer"},f.createElement("p",null," 2025 DayZy. All rights reserved. | Last updated: December 31, 2025")))}function oM(){const[t,e]=v.useState("th"),n=pn();return f.createElement("div",{className:"terms-container"},f.createElement("div",{className:"terms-header"},f.createElement("h1",null,t==="th"?"":"Terms of Service"),f.createElement("p",null,t==="th"?"":"Please read our terms of service carefully")),f.createElement("div",{className:"terms-content"},f.createElement("div",{className:"lang-toggle"},f.createElement("button",{className:t==="th"?"active":"",onClick:()=>e("th")},""),f.createElement("button",{className:t==="en"?"active":"",onClick:()=>e("en")},"English")),f.createElement("button",{className:"back-button",onClick:()=>n("/about")}," ",t==="th"?"":"Back"),t==="th"?f.createElement(f.Fragment,null,f.createElement("div",{className:"section"},f.createElement("h2",null,"1. "),f.createElement("p",null,"    ")),f.createElement("div",{className:"section"},f.createElement("h2",null,"2. "),f.createElement("p",null,"      DayZy ")),f.createElement("div",{className:"section"},f.createElement("h2",null,"3. "),f.createElement("p",null," :"),f.createElement("ul",null,f.createElement("li",null,"  "),f.createElement("li",null,""),f.createElement("li",null,""),f.createElement("li",null,""),f.createElement("li",null,""))),f.createElement("div",{className:"section"},f.createElement("h2",null,"4. "),f.createElement("p",null,"  ")),f.createElement("div",{className:"section"},f.createElement("h2",null,"5. "),f.createElement("p",null,"    ")),f.createElement("div",{className:"section"},f.createElement("h2",null,"6. "),f.createElement("p",null,"   ")),f.createElement("div",{className:"section"},f.createElement("h2",null,"7. "),f.createElement("p",null," ")),f.createElement("div",{className:"section"},f.createElement("h2",null,"8. "),f.createElement("p",null," ")),f.createElement("div",{className:"section"},f.createElement("h2",null,"9. "),f.createElement("p",null,"  support@dayzy.com"))):f.createElement(f.Fragment,null,f.createElement("div",{className:"section"},f.createElement("h2",null,"1. Acceptance of Terms"),f.createElement("p",null,"By using our service, you agree to be bound by these terms of service. If you do not agree to any of these terms, please stop using our service.")),f.createElement("div",{className:"section"},f.createElement("h2",null,"2. Intellectual Property Rights"),f.createElement("p",null,"All content on our platform, including text, graphics, logos, and images, are the property of DayZy and protected by copyright law.")),f.createElement("div",{className:"section"},f.createElement("h2",null,"3. Permitted Use"),f.createElement("p",null,"You are only permitted to use our service for personal and non-commercial purposes. You are not allowed to:"),f.createElement("ul",null,f.createElement("li",null,"Copy, modify, or create derivatives of our service"),f.createElement("li",null,"Sell or offer the service for profit"),f.createElement("li",null,"Use the service in illegal ways or to harm the system"),f.createElement("li",null,"Send harmful or malicious content"),f.createElement("li",null,"Collect data or content without authorization"))),f.createElement("div",{className:"section"},f.createElement("h2",null,"4. User Accounts"),f.createElement("p",null,"You must create an account to use our service. You are responsible for keeping your password confidential and all activities under your account.")),f.createElement("div",{className:"section"},f.createElement("h2",null,"5. Limitation of Liability"),f.createElement("p",null,"Our service is provided as-is. We do not guarantee the accuracy or completeness of any content. We are not liable for any damages arising from your use of our service.")),f.createElement("div",{className:"section"},f.createElement("h2",null,"6. Service Modifications"),f.createElement("p",null,"We reserve the right to modify, improve, or discontinue our service at any time, with or without notice.")),f.createElement("div",{className:"section"},f.createElement("h2",null,"7. Termination of Service"),f.createElement("p",null,"We reserve the right to suspend or terminate your account if you violate these terms or engage in inappropriate activities.")),f.createElement("div",{className:"section"},f.createElement("h2",null,"8. Governing Law"),f.createElement("p",null,"These terms are governed by the laws of Thailand and you agree to submit to the jurisdiction of Thai courts.")),f.createElement("div",{className:"section"},f.createElement("h2",null,"9. Contact Us"),f.createElement("p",null,"If you have questions about these terms, please contact us at 5dayzy67@gmail.com")))),f.createElement("div",{className:"terms-footer"},f.createElement("p",null," 2025 DayZy. All rights reserved. | Last updated: December 31, 2025")))}function PSe({user:t,theme:e}){const n=pn(),[r,i]=v.useState("users"),[a,o]=v.useState([]),[s,l]=v.useState([]),[c,u]=v.useState(!1),[d,h]=v.useState(""),[m,g]=v.useState(""),[y,E]=v.useState(null),[b,w]=v.useState(null),[T,A]=v.useState(""),[P,k]=v.useState(""),[S,x]=v.useState(!1),[I,D]=v.useState(!0);v.useEffect(()=>{S&&(r==="users"?R():r==="support"&&O())},[r,S]);const R=async()=>{u(!0);try{const z=Mi(An(Ee,"users")),pe=(await qs(z)).docs.map(Me=>({id:Me.id,...Me.data()}));o(pe),console.log(" Users fetched:",pe.length)}catch(z){console.error("Error fetching users:",z),h(` Error: ${z.message}`)}finally{u(!1)}},O=async()=>{u(!0);try{const z=Mi(An(Ee,"support_tickets")),pe=(await qs(z)).docs.map(Me=>({id:Me.id,...Me.data()}));l(pe),console.log(" Tickets fetched:",pe.length)}catch(z){console.error("Error fetching tickets:",z),h(` Error: ${z.message}`)}finally{u(!1)}},N=async z=>{if(window.confirm(" Are you sure? This action cannot be undone."))try{await jo(Ie(Ee,"users",z)),o(a.filter(re=>re.id!==z)),h(" User deleted successfully"),setTimeout(()=>h(""),3e3)}catch(re){console.error("Error deleting user:",re),h(` Error: ${re.message}`)}},Q=async z=>{if(window.confirm(" Delete this support ticket?"))try{await jo(Ie(Ee,"support_tickets",z)),l(s.filter(re=>re.id!==z)),w(null),h(" Ticket deleted successfully"),setTimeout(()=>h(""),3e3)}catch(re){console.error("Error deleting ticket:",re),h(` Error: ${re.message}`)}},oe=async(z,re)=>{try{await _n(Ie(Ee,"support_tickets",z),{status:re}),l(s.map(pe=>pe.id===z?{...pe,status:re}:pe)),(b==null?void 0:b.id)===z&&w({...b,status:re}),h(" Ticket status updated"),setTimeout(()=>h(""),3e3)}catch(pe){console.error("Error updating ticket:",pe),h(` Error: ${pe.message}`)}},he=async(z,re)=>{if(!T.trim()){h(" Please enter a reply message");return}try{const pe=b.replies||[];pe.push({from:"admin",message:T,timestamp:new Date}),await _n(Ie(Ee,"support_tickets",z),{replies:pe,lastReply:new Date});const Me={...b,replies:pe};w(Me),l(s.map(te=>te.id===z?Me:te)),A(""),h(" Reply sent successfully!"),setTimeout(()=>h(""),3e3)}catch(pe){console.error("Error sending reply:",pe),h(` Error: ${pe.message}`)}},Z=async z=>{try{const re=Ie(Ee,"users",z.id);await _n(re,{displayName:z.displayName,phoneNumber:z.phoneNumber,updatedAt:new Date}),o(a.map(pe=>pe.id===z.id?z:pe)),E(null),h(" User updated successfully"),setTimeout(()=>h(""),3e3)}catch(re){console.error("Error updating user:",re),h(` Error: ${re.message}`)}},W=async z=>{if(window.confirm(`Send password reset email to ${z}?`))try{await pj(Xn,z),h(` Reset email sent to ${z}`),setTimeout(()=>h(""),3e3)}catch(re){console.error("Error sending reset email:",re),h(` Error: ${re.message}`)}},q=z=>{z.preventDefault(),P==="Tupfa@2010"?(x(!0),D(!1),h(" Admin access granted!"),setTimeout(()=>h(""),3e3)):(h(" Wrong password!"),k(""),setTimeout(()=>h(""),3e3))},ne=a.filter(z=>{var re,pe;return((re=z.displayName)==null?void 0:re.toLowerCase().includes(m.toLowerCase()))||((pe=z.email)==null?void 0:pe.toLowerCase().includes(m.toLowerCase()))}),we=s.filter(z=>{var re,pe;return((re=z.subject)==null?void 0:re.toLowerCase().includes(m.toLowerCase()))||((pe=z.userEmail)==null?void 0:pe.toLowerCase().includes(m.toLowerCase()))});return I?f.createElement("div",{className:`admin-container ${e==="dark"?"dark-mode":"light-mode"}`},f.createElement("div",{className:"modal-overlay"},f.createElement("div",{className:"modal password-modal"},f.createElement("h2",null," Admin Verification Required"),f.createElement("p",null,"Enter admin password to access all management features"),d&&f.createElement("div",{className:`message ${d.includes("")?"success":"error"}`},d),f.createElement("form",{onSubmit:q},f.createElement("div",{className:"form-group"},f.createElement("label",null,"Admin Password"),f.createElement("input",{type:"password",value:P,onChange:z=>k(z.target.value),placeholder:"Enter password",className:"form-input",autoFocus:!0})),f.createElement("div",{className:"modal-actions"},f.createElement("button",{type:"submit",className:"btn-primary"}," Verify Admin Access"),f.createElement("button",{type:"button",className:"btn-secondary",onClick:()=>n("/dashboard")},"Back to Dashboard")))))):f.createElement("div",{className:`admin-container ${e==="dark"?"dark-mode":"light-mode"}`},f.createElement("header",{className:"admin-header"},f.createElement("button",{className:"back-btn",onClick:()=>n("/dashboard")}," Back"),f.createElement("h1",null," Admin Management System"),f.createElement("div",{className:"admin-info"},f.createElement("span",null," Verified Admin"))),f.createElement("main",{className:"admin-content"},f.createElement("div",{className:"tabs"},f.createElement("button",{className:`tab ${r==="users"?"active":""}`,onClick:()=>i("users")}," Users (",a.length,")"),f.createElement("button",{className:`tab ${r==="support"?"active":""}`,onClick:()=>i("support")}," Support (",s.length,")"),f.createElement("button",{className:`tab ${r==="settings"?"active":""}`,onClick:()=>i("settings")}," Settings")),d&&f.createElement("div",{className:`message ${d.includes("")?"success":"error"}`},d),r==="users"&&f.createElement("div",{className:"tab-content"},f.createElement("div",{className:"search-box"},f.createElement("input",{type:"text",placeholder:" Search by name or email...",value:m,onChange:z=>g(z.target.value),className:"search-input"})),c?f.createElement("div",{className:"loading"}," Loading users..."):ne.length===0?f.createElement("div",{className:"empty"},"No users found"):f.createElement("div",{className:"users-cards"},ne.map(z=>f.createElement("div",{key:z.id,className:"user-card"},f.createElement("div",{className:"card-header"},f.createElement("h3",null,z.displayName||"N/A"),f.createElement("div",{className:"card-actions"},f.createElement("button",{className:"btn-edit",onClick:()=>E(z),title:"Edit"},""),f.createElement("button",{className:"btn-reset",onClick:()=>W(z.email),title:"Reset Password"},""),f.createElement("button",{className:"btn-delete",onClick:()=>N(z.id),title:"Delete"},""))),f.createElement("div",{className:"card-body"},f.createElement("div",{className:"info-row"},f.createElement("span",{className:"label"},"User ID:"),f.createElement("span",{className:"value"},z.id)),f.createElement("div",{className:"info-row"},f.createElement("span",{className:"label"},"Email:"),f.createElement("span",{className:"value"},z.email||"N/A")),f.createElement("div",{className:"info-row"},f.createElement("span",{className:"label"},"Phone:"),f.createElement("span",{className:"value"},z.phoneNumber||"N/A")),f.createElement("div",{className:"info-row"},f.createElement("span",{className:"label"},"Display Name:"),f.createElement("span",{className:"value"},z.displayName||"N/A")),f.createElement("div",{className:"info-row"},f.createElement("span",{className:"label"},"Created:"),f.createElement("span",{className:"value"},z.createdAt?new Date(z.createdAt).toLocaleDateString():"N/A"))))))),r==="support"&&f.createElement("div",{className:"tab-content"},f.createElement("div",{className:"search-box"},f.createElement("input",{type:"text",placeholder:" Search by subject or email...",value:m,onChange:z=>g(z.target.value),className:"search-input"})),c?f.createElement("div",{className:"loading"}," Loading tickets..."):we.length===0?f.createElement("div",{className:"empty"},"No support tickets found"):f.createElement("div",{className:"tickets-list"},we.map(z=>f.createElement("div",{key:z.id,className:"ticket-card"},f.createElement("div",{className:"ticket-header"},f.createElement("div",{className:"ticket-title"},f.createElement("h3",null,z.subject),f.createElement("span",{className:`badge ${z.status}`},z.status)),f.createElement("div",{className:"ticket-header-actions"},f.createElement("button",{className:"btn-view",onClick:()=>w(z),title:"View Details"},""),f.createElement("button",{className:"btn-delete",onClick:()=>Q(z.id),title:"Delete"},""))),f.createElement("div",{className:"ticket-body"},f.createElement("div",{className:"info-row"},f.createElement("span",{className:"label"},"From:"),f.createElement("span",{className:"value"},z.userEmail)),f.createElement("div",{className:"info-row"},f.createElement("span",{className:"label"},"Category:"),f.createElement("span",{className:"value"},z.category)),f.createElement("div",{className:"info-row"},f.createElement("span",{className:"label"},"Date:"),f.createElement("span",{className:"value"},z.createdAt?new Date(z.createdAt.seconds*1e3).toLocaleDateString():"N/A")),f.createElement("div",{className:"message-box"},f.createElement("p",null,z.message)),f.createElement("div",{className:"ticket-actions"},f.createElement("select",{value:z.status,onChange:re=>oe(z.id,re.target.value),className:"status-select"},f.createElement("option",{value:"open"},"Open"),f.createElement("option",{value:"in-progress"},"In Progress"),f.createElement("option",{value:"resolved"},"Resolved"),f.createElement("option",{value:"closed"},"Closed")))))))),r==="settings"&&f.createElement("div",{className:"tab-content settings-content"},f.createElement("div",{className:"setting-card"},f.createElement("h3",null," System Statistics"),f.createElement("div",{className:"stats-grid"},f.createElement("div",{className:"stat"},f.createElement("span",{className:"stat-label"},"Total Users"),f.createElement("span",{className:"stat-value"},a.length)),f.createElement("div",{className:"stat"},f.createElement("span",{className:"stat-label"},"Support Tickets"),f.createElement("span",{className:"stat-value"},s.length)),f.createElement("div",{className:"stat"},f.createElement("span",{className:"stat-label"},"Open Tickets"),f.createElement("span",{className:"stat-value"},s.filter(z=>z.status==="open").length)),f.createElement("div",{className:"stat"},f.createElement("span",{className:"stat-label"},"Last Updated"),f.createElement("span",{className:"stat-value"},new Date().toLocaleDateString())))),f.createElement("div",{className:"setting-card"},f.createElement("h3",null," Admin Actions"),f.createElement("button",{className:"btn-danger",onClick:()=>{window.confirm("Are you sure?")&&(h(" Refreshing data..."),R(),O())}}," Refresh All Data")))),b&&f.createElement("div",{className:"modal-overlay",onClick:()=>w(null)},f.createElement("div",{className:"modal ticket-modal",onClick:z=>z.stopPropagation()},f.createElement("div",{className:"modal-header"},f.createElement("h2",null,b.subject),f.createElement("button",{className:"close-btn",onClick:()=>w(null)},"")),f.createElement("div",{className:"modal-body"},f.createElement("div",{className:"ticket-details"},f.createElement("div",{className:"detail-row"},f.createElement("span",{className:"label"},"From:"),f.createElement("span",{className:"value"},b.userEmail)),f.createElement("div",{className:"detail-row"},f.createElement("span",{className:"label"},"Category:"),f.createElement("span",{className:"value"},b.category)),f.createElement("div",{className:"detail-row"},f.createElement("span",{className:"label"},"Status:"),f.createElement("select",{value:b.status,onChange:z=>oe(b.id,z.target.value),className:"status-select"},f.createElement("option",{value:"open"},"Open"),f.createElement("option",{value:"in-progress"},"In Progress"),f.createElement("option",{value:"resolved"},"Resolved"),f.createElement("option",{value:"closed"},"Closed"))),f.createElement("div",{className:"detail-row"},f.createElement("span",{className:"label"},"Date:"),f.createElement("span",{className:"value"},b.createdAt?new Date(b.createdAt.seconds*1e3).toLocaleString():"N/A"))),f.createElement("div",{className:"conversation"},f.createElement("div",{className:"message user-message"},f.createElement("div",{className:"message-header"},f.createElement("strong",null,"User Message")),f.createElement("p",null,b.message)),b.replies&&b.replies.length>0&&f.createElement("div",{className:"replies"},b.replies.map((z,re)=>f.createElement("div",{key:re,className:`message ${z.from}-message`},f.createElement("div",{className:"message-header"},f.createElement("strong",null,z.from==="admin"?"Admin Reply":"User Reply"),f.createElement("span",{className:"message-time"},z.timestamp?new Date(z.timestamp.seconds*1e3).toLocaleString():"")),f.createElement("p",null,z.message))))),f.createElement("div",{className:"reply-form"},f.createElement("textarea",{value:T,onChange:z=>A(z.target.value),placeholder:"Type your reply here...",className:"reply-textarea",rows:"4"}))),f.createElement("div",{className:"modal-actions"},f.createElement("button",{className:"btn-primary",onClick:()=>he(b.id,b.userEmail)}," Send Reply"),f.createElement("button",{className:"btn-secondary",onClick:()=>w(null)},"Close")))),y&&f.createElement("div",{className:"modal-overlay",onClick:()=>E(null)},f.createElement("div",{className:"modal",onClick:z=>z.stopPropagation()},f.createElement("h2",null,"Edit User"),f.createElement("div",{className:"modal-form"},f.createElement("div",{className:"form-group"},f.createElement("label",null,"Display Name"),f.createElement("input",{type:"text",value:y.displayName||"",onChange:z=>E({...y,displayName:z.target.value}),className:"form-input"})),f.createElement("div",{className:"form-group"},f.createElement("label",null,"Phone Number"),f.createElement("input",{type:"tel",value:y.phoneNumber||"",onChange:z=>E({...y,phoneNumber:z.target.value}),className:"form-input"})),f.createElement("div",{className:"form-group"},f.createElement("label",null,"Email (Read-only)"),f.createElement("input",{type:"email",value:y.email||"",disabled:!0,className:"form-input disabled"}))),f.createElement("div",{className:"modal-actions"},f.createElement("button",{className:"btn-primary",onClick:()=>Z(y)},"Save Changes"),f.createElement("button",{className:"btn-secondary",onClick:()=>E(null)},"Cancel")))))}function RSe({user:t,theme:e}){const n=pn(),[r,i]=v.useState([]),[a,o]=v.useState(!0),[s,l]=v.useState(""),[c,u]=v.useState(!1),[d,h]=v.useState(null),[m,g]=v.useState({title:"",description:"",dueDate:"",priority:"medium",status:"pending",category:"work"});v.useEffect(()=>{y()},[t==null?void 0:t.uid]);const y=v.useCallback(async()=>{if(t!=null&&t.uid){o(!0);try{const S=Mi(An(Ee,"plans"),Co("userId","==",t.uid)),I=(await qs(S)).docs.map(D=>({id:D.id,...D.data()}));i(I.sort((D,R)=>new Date(R.createdAt)-new Date(D.createdAt)))}catch(S){console.error("Error fetching plans:",S),l(` Error: ${S.message}`)}finally{o(!1)}}},[t==null?void 0:t.uid]),E=v.useCallback(async S=>{if(S.preventDefault(),!m.title.trim()){l(" Title is required");return}o(!0);try{await YF(An(Ee,"plans"),{...m,userId:t.uid,createdAt:new Date,updatedAt:new Date}),l(" Plan created successfully"),A(),y(),setTimeout(()=>l(""),3e3)}catch(x){console.error("Error creating plan:",x),l(` Error: ${x.message}`)}finally{o(!1)}},[m,t==null?void 0:t.uid,y]),b=v.useCallback(async S=>{if(S.preventDefault(),!m.title.trim()){l(" Title is required");return}o(!0);try{await _n(Ie(Ee,"plans",d.id),{...m,updatedAt:new Date}),l(" Plan updated successfully"),A(),y(),setTimeout(()=>l(""),3e3)}catch(x){console.error("Error updating plan:",x),l(` Error: ${x.message}`)}finally{o(!1)}},[m,d,y]),w=v.useCallback(async S=>{if(window.confirm(" Are you sure?"))try{await jo(Ie(Ee,"plans",S)),i(r.filter(x=>x.id!==S)),l(" Plan deleted"),setTimeout(()=>l(""),3e3)}catch(x){console.error("Error deleting plan:",x),l(` Error: ${x.message}`)}},[r]),T=v.useCallback(S=>{h(S),g({title:S.title,description:S.description||"",dueDate:S.dueDate||"",priority:S.priority||"medium",status:S.status||"pending",category:S.category||"work"}),u(!0)},[]),A=()=>{g({title:"",description:"",dueDate:"",priority:"medium",status:"pending",category:"work"}),h(null),u(!1)},P=S=>({pending:"#fbbf24",in_progress:"#60a5fa",completed:"#10b981",cancelled:"#ef4444"})[S]||"#667eea",k=S=>({low:"#10b981",medium:"#fbbf24",high:"#ef4444"})[S]||"#667eea";return t?f.createElement("div",{className:`page-container ${e==="dark"?"dark-mode":"light-mode"}`},f.createElement("header",{className:"page-header"},f.createElement("button",{className:"back-btn",onClick:()=>n("/dashboard")}," Back"),f.createElement("h1",null," Plans"),f.createElement("button",{className:"btn-add",onClick:()=>u(!c)},c?"":"+ New")),f.createElement("main",{className:"page-content"},s&&f.createElement("div",{className:`message ${s.includes("")?"success":"error"}`},s),c&&f.createElement("div",{className:"plan-form-container"},f.createElement("form",{onSubmit:d?b:E},f.createElement("h2",null,d?" Edit":" New Plan"),f.createElement("input",{type:"text",placeholder:"Title *",value:m.title,onChange:S=>g({...m,title:S.target.value}),className:"form-input",required:!0,disabled:a}),f.createElement("textarea",{placeholder:"Description",value:m.description,onChange:S=>g({...m,description:S.target.value}),className:"form-input",rows:"3",disabled:a}),f.createElement("div",{className:"form-row"},f.createElement("input",{type:"date",value:m.dueDate,onChange:S=>g({...m,dueDate:S.target.value}),className:"form-input",disabled:a}),f.createElement("select",{value:m.category,onChange:S=>g({...m,category:S.target.value}),className:"form-input",disabled:a},f.createElement("option",{value:"work"},"Work"),f.createElement("option",{value:"personal"},"Personal"),f.createElement("option",{value:"health"},"Health"),f.createElement("option",{value:"education"},"Education"))),f.createElement("div",{className:"form-row"},f.createElement("select",{value:m.priority,onChange:S=>g({...m,priority:S.target.value}),className:"form-input",disabled:a},f.createElement("option",{value:"low"},"Low"),f.createElement("option",{value:"medium"},"Medium"),f.createElement("option",{value:"high"},"High")),f.createElement("select",{value:m.status,onChange:S=>g({...m,status:S.target.value}),className:"form-input",disabled:a},f.createElement("option",{value:"pending"},"Pending"),f.createElement("option",{value:"in_progress"},"In Progress"),f.createElement("option",{value:"completed"},"Completed"),f.createElement("option",{value:"cancelled"},"Cancelled"))),f.createElement("button",{type:"submit",className:"btn-primary",disabled:a},a?"":"Save"))),a&&!c?f.createElement("div",{className:"loading"}," Loading..."):r.length===0?f.createElement("div",{className:"empty"},f.createElement("p",null," No plans yet")):f.createElement("div",{className:"plans-grid"},r.map(S=>f.createElement("div",{key:S.id,className:"plan-card"},f.createElement("div",{className:"plan-header"},f.createElement("h3",null,S.title),f.createElement("div",{className:"plan-badges"},f.createElement("span",{className:"badge",style:{backgroundColor:P(S.status)}},S.status.replace("_"," ")),f.createElement("span",{className:"badge",style:{backgroundColor:k(S.priority)}},S.priority))),S.description&&f.createElement("p",{className:"description"},S.description),f.createElement("div",{className:"plan-meta"},S.category&&f.createElement("span",null," ",S.category),S.dueDate&&f.createElement("span",null," ",new Date(S.dueDate).toLocaleDateString())),f.createElement("div",{className:"plan-actions"},f.createElement("button",{className:"btn-edit",onClick:()=>T(S)},""),f.createElement("button",{className:"btn-delete",onClick:()=>w(S.id)},""))))))):f.createElement("div",{className:"page-container"},f.createElement("p",null,"Loading..."))}const Ql=MF(),DSe=Cj(),ar={async get(t){try{const e=An(Ql,"users",t,"notes"),n=await qs(e),r=[];return n.forEach(i=>r.push({id:i.id,...i.data()})),r.sort((i,a)=>new Date(a.updatedAt)-new Date(i.updatedAt))}catch(e){return console.error("Load error:",e),[]}},async set(t,e){try{for(const n of e){const r=Ie(Ql,"users",t,"notes",n.id);await Fi(r,{title:n.title,pages:n.pages,textObjects:n.textObjects,createdAt:n.createdAt,updatedAt:n.updatedAt,shareCode:n.shareCode||null},{merge:!0})}return{success:!0}}catch(n){return console.error("Save error:",n),{success:!1}}},async updateSharedNote(t,e){try{const n=Ie(Ql,"shares",t);return await Fi(n,{...e,code:t},{merge:!0}),{success:!0}}catch(n){return console.error("Update shared error:",n),{success:!1}}},async getShared(t){try{const e=Ie(Ql,"shares",t),n=await Xc(e);return n.exists()?n.data():null}catch(e){return console.error("Load shared error:",e),null}}},OSe=({shareCode:t,onBack:e})=>{const[n,r]=v.useState(null),[i,a]=v.useState(!0),o=v.useRef(null),[s,l]=v.useState([]),[c,u]=v.useState([]),[d,h]=v.useState(0),[m,g]=v.useState("#000000"),[y,E]=v.useState(3),[b,w]=v.useState("draw"),[T,A]=v.useState(!1),[P,k]=v.useState(16),[S,x]=v.useState(""),[I,D]=v.useState(null),[R,O]=v.useState(null),[N,Q]=v.useState(null),[oe,he]=v.useState({width:700,height:900}),Z={bg:"#f3f0ff",sidebar:"#ffffff",text:"#5a4a9e",border:"#e9d5ff",hover:"#f3e8ff",input:"#faf5ff",primary:"#8b5cf6"};v.useEffect(()=>{const j=async()=>{const ae=await ar.getShared(t);ae&&(r(ae),l(ae.pages||[{imageData:null}]),u(ae.textObjects||[])),a(!1)};j();const ee=setInterval(j,2e3);return()=>clearInterval(ee)},[t]),v.useEffect(()=>{W()},[d,s,c]);const W=()=>{const j=o.current;if(!j)return;const ee=j.getContext("2d"),ae=s[d];if(ae!=null&&ae.imageData){const Re=new Image;Re.onload=()=>{ee.drawImage(Re,0,0),q()},Re.src=ae.imageData}else ee.fillStyle="#ffffff",ee.fillRect(0,0,j.width,j.height),q()},q=j=>{},ne=j=>{const ee=document.createElement("div");ee.textContent=j,ee.style.cssText="position:fixed;top:20px;right:20px;background:#51cf66;color:white;padding:12px 24px;border-radius:8px;font-weight:600;z-index:9999",document.body.appendChild(ee),setTimeout(()=>ee.remove(),3e3)},we=j=>{if(!["draw","erase"].includes(b)||!o.current)return;A(!0);const ee=o.current.getContext("2d"),ae=o.current.getBoundingClientRect();ee.beginPath(),ee.moveTo(j.clientX-ae.left,j.clientY-ae.top)},z=j=>{if(!T||!o.current)return;const ee=o.current,ae=ee.getContext("2d"),Re=ee.getBoundingClientRect(),gt=j.clientX-Re.left,an=j.clientY-Re.top;b==="erase"?ae.clearRect(gt-y,an-y,y*2,y*2):b==="draw"&&(ae.lineTo(gt,an),ae.strokeStyle=m,ae.lineWidth=y,ae.lineCap="round",ae.lineJoin="round",ae.stroke())},re=async()=>{if(T&&(A(!1),o.current&&(n!=null&&n.code))){const j=o.current.toDataURL("image/png"),ee=[...s];ee[d]={imageData:j},l(ee),await ar.updateSharedNote(n.code,{pages:ee,textObjects:c,updatedAt:new Date().toISOString()}),ne("Saved!")}},pe=async()=>{if(!S.trim())return;const j=[...c,{id:`text_${Date.now()}`,text:S,x:50,y:50+c.length*30,fontSize:P,color:m,bold:!1,italic:!1}];u(j),x(""),n!=null&&n.code&&(await ar.updateSharedNote(n.code,{pages:s,textObjects:j,updatedAt:new Date().toISOString()}),ne("Text added!"))},Me=(j,ee)=>{const ae=c.map(Re=>Re.id===j?{...Re,...ee}:Re);u(ae)},te=async j=>{const ee=c.filter(ae=>ae.id!==j);u(ee),n!=null&&n.code&&await ar.updateSharedNote(n.code,{pages:s,textObjects:ee,updatedAt:new Date().toISOString()})},Oe=(j,ee)=>{b==="text"&&(j.preventDefault(),j.stopPropagation(),D(ee),O({id:ee,startX:j.clientX,startY:j.clientY}))},qn=(j,ee)=>{var ae;j.preventDefault(),j.stopPropagation(),Q({id:ee,startX:j.clientX,startY:j.clientY,startSize:((ae=c.find(Re=>Re.id===ee))==null?void 0:ae.fontSize)||16})},H=j=>{if(R&&b==="text"){const ee=c.find(ae=>ae.id===R.id);if(ee){const ae=j.clientX-R.startX,Re=j.clientY-R.startY;Me(ee.id,{x:ee.x+ae,y:ee.y+Re}),O({...R,startX:j.clientX,startY:j.clientY})}}if(N&&b==="text"){const ee=c.find(ae=>ae.id===N.id);if(ee){const ae=j.clientX-N.startX,Re=Math.max(8,Math.min(100,N.startSize+ae/5));Me(ee.id,{fontSize:Math.round(Re)})}}},be=async()=>{O(null),Q(null),n!=null&&n.code&&await ar.updateSharedNote(n.code,{pages:s,textObjects:c,updatedAt:new Date().toISOString()})},Ae=()=>{if(!o.current)return;const j=document.createElement("a");j.href=o.current.toDataURL("image/png"),j.download=`${n.title}_p${d+1}.png`,j.click(),ne("PNG exported!")};return i?f.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",color:"#5a4a9e"}}," Loading..."):n?f.createElement("div",{style:{display:"flex",height:"100vh",background:Z.bg,fontFamily:"'Segoe UI', sans-serif",overflow:"hidden"}},f.createElement("div",{style:{width:"280px",background:Z.sidebar,borderRight:`2px solid ${Z.border}`,display:"flex",flexDirection:"column"}},f.createElement("div",{style:{padding:"16px",borderBottom:`2px solid ${Z.border}`,background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"}},f.createElement("h2",{style:{fontSize:"18px",fontWeight:"700",color:"#ffffff",margin:0}}," Shared Note"),f.createElement("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.8)",margin:"4px 0 0 0"}},n.title)),f.createElement("button",{onClick:e,style:{margin:"12px",padding:"8px",border:"none",borderRadius:"4px",background:"#ef4444",color:"white",cursor:"pointer",fontSize:"11px",fontWeight:"600"}}," Back")),f.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"}},f.createElement("div",{style:{background:"linear-gradient(135deg, #f3e8ff 0%, #faf5ff 100%)",borderBottom:`1px solid ${Z.border}`,padding:"10px",display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"}},f.createElement("h3",{style:{margin:"0",flex:1,fontSize:"12px",fontWeight:"600",color:Z.text}},"Edit Mode"),f.createElement("select",{value:b,onChange:j=>w(j.target.value),style:{padding:"5px 8px",border:`1px solid ${Z.border}`,borderRadius:"4px",fontSize:"11px",outline:"none",cursor:"pointer",background:Z.input,color:Z.text}},f.createElement("option",{value:"draw"}," Draw"),f.createElement("option",{value:"erase"}," Erase"),f.createElement("option",{value:"text"}," Text")),f.createElement("input",{type:"color",value:m,onChange:j=>g(j.target.value),style:{width:"30px",height:"30px",border:`1px solid ${Z.primary}`,borderRadius:"4px",cursor:"pointer"}}),f.createElement("input",{type:"range",min:"1",max:"20",value:y,onChange:j=>E(Number(j.target.value)),style:{width:"60px"}})),f.createElement("div",{style:{background:"#f3e8ff",borderBottom:`1px solid ${Z.border}`,padding:"6px 10px",display:"flex",gap:"4px",alignItems:"center",overflowX:"auto"}},s.map((j,ee)=>f.createElement("button",{key:ee,onClick:()=>h(ee),style:{padding:"4px 10px",border:d===ee?`2px solid ${Z.primary}`:`1px solid ${Z.border}`,borderRadius:"4px",cursor:"pointer",fontSize:"10px",fontWeight:"600",background:d===ee?Z.primary:Z.hover,color:d===ee?"white":Z.text}},"P",ee+1))),f.createElement("div",{style:{background:"#f3e8ff",borderBottom:`1px solid ${Z.border}`,padding:"6px 10px",display:"flex",gap:"4px"}},f.createElement("button",{onClick:Ae,style:{padding:"4px 8px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px",fontWeight:"600",background:"#f59e0b",color:"white"}}," PNG")),b==="text"&&f.createElement("div",{style:{background:"#f3e8ff",borderBottom:`1px solid ${Z.border}`,padding:"8px 10px",display:"flex",gap:"6px"}},f.createElement("input",{type:"text",value:S,onChange:j=>x(j.target.value),onKeyPress:j=>j.key==="Enter"&&pe(),style:{flex:1,padding:"6px 10px",border:`1px solid ${Z.border}`,borderRadius:"4px",fontSize:"12px",outline:"none",background:Z.input,color:Z.text},placeholder:"Type text..."}),f.createElement("button",{onClick:pe,style:{padding:"6px 10px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px",fontWeight:"600",background:Z.primary,color:"white"}},"Add")),f.createElement("div",{style:{flex:1,background:"#f3f0ff",padding:"12px",display:"flex",justifyContent:"center",alignItems:"flex-start",overflowY:"auto",position:"relative"},onMouseMove:H,onMouseUp:be,onMouseLeave:be},f.createElement("div",{style:{position:"relative",display:"inline-block",marginTop:"12px"}},f.createElement("canvas",{ref:o,width:oe.width,height:oe.height,onMouseDown:we,onMouseMove:z,onMouseUp:re,onMouseLeave:re,style:{border:`1px solid ${Z.border}`,borderRadius:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",backgroundColor:"#ffffff",cursor:b==="draw"?"crosshair":"text",display:"block"}}),c.map(j=>f.createElement("div",{key:j.id,onMouseDown:ee=>Oe(ee,j.id),onClick:()=>D(j.id),style:{position:"absolute",left:`${j.x}px`,top:`${j.y+12}px`,fontSize:`${j.fontSize}px`,color:j.color,cursor:"move",userSelect:"none",padding:"3px 6px",border:I===j.id?`2px solid ${Z.primary}`:"1px solid transparent",borderRadius:"3px",background:I===j.id?"rgba(139, 92, 246, 0.1)":"transparent",fontWeight:j.bold?"bold":"normal",fontStyle:j.italic?"italic":"normal",whiteSpace:"nowrap"}},j.text,I===j.id&&b==="text"&&f.createElement(f.Fragment,null,f.createElement("div",{style:{position:"absolute",top:"-28px",left:0,display:"flex",gap:"2px",fontSize:"9px",background:Z.primary,padding:"3px",borderRadius:"3px"}},f.createElement("button",{onClick:ee=>{ee.stopPropagation(),Me(j.id,{bold:!j.bold})},style:{padding:"1px 3px",background:j.bold?"#fff":"rgba(255,255,255,0.3)",color:"white",border:"none",borderRadius:"2px",cursor:"pointer",fontWeight:"bold",fontSize:"9px"}},"B"),f.createElement("button",{onClick:ee=>{ee.stopPropagation(),Me(j.id,{italic:!j.italic})},style:{padding:"1px 3px",background:j.italic?"#fff":"rgba(255,255,255,0.3)",color:"white",border:"none",borderRadius:"2px",cursor:"pointer",fontStyle:"italic",fontSize:"9px"}},"I"),f.createElement("button",{onClick:ee=>{ee.stopPropagation(),te(j.id)},style:{padding:"1px 3px",background:"#ff6b6b",color:"white",border:"none",borderRadius:"2px",cursor:"pointer",fontSize:"9px"}},"")),f.createElement("div",{style:{position:"absolute",top:"-12px",right:"-40px",fontSize:"10px",background:Z.primary,color:"white",padding:"2px 6px",borderRadius:"3px",whiteSpace:"nowrap",fontWeight:"600"}},j.fontSize,"px"),f.createElement("div",{onMouseDown:ee=>qn(ee,j.id),style:{position:"absolute",bottom:"-6px",right:"-6px",width:"12px",height:"12px",background:Z.primary,border:"2px solid white",borderRadius:"50%",cursor:"ew-resize",boxShadow:"0 0 4px rgba(0,0,0,0.3)"}})))))))):f.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",color:"#ef4444",flexDirection:"column",gap:"20px"}},f.createElement("h2",null," Note not found"),f.createElement("button",{onClick:e,style:{padding:"10px 20px",border:"none",borderRadius:"4px",background:"#8b5cf6",color:"white",cursor:"pointer"}}," Back"))},NSe=({user:t,onLogout:e})=>{var du;const n=v.useRef(null),r=v.useRef({stack:[],index:-1}),[i,a]=v.useState([]),[o,s]=v.useState(null),[l,c]=v.useState("#000000"),[u,d]=v.useState(3),[h,m]=v.useState("draw"),[g,y]=v.useState(""),[E,b]=v.useState(!1),[w,T]=v.useState(16),[A,P]=v.useState([]),[k,S]=v.useState(0),[x,I]=v.useState([]),[D,R]=v.useState(null),[O,N]=v.useState(null),[Q,oe]=v.useState(null),[he,Z]=v.useState({width:700,height:900}),[W,q]=v.useState("synced"),[ne,we]=v.useState(!1),[z,re]=v.useState(""),[pe,Me]=v.useState(!1),te={bg:"#f3f0ff",sidebar:"#ffffff",text:"#5a4a9e",border:"#e9d5ff",hover:"#f3e8ff",input:"#faf5ff",primary:"#8b5cf6"};v.useEffect(()=>{be()},[]),v.useEffect(()=>{if(!o)return;const U=setInterval(()=>Ae(),5e3);return()=>clearInterval(U)},[o,A,x]),v.useEffect(()=>{if(!(o!=null&&o.shareCode)||E)return;const U=setInterval(async()=>{try{const K=await ar.getShared(o.shareCode);if(K){const _e=new Date(K.updatedAt).getTime(),ze=new Date(o.updatedAt).getTime();_e>ze+500&&(P(K.pages||[{imageData:null}]),I(K.textObjects||[]),s(Xr=>({...Xr,updatedAt:K.updatedAt})))}}catch(K){console.error("Polling error:",K)}},3e3);return()=>clearInterval(U)},[o==null?void 0:o.shareCode,E]),v.useEffect(()=>{E||Oe()},[k,A]);const Oe=()=>{const U=n.current;if(!U)return;const K=U.getContext("2d");if(!E){const _e=A[k];if(_e!=null&&_e.imageData){const ze=new Image;ze.onload=()=>{K.clearRect(0,0,U.width,U.height),K.drawImage(ze,0,0),qn(K)},ze.onerror=()=>{K.fillStyle="#ffffff",K.fillRect(0,0,U.width,U.height),qn(K)},ze.src=_e.imageData}else K.fillStyle="#ffffff",K.fillRect(0,0,U.width,U.height),qn(K)}},qn=U=>{x.forEach(K=>{U.save(),U.font=`${K.italic?"italic ":""}${K.bold?"bold ":""}${K.fontSize}px Arial`,U.fillStyle=K.color,U.fillText(K.text,K.x,K.y),U.restore()})},H=U=>{const K=document.createElement("div");K.textContent=U,K.style.cssText="position:fixed;top:20px;right:20px;background:#51cf66;color:white;padding:12px 24px;border-radius:8px;font-weight:600;z-index:9999",document.body.appendChild(K),setTimeout(()=>K.remove(),3e3)},be=async()=>{try{const U=await ar.get(t.uid);U&&Array.isArray(U)&&(a(U),U.length>0&&(s(U[0]),P(U[0].pages),I(U[0].textObjects)))}catch(U){console.warn("Load error:",U)}},Ae=async()=>{if(o)try{q("syncing");const U={...o,pages:A,textObjects:x,updatedAt:new Date().toISOString()},K=i.map(_e=>_e.id===U.id?U:_e);await ar.set(t.uid,K),a(K),s(U),U.shareCode&&await ar.updateSharedNote(U.shareCode,{pages:U.pages,textObjects:U.textObjects,updatedAt:U.updatedAt}),q("synced")}catch{q("error")}},j=async()=>{const U={id:`note_${Date.now()}`,title:`Note ${i.length+1}`,pages:[{imageData:null}],textObjects:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),userId:t.uid,shareCode:null},K=[U,...i];await ar.set(t.uid,K),a(K),s(U),P(U.pages),I([]),H("Note created!")},ee=async U=>{if(window.confirm("Delete note?"))try{const K=Ie(Ql,"users",t.uid,"notes",U);await jo(K);const _e=i.filter(ze=>ze.id!==U);a(_e),(o==null?void 0:o.id)===U&&s(_e[0]||null),H("Note deleted")}catch{H("Delete failed")}},ae=async(U,K)=>{const _e=i.map(ze=>ze.id===U?{...ze,...K}:ze);await ar.set(t.uid,_e),a(_e),(o==null?void 0:o.id)===U&&s(ze=>({...ze,...K}))},Re=U=>{if(!["draw","erase"].includes(h)||!n.current)return;b(!0);const K=n.current.getContext("2d"),_e=n.current.getBoundingClientRect();K.beginPath(),K.moveTo(U.clientX-_e.left,U.clientY-_e.top)},gt=U=>{if(!E||!n.current)return;const K=n.current,_e=K.getContext("2d"),ze=K.getBoundingClientRect(),Xr=U.clientX-ze.left,ns=U.clientY-ze.top;h==="erase"?_e.clearRect(Xr-u,ns-u,u*2,u*2):h==="draw"&&(_e.lineTo(Xr,ns),_e.strokeStyle=l,_e.lineWidth=u,_e.lineCap="round",_e.lineJoin="round",_e.stroke())},an=async()=>{if(E&&(b(!1),n.current)){const U=n.current.toDataURL("image/png"),K=[...A];if(K[k]={imageData:U},P(K),qi(K,x),o!=null&&o.shareCode)try{await ar.updateSharedNote(o.shareCode,{pages:K,textObjects:x,updatedAt:new Date().toISOString()})}catch(_e){console.error("Error saving to shared note:",_e)}}},qi=(U,K)=>{r.current.stack=r.current.stack.slice(0,r.current.index+1),r.current.stack.push({pages:JSON.parse(JSON.stringify(U)),textObjects:JSON.parse(JSON.stringify(K))}),r.current.index=Math.max(0,r.current.stack.length-1)},bl=()=>{if(r.current.index>0){r.current.index--;const U=r.current.stack[r.current.index];P(JSON.parse(JSON.stringify(U.pages))),I(JSON.parse(JSON.stringify(U.textObjects))),H("Undo!")}},ie=()=>{if(r.current.index<r.current.stack.length-1){r.current.index++;const U=r.current.stack[r.current.index];P(JSON.parse(JSON.stringify(U.pages))),I(JSON.parse(JSON.stringify(U.textObjects))),H("Redo!")}},xe=()=>r.current.stack.length>1&&r.current.index>0,Pe=()=>r.current.stack.length>0&&r.current.index<r.current.stack.length-1,Ze=()=>{if(!g.trim())return;const U=[...x,{id:`text_${Date.now()}`,text:g,x:50,y:50+x.length*30,fontSize:w,color:l,bold:!1,italic:!1}];I(U),qi(A,U),y(""),H("Text added")},lt=(U,K)=>{const _e=x.map(ze=>ze.id===U?{...ze,...K}:ze);I(_e)},Vt=U=>{const K=x.filter(_e=>_e.id!==U);I(K)},De=(U,K)=>{h==="text"&&(U.preventDefault(),U.stopPropagation(),R(K),N({id:K,startX:U.clientX,startY:U.clientY}))},Te=(U,K)=>{var _e;U.preventDefault(),U.stopPropagation(),oe({id:K,startX:U.clientX,startY:U.clientY,startSize:((_e=x.find(ze=>ze.id===K))==null?void 0:_e.fontSize)||16})},$a=U=>{if(O&&h==="text"){const K=x.find(_e=>_e.id===O.id);if(K){const _e=U.clientX-O.startX,ze=U.clientY-O.startY;lt(K.id,{x:K.x+_e,y:K.y+ze}),N({...O,startX:U.clientX,startY:U.clientY})}}if(Q&&h==="text"){const K=x.find(_e=>_e.id===Q.id);if(K){const _e=U.clientX-Q.startX,ze=Math.max(8,Math.min(100,Q.startSize+_e/5));lt(K.id,{fontSize:Math.round(ze)})}}},uu=async()=>{N(null),oe(null),o!=null&&o.shareCode&&await ar.updateSharedNote(o.shareCode,{pages:A,textObjects:x,updatedAt:new Date().toISOString()})},wh=async()=>{if(!o)return;const U=Math.random().toString(36).substring(2,8).toUpperCase(),K={code:U,noteId:o.id,ownerId:t.uid,ownerName:t.email,title:o.title,pages:o.pages,textObjects:o.textObjects,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{const _e=Ie(Ql,"shares",U);await Fi(_e,K);const ze={...o,shareCode:U},Xr=i.map(fu=>fu.id===ze.id?ze:fu);await ar.set(t.uid,Xr),a(Xr),s(ze);const ns=`${window.location.origin}/notes?share=${U}`;re(ns),Me(!0),H("Share link created!")}catch{H("Share failed")}},c0=()=>{navigator.clipboard.writeText(z),H("Link copied!")},ts=async()=>{if(window.confirm("Logout?"))try{await ZS(DSe),e()}catch{H("Logout failed")}};return f.createElement("div",{style:{display:"flex",height:"100vh",background:te.bg,fontFamily:"'Segoe UI', sans-serif",overflow:"hidden"}},f.createElement("div",{style:{width:"280px",background:te.sidebar,borderRight:`2px solid ${te.border}`,display:"flex",flexDirection:"column"}},f.createElement("div",{style:{padding:"16px",borderBottom:`2px solid ${te.border}`,background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"}},f.createElement("h2",{style:{fontSize:"18px",fontWeight:"700",color:"#ffffff",margin:0}}," Notes"),f.createElement("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.8)",margin:"4px 0 0 0"}},((du=t==null?void 0:t.email)==null?void 0:du.split("@")[0])||"User"),f.createElement("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.7)"}},W==="syncing"?" Saving...":W==="synced"?" Saved":" Error")),f.createElement("button",{onClick:j,style:{margin:"12px",padding:"10px",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"}},f.createElement(eb,{size:14})," New"),f.createElement("div",{style:{flex:1,overflowY:"auto",padding:"8px",display:"flex",flexDirection:"column",gap:"6px"}},i.map(U=>{var K;return f.createElement("div",{key:U.id,onClick:()=>{s(U),P(U.pages),I(U.textObjects)},style:{padding:"10px",background:(o==null?void 0:o.id)===U.id?te.primary:te.hover,borderRadius:"6px",cursor:"pointer",color:(o==null?void 0:o.id)===U.id?"white":te.text}},f.createElement("div",{style:{fontWeight:"600",fontSize:"12px"}},U.title),f.createElement("div",{style:{fontSize:"10px",opacity:.7}},((K=U.pages)==null?void 0:K.length)||1," pages ",U.shareCode&&""))})),f.createElement("button",{onClick:ts,style:{margin:"12px",padding:"8px",border:"none",borderRadius:"4px",background:"#ef4444",color:"white",cursor:"pointer",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"}},f.createElement(Z_e,{size:14})," Logout")),f.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"}},o?f.createElement(f.Fragment,null,f.createElement("div",{style:{background:"linear-gradient(135deg, #f3e8ff 0%, #faf5ff 100%)",borderBottom:`1px solid ${te.border}`,padding:"10px",display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"}},f.createElement("input",{type:"text",value:o.title,onChange:U=>ae(o.id,{title:U.target.value}),style:{padding:"6px 10px",border:`1px solid ${te.border}`,borderRadius:"4px",fontSize:"12px",fontWeight:"600",outline:"none",flex:1,minWidth:"120px",background:te.input,color:te.text}}),f.createElement("button",{onClick:bl,disabled:!xe(),style:{padding:"5px 8px",border:`1px solid ${te.border}`,borderRadius:"4px",cursor:"pointer",fontSize:"10px",fontWeight:"600",background:te.hover,color:te.text,opacity:xe()?1:.5}},f.createElement(aSe,{size:12})),f.createElement("button",{onClick:ie,disabled:!Pe(),style:{padding:"5px 8px",border:`1px solid ${te.border}`,borderRadius:"4px",cursor:"pointer",fontSize:"10px",fontWeight:"600",background:te.hover,color:te.text,opacity:Pe()?1:.5}},f.createElement(eSe,{size:12})),f.createElement("select",{value:h,onChange:U=>m(U.target.value),style:{padding:"5px 8px",border:`1px solid ${te.border}`,borderRadius:"4px",fontSize:"11px",outline:"none",cursor:"pointer",background:te.input,color:te.text}},f.createElement("option",{value:"draw"}," Draw"),f.createElement("option",{value:"erase"}," Erase"),f.createElement("option",{value:"text"}," Text")),f.createElement("input",{type:"color",value:l,onChange:U=>c(U.target.value),style:{width:"30px",height:"30px",border:`1px solid ${te.primary}`,borderRadius:"4px",cursor:"pointer"}}),f.createElement("input",{type:"range",min:"1",max:"20",value:u,onChange:U=>d(Number(U.target.value)),style:{width:"60px"}}),f.createElement("button",{onClick:()=>we(!ne),style:{padding:"5px 8px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px",fontWeight:"600",background:te.hover,color:te.text}},f.createElement(nSe,{size:12}))),ne&&f.createElement("div",{style:{background:"#f3e8ff",borderBottom:`1px solid ${te.border}`,padding:"10px",display:"flex",gap:"10px",alignItems:"center"}},f.createElement("div",null,f.createElement("label",{style:{fontSize:"10px",fontWeight:"600"}},"Font: "),f.createElement("input",{type:"range",min:"10",max:"50",value:w,onChange:U=>T(Number(U.target.value)),style:{width:"80px"}})),f.createElement("div",null,f.createElement("label",{style:{fontSize:"10px",fontWeight:"600"}},"W: "),f.createElement("input",{type:"number",value:he.width,onChange:U=>Z({...he,width:Number(U.target.value)}),style:{width:"60px",padding:"4px",borderRadius:"3px",border:`1px solid ${te.border}`,background:te.input,color:te.text,fontSize:"11px"}})),f.createElement("div",null,f.createElement("label",{style:{fontSize:"10px",fontWeight:"600"}},"H: "),f.createElement("input",{type:"number",value:he.height,onChange:U=>Z({...he,height:Number(U.target.value)}),style:{width:"60px",padding:"4px",borderRadius:"3px",border:`1px solid ${te.border}`,background:te.input,color:te.text,fontSize:"11px"}}))),f.createElement("div",{style:{background:"#f3e8ff",borderBottom:`1px solid ${te.border}`,padding:"6px 10px",display:"flex",gap:"4px",alignItems:"center",overflowX:"auto"}},A.map((U,K)=>f.createElement("button",{key:K,onClick:()=>S(K),style:{padding:"4px 10px",border:k===K?`2px solid ${te.primary}`:`1px solid ${te.border}`,borderRadius:"4px",cursor:"pointer",fontSize:"10px",fontWeight:"600",background:k===K?te.primary:te.hover,color:k===K?"white":te.text}},"P",K+1)),f.createElement("button",{onClick:()=>{P([...A,{imageData:null}]),S(A.length)},style:{padding:"4px 8px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px",fontWeight:"600",background:"#10b981",color:"white"}},f.createElement(eb,{size:11}))),f.createElement("div",{style:{background:"#f3e8ff",borderBottom:`1px solid ${te.border}`,padding:"6px 10px",display:"flex",gap:"4px",flexWrap:"wrap"}},f.createElement("button",{onClick:()=>Ae(),style:{padding:"4px 8px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px",fontWeight:"600",background:"#10b981",color:"white"}},f.createElement(tSe,{size:11})),f.createElement("button",{onClick:()=>{const U=document.createElement("a");U.href=n.current.toDataURL("image/png"),U.download=`${o.title}_p${k+1}.png`,U.click(),H("PNG exported!")},style:{padding:"4px 8px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px",fontWeight:"600",background:"#f59e0b",color:"white"}}," PNG"),f.createElement("button",{onClick:wh,style:{padding:"4px 8px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px",fontWeight:"600",background:"#8b5cf6",color:"white"}},f.createElement(rSe,{size:11})),f.createElement("button",{onClick:()=>ee(o.id),style:{padding:"4px 8px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px",fontWeight:"600",background:"#ef4444",color:"white"}},f.createElement(iSe,{size:11}))),h==="text"&&f.createElement("div",{style:{background:"#f3e8ff",borderBottom:`1px solid ${te.border}`,padding:"8px 10px",display:"flex",gap:"6px"}},f.createElement("input",{type:"text",value:g,onChange:U=>y(U.target.value),onKeyPress:U=>U.key==="Enter"&&Ze(),style:{flex:1,padding:"6px 10px",border:`1px solid ${te.border}`,borderRadius:"4px",fontSize:"12px",outline:"none",background:te.input,color:te.text},placeholder:"Type text..."}),f.createElement("button",{onClick:Ze,style:{padding:"6px 10px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px",fontWeight:"600",background:te.primary,color:"white"}},"Add")),f.createElement("div",{style:{flex:1,background:"#f3f0ff",padding:"12px",display:"flex",justifyContent:"center",alignItems:"flex-start",overflowY:"auto",position:"relative"},onMouseMove:$a,onMouseUp:uu,onMouseLeave:uu},f.createElement("div",{style:{position:"relative",display:"inline-block",marginTop:"12px"}},f.createElement("canvas",{ref:n,width:he.width,height:he.height,onMouseDown:Re,onMouseMove:gt,onMouseUp:an,onMouseLeave:an,style:{border:`1px solid ${te.border}`,borderRadius:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",backgroundColor:"#ffffff",cursor:h==="draw"?"crosshair":"text",display:"block",position:"relative",zIndex:1}}),x.map(U=>f.createElement("div",{key:U.id,onMouseDown:K=>De(K,U.id),onClick:()=>R(U.id),style:{position:"absolute",left:`${U.x}px`,top:`${U.y-U.fontSize}px`,fontSize:`${U.fontSize}px`,color:U.color,cursor:h==="text"?"move":"default",userSelect:"none",padding:"4px 8px",border:D===U.id?`2px solid ${te.primary}`:"none",borderRadius:"3px",background:D===U.id?"rgba(139, 92, 246, 0.1)":"transparent",fontWeight:U.bold?"bold":"normal",fontStyle:U.italic?"italic":"normal",whiteSpace:"nowrap",zIndex:2,lineHeight:"1"}},U.text,D===U.id&&h==="text"&&f.createElement(f.Fragment,null,f.createElement("div",{style:{position:"absolute",top:"-28px",left:0,display:"flex",gap:"2px",fontSize:"9px",background:te.primary,padding:"3px",borderRadius:"3px",zIndex:10}},f.createElement("button",{onClick:K=>{K.stopPropagation(),lt(U.id,{bold:!U.bold})},style:{padding:"1px 3px",background:U.bold?"#fff":"rgba(255,255,255,0.3)",color:"white",border:"none",borderRadius:"2px",cursor:"pointer",fontWeight:"bold",fontSize:"9px"}},"B"),f.createElement("button",{onClick:K=>{K.stopPropagation(),lt(U.id,{italic:!U.italic})},style:{padding:"1px 3px",background:U.italic?"#fff":"rgba(255,255,255,0.3)",color:"white",border:"none",borderRadius:"2px",cursor:"pointer",fontStyle:"italic",fontSize:"9px"}},"I"),f.createElement("button",{onClick:K=>{K.stopPropagation(),Vt(U.id)},style:{padding:"1px 3px",background:"#ff6b6b",color:"white",border:"none",borderRadius:"2px",cursor:"pointer",fontSize:"9px"}},"")),f.createElement("div",{style:{position:"absolute",top:"-12px",right:"-40px",fontSize:"10px",background:te.primary,color:"white",padding:"2px 6px",borderRadius:"3px",whiteSpace:"nowrap",fontWeight:"600",zIndex:10}},U.fontSize,"px"),f.createElement("div",{onMouseDown:K=>Te(K,U.id),style:{position:"absolute",bottom:"-6px",right:"-6px",width:"12px",height:"12px",background:te.primary,border:"2px solid white",borderRadius:"50%",cursor:"ew-resize",boxShadow:"0 0 4px rgba(0,0,0,0.3)",zIndex:10}})))))),pe&&f.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4}},f.createElement("div",{style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)",minWidth:"400px"}},f.createElement("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"700",color:te.text}}," Share Note"),f.createElement("p",{style:{margin:"0 0 8px 0",fontSize:"12px",color:"#666",fontWeight:"600"}},"Send this link to friends:"),f.createElement("div",{style:{display:"flex",gap:"6px",marginBottom:"12px"}},f.createElement("input",{type:"text",value:z,readOnly:!0,style:{flex:1,padding:"8px",border:`1px solid ${te.border}`,borderRadius:"4px",fontSize:"11px",background:te.input}}),f.createElement("button",{onClick:c0,style:{padding:"8px 12px",border:"none",borderRadius:"4px",background:te.primary,color:"white",cursor:"pointer",fontSize:"11px",fontWeight:"600"}},"Copy")),f.createElement("button",{onClick:()=>Me(!1),style:{width:"100%",padding:"8px",border:"none",borderRadius:"4px",background:"#e5e7eb",color:te.text,cursor:"pointer",fontSize:"11px",fontWeight:"600"}},"Close")))):f.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"12px",color:te.text}},f.createElement("h3",{style:{fontSize:"28px",margin:0}},""),f.createElement("p",{style:{fontSize:"14px",fontWeight:600}},"No notes yet"),f.createElement("button",{onClick:j,style:{padding:"10px 16px",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"600",background:"#51cf66",color:"white"}},f.createElement(eb,{size:14})," Create Note"))))},MSe=({user:t,onLogout:e,theme:n})=>{const[r,i]=v.useState(null),[a,o]=v.useState(!1);return v.useEffect(()=>{const s=()=>{var u;let l=null;l=new URLSearchParams(window.location.search).get("share"),!l&&window.location.hash&&(l=(u=window.location.hash.substring(1).split("=")[1])==null?void 0:u.trim()),i(l&&l!==""&&l!=="undefined"?l:null),o(!0)};return s(),window.addEventListener("popstate",s),()=>window.removeEventListener("popstate",s)},[]),a?r&&r.length>0?f.createElement(OSe,{shareCode:r,onBack:()=>{i(null),window.location.hash=""}}):f.createElement(NSe,{user:t,onLogout:e}):f.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",fontSize:"16px"}}," Loading...")};function LSe(){const[t,e]=v.useState(null),[n,r]=v.useState(!0),[i,a]=v.useState(()=>{try{return localStorage.getItem("dayzy_theme")||"light"}catch(h){return console.error("Failed to load theme:",h),"light"}}),[o,s]=v.useState(!0),[l,c]=v.useState(!0);v.useEffect(()=>{console.log(" Checking auth state...");const h=gj(Xn,m=>{console.log(" Auth state:",(m==null?void 0:m.email)||"not logged in"),e(m)});return()=>h()},[]),v.useEffect(()=>{(async()=>{try{const m=Ie(Ee,"config","site"),g=await Xc(m);if(g.exists()){const y=g.data().launchDate,E=new Date(y);if(isNaN(E.getTime())){console.error("Invalid launch date:",y),c(!0),r(!1);return}const b=new Date,w=b>=E;console.log(" Launch check:",{launched:w,now:b.toLocaleString("th-TH"),launchDate:E.toLocaleString("th-TH")}),c(w)}else console.log(" No launch config, treating as launched"),c(!0)}catch(m){console.error(" Error checking launch:",m),c(!0)}finally{r(!1)}})()},[]),v.useEffect(()=>{try{document.documentElement.setAttribute("data-theme",i),localStorage.setItem("dayzy_theme",i)}catch(h){console.error("Failed to save theme:",h)}},[i]);const u=()=>s(!1),d=async()=>{try{await ZS(Xn),e(null)}catch(h){console.error("Logout error:",h)}};return n?f.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:i==="dark"?"#1a1a1a":"#fff",color:i==="dark"?"#fff":"#333",fontSize:"18px"}}," Loading..."):!l&&!t?(console.log(" Showing Coming Soon page"),f.createElement("div",{className:i==="dark"?"dark-mode":"light-mode"},f.createElement($k,null,f.createElement(dt,{path:"/reset-password",element:f.createElement(iM,{theme:i})}),f.createElement(dt,{path:"/privacy-policy",element:f.createElement(aM,null)}),f.createElement(dt,{path:"/terms-of-service",element:f.createElement(oM,null)}),f.createElement(dt,{path:"*",element:f.createElement(ISe,{theme:i})})))):(console.log(" Showing normal app, user:",t==null?void 0:t.email),f.createElement("div",{className:i==="dark"?"dark-mode":"light-mode"},f.createElement($k,null,f.createElement(dt,{path:"/reset-password",element:f.createElement(iM,{theme:i})}),f.createElement(dt,{path:"/privacy-policy",element:f.createElement(aM,null)}),f.createElement(dt,{path:"/terms-of-service",element:f.createElement(oM,null)}),t?f.createElement(f.Fragment,null,f.createElement(dt,{path:"/",element:f.createElement(ER,{user:t,theme:i,setTheme:a})}),f.createElement(dt,{path:"/dashboard",element:f.createElement(ER,{user:t,theme:i,setTheme:a})}),f.createElement(dt,{path:"/admin",element:f.createElement(PSe,{user:t,theme:i})}),f.createElement(dt,{path:"/plan",element:f.createElement(RSe,{user:t,theme:i})}),f.createElement(dt,{path:"/notes",element:f.createElement(MSe,{user:t,onLogout:d,theme:i})}),f.createElement(dt,{path:"/analytics",element:f.createElement(W_e,{user:t,theme:i})}),f.createElement(dt,{path:"/profile",element:f.createElement(ASe,{user:t,theme:i})}),f.createElement(dt,{path:"/notifications",element:f.createElement(xSe,{user:t,theme:i})}),f.createElement(dt,{path:"/settings",element:f.createElement(bSe,{user:t,theme:i,setTheme:a})}),f.createElement(dt,{path:"/developer",element:f.createElement(sSe,{user:t,theme:i,setTheme:a})}),f.createElement(dt,{path:"/help",element:f.createElement(TSe,{user:t,theme:i})}),f.createElement(dt,{path:"/about",element:f.createElement(CSe,{theme:i})}),f.createElement(dt,{path:"/export",element:f.createElement(kSe,{user:t,theme:i})}),f.createElement(dt,{path:"*",element:f.createElement(Bk,{to:"/",replace:!0})})):f.createElement(f.Fragment,null,o?f.createElement(dt,{path:"*",element:f.createElement(_Se,{onEnd:u})}):f.createElement(f.Fragment,null,f.createElement(dt,{path:"/login",element:f.createElement(NX,null)}),f.createElement(dt,{path:"*",element:f.createElement(Bk,{to:"/login",replace:!0})}))))))}yL(document.getElementById("root")).render(f.createElement(A9,null,f.createElement(LSe,null)));
